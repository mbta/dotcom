{"version":3,"file":"stopRedesign.js","mappings":"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","sources":["webpack://site-dotcom/webpack/runtime/chunk loaded","webpack://site-dotcom/webpack/runtime/create fake namespace object","webpack://site-dotcom/./ts/app/channels.ts","webpack://site-dotcom/./ts/components/Alerts.tsx","webpack://site-dotcom/./ts/components/Badge.tsx","webpack://site-dotcom/./ts/components/ErrorPage.tsx","webpack://site-dotcom/./ts/components/ExpandableBlock.tsx","webpack://site-dotcom/./ts/components/Loading.tsx","webpack://site-dotcom/./ts/components/Modal.tsx","webpack://site-dotcom/./ts/helpers/aria-props.ts","webpack://site-dotcom/./ts/helpers/css.ts","webpack://site-dotcom/./ts/helpers/date.ts","webpack://site-dotcom/./ts/helpers/departureInfo.tsx","webpack://site-dotcom/./ts/helpers/fetch-json.ts","webpack://site-dotcom/./ts/helpers/icon.tsx","webpack://site-dotcom/./ts/helpers/keyboard-events-react.ts","webpack://site-dotcom/./ts/helpers/media-breakpoints-react.ts","webpack://site-dotcom/./ts/helpers/media-breakpoints.ts","webpack://site-dotcom/./ts/helpers/mobileDetect.ts","webpack://site-dotcom/./ts/helpers/prediction-helpers.tsx","webpack://site-dotcom/./ts/helpers/render-fa.tsx","webpack://site-dotcom/./ts/helpers/render-svg.tsx","webpack://site-dotcom/./ts/helpers/route-headers.tsx","webpack://site-dotcom/./ts/helpers/stops.ts","webpack://site-dotcom/./ts/helpers/text.ts","webpack://site-dotcom/./ts/helpers/use-fetch.ts","webpack://site-dotcom/./ts/hooks/useAlerts.ts","webpack://site-dotcom/./ts/hooks/useChannel.ts","webpack://site-dotcom/./ts/hooks/useDepartureRow.ts","webpack://site-dotcom/./ts/hooks/useFetch.ts","webpack://site-dotcom/./ts/hooks/useMapConfig.ts","webpack://site-dotcom/./ts/hooks/usePredictionsChannel.ts","webpack://site-dotcom/./ts/hooks/useRoute.ts","webpack://site-dotcom/./ts/hooks/useSchedules.ts","webpack://site-dotcom/./ts/hooks/useStop.ts","webpack://site-dotcom/./ts/leaflet/bounds.ts","webpack://site-dotcom/./ts/leaflet/components/Map.tsx","webpack://site-dotcom/./ts/leaflet/icon.ts","webpack://site-dotcom/./ts/models/alert.ts","webpack://site-dotcom/./ts/models/prediction.ts","webpack://site-dotcom/./ts/models/route-patterns.ts","webpack://site-dotcom/./ts/models/route.ts","webpack://site-dotcom/./ts/stop-redesign-entry.ts","webpack://site-dotcom/./ts/stop/components/AccessAmenitiesModal.tsx","webpack://site-dotcom/./ts/stop/components/BasicTime.tsx","webpack://site-dotcom/./ts/stop/components/DepartureCard.tsx","webpack://site-dotcom/./ts/stop/components/DepartureList.tsx","webpack://site-dotcom/./ts/stop/components/DepartureTimes.tsx","webpack://site-dotcom/./ts/stop/components/DeparturesAndMap.tsx","webpack://site-dotcom/./ts/stop/components/DeparturesFilters.tsx","webpack://site-dotcom/./ts/stop/components/DeparturesWithBadge.tsx","webpack://site-dotcom/./ts/stop/components/DisplayTime.tsx","webpack://site-dotcom/./ts/stop/components/ExternalMapLink.tsx","webpack://site-dotcom/./ts/stop/components/StationInformation.tsx","webpack://site-dotcom/./ts/stop/components/StopMapRedesign.tsx","webpack://site-dotcom/./ts/stop/components/StopPageDepartures.tsx","webpack://site-dotcom/./ts/stop/components/StopPageHeaderRedesign.tsx","webpack://site-dotcom/./ts/stop/components/StopPageRedesign.tsx","webpack://site-dotcom/./ts/stop/components/amenities/AccessibilityAmenityCard.tsx","webpack://site-dotcom/./ts/stop/components/amenities/AmenityCard.tsx","webpack://site-dotcom/./ts/stop/components/amenities/BikeStorageAmenityCard.tsx","webpack://site-dotcom/./ts/stop/components/amenities/ElevatorsAmenityCard.tsx","webpack://site-dotcom/./ts/stop/components/amenities/EscalatorsAmenityCard.tsx","webpack://site-dotcom/./ts/stop/components/amenities/FareSalesAmenityCard.tsx","webpack://site-dotcom/./ts/stop/components/amenities/ParkingAmenityCard.tsx","webpack://site-dotcom/./ts/stop/components/amenities/access-amenities-helpers.tsx","webpack://site-dotcom/./ts/stop/components/icons/AccessibilityIcon.tsx","webpack://site-dotcom/./ts/stop/components/icons/CommuterRailZoneIcon.tsx","webpack://site-dotcom/./ts/stop/components/icons/ModeIcons.tsx","webpack://site-dotcom/./ts/stop/components/icons/ParkingIcon.tsx","webpack://site-dotcom/./ts/stop/components/icons/StopFeatures.tsx","webpack://site-dotcom/./ts/stop/components/sidebar/Accessibility.tsx","webpack://site-dotcom/./ts/stop/models/displayTimeConfig.ts","webpack://site-dotcom/./ts/stop/stop-redesign-loader.tsx","webpack://site-dotcom/./static/images/icon-accessible-default.svg","webpack://site-dotcom/./static/images/icon-accessible-small.svg","webpack://site-dotcom/./static/images/icon-alerts-triangle.svg","webpack://site-dotcom/./static/images/icon-bike.svg","webpack://site-dotcom/./static/images/icon-blue-line-default.svg","webpack://site-dotcom/./static/images/icon-bus-default.svg","webpack://site-dotcom/./static/images/icon-cancelled-default.svg","webpack://site-dotcom/./static/images/icon-commuter-rail-default.svg","webpack://site-dotcom/./static/images/icon-crowding.svg","webpack://site-dotcom/./static/images/icon-elevator.svg","webpack://site-dotcom/./static/images/icon-escalator.svg","webpack://site-dotcom/./static/images/icon-fares.svg","webpack://site-dotcom/./static/images/icon-ferry-default.svg","webpack://site-dotcom/./static/images/icon-green-line-b-small.svg","webpack://site-dotcom/./static/images/icon-green-line-c-small.svg","webpack://site-dotcom/./static/images/icon-green-line-d-small.svg","webpack://site-dotcom/./static/images/icon-green-line-e-small.svg","webpack://site-dotcom/./static/images/icon-green-line-small.svg","webpack://site-dotcom/./static/images/icon-mattapan-line-small.svg","webpack://site-dotcom/./static/images/icon-mode-bus-small.svg","webpack://site-dotcom/./static/images/icon-mode-commuter-rail-small.svg","webpack://site-dotcom/./static/images/icon-mode-ferry-small.svg","webpack://site-dotcom/./static/images/icon-mode-subway-default.svg","webpack://site-dotcom/./static/images/icon-orange-line-small.svg","webpack://site-dotcom/./static/images/icon-realtime-tracking.svg","webpack://site-dotcom/./static/images/icon-red-line-small.svg","webpack://site-dotcom/./static/images/icon-search-reverse-default.svg","webpack://site-dotcom/./static/images/icon-shuttle-default.svg","webpack://site-dotcom/./static/images/icon-silver-line-small.svg","webpack://site-dotcom/./static/images/icon-snow-default.svg","webpack://site-dotcom/./static/images/icon-subway-default.svg","webpack://site-dotcom/./static/images/icon-vehicle-bordered-expanded.svg","webpack://site-dotcom/webpack/bootstrap","webpack://site-dotcom/webpack/runtime/amd define","webpack://site-dotcom/webpack/runtime/compat get default export","webpack://site-dotcom/webpack/runtime/define property getters","webpack://site-dotcom/webpack/runtime/global","webpack://site-dotcom/webpack/runtime/harmony module decorator","webpack://site-dotcom/webpack/runtime/hasOwnProperty shorthand","webpack://site-dotcom/webpack/runtime/make namespace object","webpack://site-dotcom/webpack/runtime/node module decorator","webpack://site-dotcom/webpack/runtime/runtimeId","webpack://site-dotcom/webpack/runtime/jsonp chunk loading","webpack://site-dotcom/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","import { Socket, Channel } from \"phoenix\";\n\ndeclare global {\n  interface Window {\n    channels: { [id: string]: Channel };\n    socket: Socket;\n  }\n}\n\ntype UpdateEventName = \"reset\" | \"add\" | \"update\";\n\ninterface UpdateEvent<DataType> {\n  event: UpdateEventName;\n  data: DataType;\n}\n\ninterface RemoveEvent {\n  event: \"remove\";\n  data: string[];\n}\n\nexport type SocketEvent<DataType> = UpdateEvent<DataType> | RemoveEvent;\n\nexport const isVehicleChannel = (channelId: string): boolean =>\n  (channelId.includes(\"vehicles:\") || channelId.includes(\"vehicles-v2:\")) &&\n  !channelId.includes(\":remove\");\n\nconst joinChannel = <T>(\n  channelId: string,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  handleJoin?: (event: any) => void\n): void => {\n  if (!window.socket) return;\n\n  if (!window.channels[channelId]) {\n    window.channels[channelId] = window.socket.channel(channelId, {});\n  }\n\n  const channel = window.channels[channelId];\n\n  if (![\"joined\", \"joining\"].includes(channel.state)) {\n    channel\n      .join()\n      .receive(\"error\", ({ reason }) => {\n        /* eslint-disable no-console */\n        console.error(`failed to join ${channelId}`, reason);\n        const errorEvent = new CustomEvent<{ error: string }>(channelId, {\n          detail: { error: reason }\n        });\n        document.dispatchEvent(errorEvent);\n      })\n      .receive(\"ok\", event => {\n        console.log(`success joining ${channelId}`);\n        if (handleJoin && event) {\n          handleJoin(event);\n        }\n        if (isVehicleChannel(channelId)) {\n          const [, route_id, direction_id] = channelId.split(\":\");\n          channel.push(\"init\", { route_id, direction_id });\n        }\n      });\n  }\n\n  channel.on(\"data\", (data: T) => {\n    const event = new CustomEvent<T>(channelId, { detail: data });\n    document.dispatchEvent(event);\n  });\n\n  channel.onError((reason: string) => {\n    console.error(`error on channel ${channelId} : ${reason}`);\n    /* eslint-enable no-console */\n    const errorEvent = new CustomEvent<{ error: string }>(channelId, {\n      detail: { error: reason }\n    });\n    document.dispatchEvent(errorEvent);\n  });\n\n  if (isVehicleChannel(channelId)) {\n    const [baseChannel] = channelId.split(\":\");\n    joinChannel(`${baseChannel}:remove`);\n  }\n};\n\nconst leaveChannel = (id: string): void => {\n  if (window.channels && window.channels[id]) {\n    window.channels[id].off(\"data\");\n    window.channels[id].leave();\n    delete window.channels[id];\n  }\n\n  if (isVehicleChannel(id)) {\n    const [baseChannel] = id.split(\":\");\n    leaveChannel(`${baseChannel}:remove`);\n  }\n};\n\nconst setupChannels = (): void => {\n  window.socket = new Socket(\"/socket\", {});\n  window.socket.onClose(event => {\n    if (event.type === \"close\" && !event.wasClean) {\n      // eslint-disable-next-line no-console\n      console.log(\n        \"Socket was forced closed by the browser -- reloading to establish WebSocket connection.\"\n      );\n      window.location.reload();\n    }\n  });\n  window.socket.connect();\n  window.channels = {};\n\n  const joinAllChannels = (): void => {\n    document.querySelectorAll(\"[data-channel]\").forEach(el => {\n      const channelId = el.getAttribute(\"data-channel\");\n      if (channelId) joinChannel(channelId);\n    });\n  };\n\n  document.addEventListener(\"turbolinks:load\", joinAllChannels);\n\n  // leave subscribed channels when navigating away from a page.\n  const leaveAllChannels = (): void => {\n    Object.keys(window.channels).forEach(id => leaveChannel(id));\n  };\n  document.addEventListener(\"turbolinks:before-render\", leaveAllChannels);\n};\n\nexport { joinChannel, leaveChannel };\nexport default setupChannels;\n","import React, { ReactElement, useState } from \"react\";\nimport { Alert as AlertType, Lifecycle } from \"../__v3api\";\nimport { handleReactEnterKeyPress } from \"../helpers/keyboard-events-react\";\nimport { caret } from \"../helpers/icon\";\nimport renderSVG from \"../helpers/render-svg\";\nimport shuttleIcon from \"../../static/images/icon-shuttle-default.svg\";\nimport cancelIcon from \"../../static/images/icon-cancelled-default.svg\";\nimport snowIcon from \"../../static/images/icon-snow-default.svg\";\nimport alertIcon from \"../../static/images/icon-alerts-triangle.svg\";\n\ninterface Props {\n  alerts: AlertType[];\n}\n\nconst alertClassNames = (\n  { priority, description }: AlertType,\n  expanded: boolean\n): string => {\n  const classNames = `c-alert-item c-alert-item--${priority}`;\n  if (description) {\n    if (expanded) {\n      return `${classNames} c-alert-item--expandable c-alert-item--open`;\n    }\n    return `${classNames} c-alert-item--expandable c-alert-item--closed`;\n  }\n  return classNames;\n};\n\nexport const iconForAlert = ({\n  priority,\n  effect\n}: AlertType): ReactElement<HTMLElement> | null => {\n  if (priority === \"low\") return null;\n  if (priority === \"system\")\n    return renderSVG(\"c-svg__icon-alerts-triangle\", alertIcon);\n  switch (effect) {\n    case \"suspension\":\n    case \"cancellation\":\n      return renderSVG(\"c-svg__icon-cancelled-default\", cancelIcon);\n    case \"snow_route\":\n      return renderSVG(\"c-svg__icon-snow-default\", snowIcon);\n    case \"shuttle\":\n      return renderSVG(\"c-svg__icon-shuttle-default\", shuttleIcon);\n    default:\n      return renderSVG(\"c-svg__icon-alerts-triangle\", alertIcon);\n  }\n};\n\nconst humanLifecycle = (lifecycle: Lifecycle): string | null => {\n  switch (lifecycle) {\n    case \"new\":\n    case \"unknown\":\n      return null;\n    case \"upcoming\":\n    case \"ongoing_upcoming\":\n      return \"Upcoming\";\n    case \"ongoing\":\n      return \"Ongoing\";\n    default:\n      return null;\n  }\n};\n\nexport const humanLabelForAlert = ({\n  effect,\n  severity,\n  lifecycle\n}: AlertType): string | null => {\n  if (effect === \"delay\") {\n    switch (severity) {\n      case 0:\n      case 1:\n      case 2:\n        return null;\n      case 3:\n        return \"up to 10 minutes\";\n      case 4:\n        return \"up to 15 minutes\";\n      case 5:\n        return \"up to 20 minutes\";\n      case 6:\n        return \"up to 25 minutes\";\n      case 7:\n        return \"up to 30 minutes\";\n      case 8:\n        return \"30+ minutes\";\n      case 9:\n        return \"more than an hour\";\n      default:\n        return humanLifecycle(lifecycle);\n    }\n  }\n  return humanLifecycle(lifecycle);\n};\n\nexport const alertLabel = (alert: AlertType): ReactElement<HTMLElement> => {\n  const alertClasses = [\"u-small-caps\", \"c-alert-item__badge\"];\n  if (alert.priority === \"system\") {\n    alertClasses.push(\"c-alert-item__badge--system\");\n  }\n  if (\n    alert.lifecycle === \"upcoming\" ||\n    alert.lifecycle === \"ongoing_upcoming\"\n  ) {\n    alertClasses.push(\"c-alert-item__badge--upcoming\");\n  }\n  return (\n    <span className={alertClasses.join(\" \")}>{humanLabelForAlert(alert)}</span>\n  );\n};\n\nexport const effectNameForAlert = (alert: AlertType): string =>\n  alert.effect\n    .split(\"_\")\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(\" \");\n\nconst caretIcon = (\n  noDescription: boolean,\n  expanded: boolean\n): ReactElement<HTMLElement> | null => {\n  if (noDescription) return null;\n  return caret(\"c-expandable-block__header-caret--black\", expanded);\n};\n\nconst alertDescription = (alert: AlertType): ReactElement<HTMLElement> => (\n  <div\n    className={`c-alert-item__bottom c-alert-item__buttom--${alert.priority}`}\n    // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    tabIndex={0}\n    role=\"region\"\n    aria-labelledby={`alert-${alert.id}`}\n    ref={panel => panel && panel.focus()}\n  >\n    <div className=\"c-alert-item__description\">\n      <div\n        // eslint-disable-next-line react/no-danger\n        dangerouslySetInnerHTML={{\n          __html: alert.description\n        }}\n      />\n      <div className=\"c-alert-item__updated\">{alert.updated_at}</div>\n    </div>\n  </div>\n);\n\nexport const Alert = ({\n  alert\n}: {\n  alert: AlertType;\n}): ReactElement<HTMLElement> => {\n  const [expanded, toggleExpanded] = useState(false);\n  const onClick = (): void => toggleExpanded(!expanded);\n\n  const alertUrl = alert.url ? alert.url : \"\";\n\n  // remove [http:// | https:// | www.] from alert URL:\n  let strippedAlertUrl = alertUrl.replace(/(https?:\\/\\/)?(www\\.)?/i, \"\");\n\n  // capitalize 'mbta' (special case):\n  strippedAlertUrl = strippedAlertUrl.replace(/mbta/gi, \"MBTA\");\n\n  const headerContent = alert.url\n    ? `${alert.header}<span>&nbsp;</span><a href=\"${alert.url}\" target=\"_blank\">${strippedAlertUrl}</a>`\n    : alert.header;\n\n  return (\n    <li\n      id={`alert-${alert.id}`}\n      tabIndex={0}\n      className={alertClassNames(alert, expanded)}\n      onClick={onClick}\n      onKeyPress={e => handleReactEnterKeyPress(e, onClick)}\n      aria-expanded={expanded}\n      // eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n      role=\"button\"\n    >\n      <div className=\"c-alert-item__icon\">{iconForAlert(alert)}</div>\n      <div className=\"c-alert-item__top\">\n        <div className=\"c-alert-item__top-text-container\">\n          <div className=\"c-alert-item__effect\">\n            {`${effectNameForAlert(alert)} `}\n            {humanLabelForAlert(alert) ? alertLabel(alert) : null}\n          </div>\n          {/* eslint-disable-next-line react/no-danger */}\n          <div dangerouslySetInnerHTML={{ __html: headerContent }} />\n        </div>\n        {alert.description && (\n          <div className=\"c-alert-item__top-caret-container\">\n            {caretIcon(alert.description === \"\", expanded)}\n          </div>\n        )}\n      </div>\n      {expanded && alert.description ? alertDescription(alert) : null}\n      {/* No javascript support */}\n      {alert.description ? (\n        <noscript>{alertDescription(alert)}</noscript>\n      ) : null}\n    </li>\n  );\n};\n\nconst Alerts = ({ alerts }: Props): ReactElement<HTMLElement> => (\n  <div className=\"container\">\n    <div className=\"page-section\">\n      <ul className=\"c-alert-group\">\n        {alerts.map((alert: AlertType) => (\n          <Alert key={alert.id} alert={alert} />\n        ))}\n      </ul>\n    </div>\n  </div>\n);\n\nexport default Alerts;\n","import React from \"react\";\n\nconst Badge = ({\n  text,\n  contextText,\n  bgClass\n}: {\n  text: string;\n  contextText?: string;\n  bgClass?: string;\n}): JSX.Element => {\n  return (\n    <div\n      className={`${bgClass ||\n        \"u-error-background\"} font-weight-bold ps-8 pe-8 fs-14`}\n      style={{ borderRadius: \"0.75rem\" }}\n    >\n      {/* The purpose of this block is to have invisble text for screen readers */}\n      {contextText && <span className=\"sr-only\">{contextText}</span>}\n      {text}\n    </div>\n  );\n};\n\nexport default Badge;\n","import React from \"react\";\nimport { FallbackRender } from \"@sentry/react\";\n\n// Adapted from the templates in SiteWeb.ErrorView\n// To be used in an ErrorBoundary\nconst ErrorPage: FallbackRender = errorData => {\n  // eslint-disable-next-line no-console\n  console.error(\"from Sentry\", JSON.stringify(errorData));\n  return (\n    <div className=\"container error-page\">\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <h1 className=\"mt-1\">Oh no! We&#39;re experiencing delays.</h1>\n          <p className=\"error-paragraph u-bold\">\n            Something went wrong on our end.\n          </p>\n          <div className=\"error-links\">\n            Go to{\" \"}\n            <a className=\"c-call-to-action\" href=\"/\">\n              {`the MBTA's home page`}\n            </a>{\" \"}\n            or{\" \"}\n            <a className=\"c-call-to-action\" href=\"/customer-support\">\n              report an issue\n            </a>\n            .\n          </div>\n        </div>\n        <div className=\"col-md-6\">\n          <img alt=\"\" src=\"/images/error-bus.gif\" className=\"w-100\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ErrorPage;\n","import React, { ReactElement, useState } from \"react\";\nimport { isString } from \"lodash\";\nimport { handleReactEnterKeyPress } from \"../helpers/keyboard-events-react\";\nimport renderSvg from \"../helpers/render-svg\";\nimport renderFa from \"../helpers/render-fa\";\nimport { caret } from \"../helpers/icon\";\n\nexport interface ExpandableBlockHeader {\n  text: string | ReactElement<HTMLElement>;\n  iconSvgText: string | null;\n  classOverride?: string;\n}\n\n// If dispatch is provided in Props, the block will not\n// track its own state -- the parent is fully responsible\n// for tracking the expanded/collapsed state.\n// If dispatch is not provided, the block will\n// track its own state.\ninterface Props {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  dispatch?: React.Dispatch<any>;\n  notifyExpanded?: (isExpanded: boolean) => void;\n  initiallyExpanded: boolean;\n  initiallyFocused?: boolean;\n  header: ExpandableBlockHeader;\n  children: ReactElement<HTMLElement>;\n  id: string;\n  panelClassName?: string;\n  preventScroll?: boolean;\n}\n\ninterface State {\n  expanded: boolean;\n  focused?: boolean;\n}\n\nexport interface ClickExpandableBlockAction {\n  type: \"CLICK_EXPANDABLE_BLOCK\";\n  payload: {\n    expanded: boolean;\n    focused: boolean;\n    id: string;\n  };\n}\n\nconst ExpandableBlock = (props: Props): ReactElement<HTMLElement> => {\n  const {\n    header: { text, iconSvgText, classOverride },\n    dispatch,\n    notifyExpanded,\n    initiallyExpanded,\n    initiallyFocused,\n    children,\n    id,\n    panelClassName,\n    preventScroll\n  } = props;\n\n  const initialState = {\n    expanded: initiallyExpanded,\n    focused: initiallyFocused\n  };\n\n  const action: ClickExpandableBlockAction = {\n    type: \"CLICK_EXPANDABLE_BLOCK\",\n    payload: {\n      expanded: initiallyExpanded === true,\n      focused: initiallyFocused === true,\n      id\n    }\n  };\n\n  const [hookedState, toggleExpanded] = useState(initialState);\n  const { state, onClick } = dispatch\n    ? {\n        state: initialState,\n        onClick: () => dispatch(action)\n      }\n    : {\n        state: hookedState,\n        onClick: () => {\n          const expanded = !hookedState.expanded;\n          toggleExpanded({ expanded, focused: true });\n          if (notifyExpanded) notifyExpanded(expanded);\n        }\n      };\n  const { expanded, focused }: State = state;\n  const headerId = `header-${id}`;\n  const panelId = `panel-${id}`;\n  const iconHelper = iconSvgText?.slice(0, 3) !== \"fa-\" ? renderSvg : renderFa;\n  const classOverrideString = isString(classOverride) ? classOverride : \"\";\n\n  return (\n    <>\n      <h3\n        className={`c-expandable-block__header ${classOverrideString}`}\n        tabIndex={0}\n        id={headerId}\n        aria-expanded={expanded}\n        aria-controls={panelId}\n        // eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n        role=\"button\"\n        onClick={onClick}\n        onKeyPress={e => handleReactEnterKeyPress(e, onClick)}\n      >\n        {iconSvgText\n          ? iconHelper(\"c-expandable-block__header-icon\", iconSvgText)\n          : null}\n        <div className=\"c-expandable-block__header-text\">\n          {text}\n          {caret(\"c-expandable-block__header-caret\", expanded)}\n        </div>\n      </h3>\n      {expanded ? (\n        <div\n          className={`c-expandable-block__panel ${panelClassName || \"\"}`}\n          // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n          tabIndex={0}\n          role=\"region\"\n          id={panelId}\n          aria-labelledby={headerId}\n          ref={panel =>\n            panel &&\n            focused &&\n            panel.focus({\n              preventScroll: !!preventScroll\n            })\n          }\n        >\n          {children}\n        </div>\n      ) : null}\n      {/* No javascript support */}\n      <noscript>\n        <style>{`#${headerId} { display: none; }`}</style>\n        <h3 className=\"c-expandable-block__header\">\n          {iconSvgText\n            ? renderSvg(\"c-expandable-block__header-icon\", iconSvgText)\n            : null}\n          {text}\n          {caret(\"c-expandable-block__header-caret\", true)}\n        </h3>\n        <div className=\"c-expandable-block__panel\" role=\"region\">\n          {children}\n        </div>\n      </noscript>\n    </>\n  );\n};\n\nexport default ExpandableBlock;\n","import React, { ReactElement } from \"react\";\n\nconst Loading = (): ReactElement<HTMLElement> => (\n  <div className=\"c-spinner__container\">\n    <div className=\"c-spinner\">Loading...</div>\n  </div>\n);\n\nexport default Loading;\n","import React, {\n  MouseEvent,\n  ReactElement,\n  ReactNode,\n  useEffect,\n  useLayoutEffect,\n  useRef\n} from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { createFocusTrap } from \"focus-trap\";\nimport { handleReactExitKeyPress } from \"../helpers/keyboard-events-react\";\nimport {\n  AriaLabel,\n  AriaLabelledBy,\n  labelOrDescribedBy\n} from \"../helpers/aria-props\";\n\ninterface Props {\n  children: ReactNode;\n  closeText?: string | ReactElement<HTMLElement>;\n  role?: \"dialog\" | \"alertdialog\";\n  ariaLabel: AriaLabel | AriaLabelledBy;\n  focusElementId?: string; // a selector string to the DOM node that will receive focus when the model is first opened\n  className?: string;\n  closeModal: () => void;\n}\n\ninterface ModalContentProps {\n  children: ReactNode;\n  closeText: string | ReactElement<HTMLElement>;\n  role: string;\n  ariaLabel: AriaLabel | AriaLabelledBy;\n  closeModal: () => void;\n  focusElementId: string;\n  bodyPadding: string;\n  scrollBarPadding: number;\n  className?: string;\n}\n\nconst ModalContent = ({\n  children,\n  closeText,\n  closeModal,\n  role,\n  ariaLabel,\n  focusElementId,\n  bodyPadding,\n  scrollBarPadding,\n  className = \"\"\n}: ModalContentProps): ReactElement<HTMLElement> => {\n  const asideRef = useRef<HTMLElement>(null);\n  const onClickAway = (e: MouseEvent): void => {\n    if (e.target === asideRef.current) closeModal();\n  };\n\n  // In Chrome (and others?), swapping out the modal content doesn't reset the\n  // scroll position. Here we reset it manually whenever the content changes.\n  const scrollRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (scrollRef.current && scrollRef.current.scrollTo) {\n      scrollRef.current.scrollTo({ top: 0 });\n    }\n  }, [children]);\n\n  useEffect(() => {\n    document.addEventListener(\"turbolinks:before-visit\", closeModal, {\n      passive: true\n    });\n\n    return () =>\n      document.removeEventListener(\"turbolinks:before-visit\", closeModal);\n  }, [closeModal]);\n\n  useLayoutEffect(() => {\n    // Activate trap and disable scroll on background body\n    const trap = createFocusTrap(\"#modal-cover\", {\n      initialFocus: `#${focusElementId}`,\n      clickOutsideDeactivates: true,\n      preventScroll: true\n    });\n    trap.activate();\n\n    const bodyWrapper = document.getElementById(\"body-wrapper\");\n    if (bodyWrapper) {\n      // aria-hidden for mobile devices where we want to emulate \"focus\" behavior\n      bodyWrapper.setAttribute(\"aria-hidden\", \"true\");\n      document.body.classList.add(\"modal-open\");\n      bodyWrapper.style.paddingRight = `${scrollBarPadding}px`;\n    }\n\n    // Deactivate\n    return () => {\n      if (bodyWrapper) {\n        bodyWrapper.setAttribute(\"aria-hidden\", \"false\");\n        document.body.classList.remove(\"modal-open\");\n        bodyWrapper.style.paddingRight = bodyPadding;\n      }\n      trap.deactivate();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return createPortal(\n    // This does have a role\n    // eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions\n    <aside\n      ref={asideRef}\n      aria-modal\n      {...labelOrDescribedBy(ariaLabel)}\n      role={role}\n      id=\"modal-cover\"\n      className=\"c-modal__cover\"\n      tabIndex={-1}\n      onKeyDown={e => handleReactExitKeyPress(e, closeModal)}\n      onClick={e => onClickAway(e)}\n    >\n      <div ref={scrollRef} className={`c-modal ${className}`}>\n        <button\n          id=\"modal-close\"\n          className=\"btn btn-secondary c-modal__close\"\n          onClick={() => closeModal()}\n          type=\"button\"\n        >\n          {closeText}\n        </button>\n        <div className=\"c-modal__content\">{children}</div>\n      </div>\n    </aside>,\n    document.body\n  );\n};\n\ninterface ModalWithNoScrollProps extends Props {\n  priorPadding: string;\n  paddingRight: number;\n}\n\nconst Modal = ({\n  children,\n  closeText = \"Close\",\n  role = \"dialog\",\n  ariaLabel,\n  focusElementId = \"modal-close\",\n  priorPadding,\n  paddingRight,\n  className,\n  closeModal\n}: ModalWithNoScrollProps): ReactElement<HTMLElement> | null => (\n  <ModalContent\n    bodyPadding={priorPadding}\n    scrollBarPadding={paddingRight}\n    closeText={closeText}\n    role={role}\n    ariaLabel={ariaLabel}\n    focusElementId={focusElementId}\n    className={className}\n    closeModal={closeModal}\n  >\n    {children}\n  </ModalContent>\n);\n\n// Wrap modal to account for disabling scroll bar on background body\nconst WrappedModal = (props: Props): ReactElement<HTMLElement> | null => {\n  if (typeof document !== \"undefined\") {\n    const bodyWrapper = document.getElementById(\"body-wrapper\");\n    const priorPadding =\n      (bodyWrapper && bodyWrapper.style.paddingRight) || \"0px\";\n    const paddingRight = bodyWrapper\n      ? window.innerWidth - bodyWrapper.clientWidth\n      : 0;\n    return (\n      <Modal\n        {...props}\n        priorPadding={priorPadding}\n        paddingRight={paddingRight}\n      />\n    );\n  }\n  /* istanbul ignore next */\n  return null;\n};\n\nexport default WrappedModal;\n","export type AriaLabelling = AriaLabel | AriaLabelledBy;\n\nexport interface AriaLabel {\n  label: string;\n}\n\nexport interface AriaLabelledBy {\n  elementId: string;\n}\n\ninterface AriaLabelProp {\n  \"aria-label\": string;\n}\n\ninterface AriaLabelledByProp {\n  \"aria-labelledby\": string;\n}\n\nconst isLabel = (label: AriaLabelling): label is AriaLabel =>\n  (label as AriaLabel).label !== undefined;\n\nexport const labelOrDescribedBy = (\n  label: AriaLabel | AriaLabelledBy\n): AriaLabelProp | AriaLabelledByProp => {\n  if (isLabel(label)) {\n    return { \"aria-label\": label.label };\n  }\n  return { \"aria-labelledby\": label.elementId };\n};\n","import {\n  isABusRoute,\n  isACommuterRailRoute,\n  isAGreenLineRoute,\n  isASilverLineRoute\n} from \"../models/route\";\nimport { Route } from \"../__v3api\";\n\nexport const routeToCSSClass = (route: string): string =>\n  route.toLowerCase().replace(/[ _]/g, \"-\");\n\nexport const busClass = (route: Route): string =>\n  isABusRoute(route) && !isASilverLineRoute(route) ? \"bus-route-sign\" : \"\";\n\nexport const routeToModeName = (route: Route): string => {\n  if (isACommuterRailRoute(route)) return \"commuter-rail\";\n  if (route.type === 4) return \"ferry\";\n  if (route.id === \"Red\" || route.id === \"Mattapan\") return \"red-line\";\n  if (route.id === \"Orange\") return \"orange-line\";\n  if (route.id === \"Blue\") return \"blue-line\";\n  if (isAGreenLineRoute(route)) return \"green-line\";\n  if (isASilverLineRoute(route)) return \"silver-line\";\n  if (isABusRoute(route)) return \"bus\";\n  return \"unknown\";\n};\n\nexport const routeBgClass = (route: Route): string =>\n  `u-bg--${routeToModeName(route)}`;\n","import {\n  differenceInSeconds,\n  getMinutes,\n  parseISO,\n  secondsInHour,\n  secondsInMinute\n} from \"date-fns\";\nimport { formatInTimeZone } from \"date-fns-tz\";\n\nconst BOSTON_TIMEZONE = \"America/New_York\";\n\n// this returns a Date() in the browser time zone, unlike new Date(unformatted)\nexport const stringToDateObject = (unformatted: string): Date => {\n  const [year, month, day] = unformatted\n    .split(/-/)\n    .map(part => Number.parseInt(part, 10));\n\n  // Remember that months in JS are 0-indexed for some reason, hence \"month - 1\".\n  const parsedDate = new Date(year, month - 1, day);\n  return parsedDate;\n};\n\n// Returns a date in the form of \"2019-08-07\"\nexport const dateObjectToString = (date: Date): string =>\n  [\n    date.getFullYear(),\n    `0${date.getMonth() + 1}`.slice(-2),\n    `0${date.getDate()}`.slice(-2)\n  ].join(\"-\");\n\n// Returns a date in the form of \"August 7, 2019\"\nexport const formattedDate = (unformatted: string): string => {\n  const parsedDate = stringToDateObject(unformatted);\n  return parsedDate.toLocaleDateString(\"en-US\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n    timeZone: \"UTC\"\n  });\n};\n\n// Returns a date in the form of \"Aug 7\"\nexport const shortDate = (date: Date): string =>\n  date.toLocaleDateString(\"en-US\", {\n    month: \"short\",\n    day: \"numeric\",\n    timeZone: \"UTC\"\n  });\n\nexport const compareStringTimes = (\n  timeStr1: string[],\n  timeStr2: string[]\n): string => {\n  const today = new Date();\n  const dateFormatted = new Intl.DateTimeFormat(\"en-US\").format(today);\n\n  const fullDate1 = `${dateFormatted} ${timeStr1.join(\"\")}`; // \"11/24/2013 2:10 PM\"\n  const fullDate2 = `${dateFormatted} ${timeStr2.join(\"\")}`;\n\n  const timeInMs1 = new Date(fullDate1).getTime();\n  const timeInMs2 = new Date(fullDate2).getTime();\n\n  let comparison = \"eq\";\n  if (timeInMs1 < timeInMs2) {\n    comparison = \"lt\";\n  } else if (timeInMs1 > timeInMs2) {\n    comparison = \"gt\";\n  }\n  return comparison;\n};\n\nexport const formatToBostonTime = (\n  dateTimeString: string | Date,\n  overrideFormat?: string\n): string => {\n  const dateTime =\n    typeof dateTimeString === \"string\"\n      ? parseISO(dateTimeString)\n      : dateTimeString;\n  let formatString = \"h:mm aa\"; // 5:00 AM\n  if (getMinutes(dateTime) === 0) {\n    formatString = \"h aa\"; // 5 AM\n  }\n  formatString = overrideFormat !== undefined ? overrideFormat : formatString;\n  return formatInTimeZone(dateTime, BOSTON_TIMEZONE, formatString);\n};\n\nexport const formatRelativeTime = (\n  time: Date,\n  targetDate: Date = new Date()\n): string => {\n  const seconds = differenceInSeconds(time, targetDate);\n  if (seconds <= 60) {\n    return \"<1 minute away\";\n  }\n  if (seconds < secondsInHour) {\n    return `${Math.floor(seconds / secondsInMinute)} min`;\n  }\n\n  return formatToBostonTime(time, \"h:mm aa\");\n};\n\nexport const isSameDayInBoston = (\n  dateTime1: Date | undefined,\n  dateTime2: Date | undefined\n): boolean => {\n  // if there is no day to compare then the it should be the same day\n  if (!dateTime1 || !dateTime2) {\n    return true;\n  }\n  // returns strings in mm/dd/yyyy format\n  const date1InBoston = dateTime1.toLocaleDateString(\"en-US\", {\n    timeZone: BOSTON_TIMEZONE\n  });\n  const date2InBoston = dateTime2.toLocaleDateString(\"en-US\", {\n    timeZone: BOSTON_TIMEZONE\n  });\n\n  return date1InBoston === date2InBoston;\n};\n\nexport default formattedDate;\n","import React from \"react\";\nimport {\n  chain,\n  concat,\n  difference,\n  find,\n  keyBy,\n  keys,\n  map,\n  sortBy\n} from \"lodash\";\nimport { PredictionWithTimestamp } from \"../models/predictions\";\nimport { ScheduleWithTimestamp } from \"../models/schedules\";\nimport { isCancelled, isDelayed, isSkipped } from \"./prediction-helpers\";\nimport { DepartureInfo } from \"../models/departureInfo\";\nimport {\n  isABusRoute,\n  isACommuterRailRoute,\n  isSubwayRoute\n} from \"../models/route\";\nimport { DirectionId, Route } from \"../__v3api\";\nimport DisplayTime from \"../stop/components/DisplayTime\";\nimport { getInfoKey } from \"../stop/models/displayTimeConfig\";\nimport { RoutePatternWithPolyline } from \"../models/route-patterns\";\n\nexport const SUBWAY = \"subway\";\nexport const BUS = \"bus\";\nexport const COMMUTER_RAIL = \"commuter_rail\";\nexport const FERRY = \"ferry\";\n\nconst toRouteMode = (\n  route: Route\n): typeof SUBWAY | typeof BUS | typeof COMMUTER_RAIL | typeof FERRY => {\n  if (isSubwayRoute(route)) {\n    return SUBWAY;\n  }\n  if (isABusRoute(route)) {\n    return BUS;\n  }\n  if (isACommuterRailRoute(route)) {\n    return COMMUTER_RAIL;\n  }\n  return FERRY;\n};\n\nconst departureInfoToTime = (departureInfo: DepartureInfo): Date => {\n  // If there isn't a prediction there should be a schedule\n  return departureInfo.prediction && departureInfo.prediction.time\n    ? departureInfo.prediction.time\n    : departureInfo.schedule!.time;\n};\n\nconst getNextUnCancelledDeparture = (\n  departureInfos: DepartureInfo[]\n): DepartureInfo | undefined => {\n  return find(departureInfos, (di: DepartureInfo) => !di.isCancelled);\n};\n\nconst displayInfoContainsPrediction = (\n  departureInfo: DepartureInfo\n): boolean => {\n  return !!departureInfo.prediction;\n};\n\nconst mergeIntoDepartureInfo = (\n  schedules: ScheduleWithTimestamp[],\n  predictions: PredictionWithTimestamp[]\n): DepartureInfo[] => {\n  const schedulesByTripId = keyBy(schedules, \"trip.id\");\n  const predictionsByTripId = keyBy(predictions, \"trip.id\");\n  const scheduleTripIds = keys(schedulesByTripId);\n  const predictionTripIds = keys(predictionsByTripId);\n\n  // All the schedules with and without predictions\n  const scheduleDirectionInfo = map(\n    schedulesByTripId,\n    (schedule, tripId): DepartureInfo => {\n      // prediction could be undefined\n      const prediction = predictionsByTripId[tripId];\n      return {\n        prediction,\n        schedule,\n        route: schedule.route,\n        trip: schedule.trip,\n        isCancelled: isCancelled(prediction),\n        isSkipped: isSkipped(prediction),\n        isDelayed: isDelayed(prediction, schedule),\n        routeMode: toRouteMode(schedule.route)\n      };\n    }\n  );\n\n  const unmatchedPredictionTripIds = difference(\n    predictionTripIds,\n    scheduleTripIds\n  );\n  // All the predictions with no schedules\n  const predictionDirectionInfo = map(\n    unmatchedPredictionTripIds,\n    (tripId: string): DepartureInfo => {\n      const prediction = predictionsByTripId[tripId];\n      return {\n        prediction,\n        route: prediction.route,\n        trip: prediction.trip,\n        isCancelled: isCancelled(prediction),\n        isSkipped: isSkipped(prediction),\n        routeMode: toRouteMode(prediction.route)\n      } as DepartureInfo;\n    }\n  );\n\n  const departureInfos = concat(scheduleDirectionInfo, predictionDirectionInfo);\n  const sortedDepartureInfo = sortBy(departureInfos, di => {\n    // prioritize sorting by predictions\n    if (di.prediction && di.prediction.time) {\n      return di.prediction.time;\n    }\n    return di.schedule?.time;\n  });\n\n  return sortedDepartureInfo;\n};\n\nconst isAtDestination = (\n  stopName: string,\n  route: Route,\n  directionId: DirectionId\n): boolean => {\n  const destination = route.direction_destinations[directionId];\n  if (destination) {\n    return destination.includes(stopName) && !destination.includes(\" or \");\n  }\n  return false;\n};\n\nconst isCommuterRail = (departureInfo: DepartureInfo): boolean => {\n  return departureInfo?.routeMode === \"commuter_rail\";\n};\n\nconst DefaultWrapper: React.FunctionComponent<unknown> = ({ children }) => (\n  <li>{children}</li>\n);\n/**\n * From a list of `DepartureInfo[]`, generate a list of `<DisplayTime />`.\n * Each `<DisplayTime />` will recieve the `isCR` and `targetDate` props.\n *\n * This function can optionally\n * - wrap each `<DisplayTime />` in a specified wrapper element, `WrapperEl`\n * - truncate the list to a desired `listLength` value\n */\nconst departuresListFromInfos = (\n  departureInfos: DepartureInfo[],\n  isCR: boolean,\n  targetDate?: Date,\n  listLength?: number,\n  omitCancelledAndSkipped = false,\n  WrapperEl: typeof DefaultWrapper = DefaultWrapper\n): React.ReactElement[] => {\n  // optional cutoff time, before which we won't show schedules.\n  // just used with subway for now.\n  const predictionTimeCutoff = chain(departureInfos)\n    .filter(d => d.routeMode === SUBWAY)\n    .maxBy(\"prediction.time\")\n    .value()?.prediction!.time;\n\n  return chain(departureInfos)\n    .reject(\n      departure =>\n        omitCancelledAndSkipped &&\n        (!!departure.isCancelled || !!departure.isSkipped)\n    )\n    .omitBy(\n      ({ prediction, schedule }) =>\n        // omit schedule-only departures that are before latest prediction time\n        predictionTimeCutoff &&\n        !prediction &&\n        schedule &&\n        schedule.time <= predictionTimeCutoff\n    )\n    .map(d => (\n      <WrapperEl key={getInfoKey(d)}>\n        <DisplayTime departure={d} isCR={isCR} targetDate={targetDate} />\n      </WrapperEl>\n    ))\n    .slice(0, listLength)\n    .value();\n};\n\nconst departureInfoInRoutePatterns = (\n  departureInfo: DepartureInfo,\n  routePatterns: RoutePatternWithPolyline[]\n): boolean => {\n  const isMatch = !!routePatterns.find(\n    rp => rp.id === departureInfo.trip.route_pattern_id\n  );\n  // This second case is needed for the edge case where the route pattern is\n  // canonical but the schedules/predictions are not serving canonical route\n  // patterns (e.g. due to shuttles or other disruptions)\n  const isSimilar = !!routePatterns.find(\n    rp =>\n      rp.headsign === departureInfo.trip.headsign &&\n      rp.route_id === departureInfo.route.id\n  );\n  return isMatch || isSimilar;\n};\n\nexport {\n  mergeIntoDepartureInfo,\n  departureInfoToTime,\n  displayInfoContainsPrediction,\n  getNextUnCancelledDeparture,\n  isAtDestination,\n  isCommuterRail,\n  departuresListFromInfos,\n  departureInfoInRoutePatterns\n};\n","export const isFetchFailed = <T>(r: FetchResult<T>): r is FetchFailed =>\n  r && typeof r === \"object\" && \"statusText\" in r;\n\nexport const throwIfFetchFailed = <T>(result: FetchResult<T>): T => {\n  if (isFetchFailed(result)) {\n    throw new Error(`Fetch failed: ${result}`);\n  }\n\n  return result;\n};\n\nexport type FetchFailed = Response;\nexport type FetchResult<T> = T | FetchFailed;\nexport const fetchJson = async <T>(\n  ...args: Parameters<typeof fetch>\n): Promise<FetchResult<T>> => {\n  const resp = await fetch(...args);\n  if (!resp.ok) {\n    return resp;\n  }\n\n  return resp.json();\n};\n\nexport const fetchJsonOrThrow = async <T>(\n  ...args: Parameters<typeof fetch>\n): Promise<T> => fetchJson<T>(...args).then(throwIfFetchFailed);\n","import React, { ReactElement } from \"react\";\nimport renderSvg from \"./render-svg\";\nimport { isASilverLineRoute } from \"../models/route\";\nimport accessibleIconSvg from \"../../static/images/icon-accessible-small.svg\";\nimport alertIconSvg from \"../../static/images/icon-alerts-triangle.svg\";\nimport blueLineIconSvg from \"../../static/images/icon-blue-line-default.svg\";\nimport busIconSvg from \"../../static/images/icon-mode-bus-small.svg\";\nimport commuterRailIconSvg from \"../../static/images/icon-mode-commuter-rail-small.svg\";\nimport ferryIconSvg from \"../../static/images/icon-mode-ferry-small.svg\";\nimport genericSubwayIconSvg from \"../../static/images/icon-mode-subway-default.svg\";\nimport greenLineIconSvg from \"../../static/images/icon-green-line-small.svg\";\nimport greenBLineIconSvg from \"../../static/images/icon-green-line-b-small.svg\";\nimport greenCLineIconSvg from \"../../static/images/icon-green-line-c-small.svg\";\nimport greenDLineIconSvg from \"../../static/images/icon-green-line-d-small.svg\";\nimport greenELineIconSvg from \"../../static/images/icon-green-line-e-small.svg\";\nimport mattapanLineIconSvg from \"../../static/images/icon-mattapan-line-small.svg\";\nimport orangeLineIconSvg from \"../../static/images/icon-orange-line-small.svg\";\nimport redLineIconSvg from \"../../static/images/icon-red-line-small.svg\";\nimport silverLineIconSvg from \"../../static/images/icon-silver-line-small.svg\";\nimport vehicleArrowSvg from \"../../static/images/icon-vehicle-bordered-expanded.svg\";\nimport searchIconSvg from \"../../static/images/icon-search-reverse-default.svg\";\nimport crowdingIconSvg from \"../../static/images/icon-crowding.svg\";\nimport bikeIconSvg from \"../../static/images/icon-bike.svg\";\nimport escalatorIconSvg from \"../../static/images/icon-escalator.svg\";\nimport elevatorIconSvg from \"../../static/images/icon-elevator.svg\";\nimport faresIconSvg from \"../../static/images/icon-fares.svg\";\n\nimport renderFa from \"./render-fa\";\n\nexport const accessibleIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, accessibleIconSvg, false);\n\nexport const alertIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, alertIconSvg, false);\n\nexport const blueLineIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, blueLineIconSvg, false);\n\nexport const busIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, busIconSvg, false);\n\nexport const commuterRailIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, commuterRailIconSvg, false);\n\nexport const ferryIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, ferryIconSvg, false);\n\nexport const genericSubwayIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, genericSubwayIconSvg, false);\n\nexport const greenLineIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, greenLineIconSvg, false);\n\nexport const greenBLineIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, greenBLineIconSvg, false);\n\nexport const greenCLineIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, greenCLineIconSvg, false);\n\nexport const greenDLineIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, greenDLineIconSvg, false);\n\nexport const greenELineIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, greenELineIconSvg, false);\n\nexport const mattapanLineIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, mattapanLineIconSvg, false);\n\nexport const orangeLineIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, orangeLineIconSvg, false);\n\nexport const parkingIcon = (className: string = \"\"): JSX.Element =>\n  renderFa(className, \"fa-square-parking\", false);\n\nexport const redLineIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, redLineIconSvg, false);\n\nexport const silverLineIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, silverLineIconSvg, false);\n\nexport const vehicleArrowIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, vehicleArrowSvg, false);\n\nexport const searchIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, searchIconSvg, false);\n\nexport const bikeIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, bikeIconSvg, false);\nexport const escalatorIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, escalatorIconSvg, false);\nexport const elevatorIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, elevatorIconSvg, false);\nexport const faresIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(className, faresIconSvg, false);\n\nexport const modeIcon = (routeId: string): JSX.Element | undefined => {\n  if (routeId.startsWith(\"CR-\")) return commuterRailIcon(\"c-svg__icon\");\n  if (routeId.startsWith(\"Boat-\")) return ferryIcon(\"c-svg__icon\");\n  if (routeId === \"Blue\") return blueLineIcon(\"c-svg__icon\");\n  if (routeId === \"Green\") return greenLineIcon(\"c-svg__icon\");\n  if (routeId === \"Green-B\") return greenBLineIcon(\"c-svg__icon\");\n  if (routeId === \"Green-C\") return greenCLineIcon(\"c-svg__icon\");\n  if (routeId === \"Green-D\") return greenDLineIcon(\"c-svg__icon\");\n  if (routeId === \"Green-E\") return greenELineIcon(\"c-svg__icon\");\n  if (routeId === \"Mattapan\") return mattapanLineIcon(\"c-svg__icon\");\n  if (routeId === \"Orange\") return orangeLineIcon(\"c-svg__icon\");\n  if (routeId === \"Red\") return redLineIcon(\"c-svg__icon\");\n  if (isASilverLineRoute(routeId)) return silverLineIcon(\"c-svg__icon\");\n\n  return busIcon(\"c-svg__icon-bus-small\");\n};\n\nexport const caret = (\n  className: string,\n  expanded: boolean\n): ReactElement<HTMLElement> => {\n  const unicodeCharacter = expanded ? \"&#xF106;\" : \"&#xF107;\";\n  return (\n    <span\n      className={`fa ${className}`}\n      // eslint-disable-next-line react/no-danger\n      dangerouslySetInnerHTML={{ __html: unicodeCharacter }}\n    />\n  );\n};\n\n/*\nA minimal component that gives its child component\na basic tooltip containing the specified text. Has no\nvisual appearance itself.\n\nNote: data-selector=\"true\" and data-original-title are\nspecified here in order to preserve `title` text post-trigger\n*/\n\n// Corresponds to Bootstrap's tooltip options\ninterface TooltipOptions {\n  animation?: boolean;\n  container?: string | HTMLElement | false;\n  delay?: number | object;\n  html?: boolean;\n  placement?: string | Function;\n  selector?: string;\n  template?: string;\n  title?: string | HTMLElement | Function;\n  trigger?: string;\n  constraints?: [];\n  offset?: string;\n}\n\nconst defaultTooltipOptions: TooltipOptions = {\n  animation: true,\n  html: false,\n  placement: \"top\",\n  trigger: \"hover focus\"\n};\n\nexport const TooltipWrapper: React.FC<{\n  children: JSX.Element;\n  tooltipText: string;\n  tooltipOptions?: TooltipOptions;\n  href?: string;\n}> = ({ children, tooltipText, tooltipOptions, href }): JSX.Element => {\n  const options = Object.assign({}, defaultTooltipOptions, tooltipOptions);\n\n  const Tag = href ? \"a\" : \"span\";\n\n  return (\n    <Tag\n      href={href}\n      data-toggle=\"tooltip\"\n      data-trigger={options.trigger}\n      data-placement={options.placement}\n      data-animation={options.animation}\n      data-html={options.html}\n      data-selector=\"true\"\n      data-original-title={tooltipText}\n    >\n      {children}\n    </Tag>\n  );\n};\n\nexport const crowdingIcon = (className: string = \"\"): JSX.Element =>\n  renderSvg(`c-svg__icon c-icon__crowding ${className}`, crowdingIconSvg, true);\n","import { KeyboardEvent as ReactKeyboardEvent } from \"react\";\n\n// for React\nexport const handleReactEnterKeyPress = (\n  e: ReactKeyboardEvent,\n  onClick: Function\n): void => {\n  if (e.key === \"Enter\") {\n    onClick();\n  }\n};\n\nexport const handleReactExitKeyPress = (\n  e: ReactKeyboardEvent,\n  onClick: Function\n): void => {\n  if (e.key === \"Escape\") {\n    onClick();\n  }\n};\n","import { useEffect, useState } from \"react\";\nimport { isSMDown } from \"./media-breakpoints\";\n\n// eslint-disable-next-line import/prefer-default-export\nexport const useSMDown = (): boolean => {\n  const [isSmallBreakpoint, setIsSmallBreakpoint] = useState(isSMDown());\n  useEffect(() => {\n    const handleResize = (): void => {\n      setIsSmallBreakpoint(isSMDown());\n    };\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return isSmallBreakpoint;\n};\n","// Specify in pixels, but in numbers here for calculations\nconst mediaBreakpoints = {\n  xs: 0,\n  sm: 544,\n  md: 800,\n  lg: 1088,\n  xxl: 1344\n};\n\nexport const isLGDown = (): boolean =>\n  window.matchMedia(`(max-width: ${mediaBreakpoints.lg}px)`).matches;\n\nexport const isSMDown = (): boolean =>\n  window?.matchMedia(`(max-width: ${mediaBreakpoints.sm}px)`)?.matches;\n","import MobileDetect from \"mobile-detect\";\n\nconst mobileDetect = new MobileDetect(window.navigator.userAgent);\n\n// This is to primarily to be used when generting android or ios specific behavior\n// For feature detection a different library/approach should be used\nconst isIPhone = (): boolean => mobileDetect.is(\"iPhone\");\nconst isAndroid = (): boolean => mobileDetect.is(\"Android\");\n\nexport { isIPhone, isAndroid };\n","import React, { ReactElement } from \"react\";\nimport { differenceInSeconds } from \"date-fns\";\nimport { PredictedOrScheduledTime } from \"../__v3api\";\nimport { isSkippedOrCancelled } from \"../models/prediction\";\nimport { TripPrediction } from \"../schedule/components/__trips\";\nimport { compareStringTimes } from \"./date\";\nimport { PredictionWithTimestamp } from \"../models/predictions\";\nimport { ScheduleWithTimestamp } from \"../models/schedules\";\n\nconst delayForCommuterRail = (\n  data: PredictedOrScheduledTime,\n  className = \"\"\n): ReactElement<HTMLElement> => (\n  <>\n    <div className={`${className ? `${className}--delayed` : \"\"}`}>\n      {data.scheduled_time!.join(\"\")}\n    </div>\n    <div className={className}>\n      {data.prediction && data.prediction.time.join(\"\")}\n    </div>\n  </>\n);\n\nexport const timeForCommuterRail = (\n  data: PredictedOrScheduledTime,\n  className = \"\"\n): ReactElement<HTMLElement> => {\n  const { delay, prediction, scheduled_time: scheduledTime } = data;\n\n  if (delay >= 5 && prediction) {\n    return delayForCommuterRail(data, className);\n  }\n\n  let time = prediction ? prediction.time : scheduledTime;\n\n  // when 'On time', show the scheduled time only if it's later than the predicted time:\n  if (\n    scheduledTime &&\n    prediction &&\n    prediction.time[2] !== \"min\" &&\n    compareStringTimes(prediction.time, scheduledTime) === \"lt\"\n  ) {\n    // \"On time\"\n    time = scheduledTime;\n  }\n\n  return <div className={className}>{time!.join(\"\")}</div>;\n};\n\nexport const statusForCommuterRail = ({\n  delay,\n  scheduled_time: scheduledTime,\n  prediction\n}: PredictedOrScheduledTime): string | null => {\n  // If there is a human-entered status string, prioritize that\n  if (prediction && prediction.status) return prediction.status;\n\n  if (isSkippedOrCancelled((prediction as unknown) as TripPrediction))\n    return \"Canceled\";\n\n  // Indicate \"Delayed\" if train is delayed 5+ minutes\n  if (delay >= 5) return `Delayed ${delay} min`;\n\n  // Indicate \"On time\" if train otherwise has a prediction\n  // Indicate \"Scheduled\" if train is not \"Delayed\" and we have a scheduled time\n  // (even if there is no real-time prediction)\n  if (scheduledTime && prediction) return \"On time\";\n  if (scheduledTime) return \"Scheduled\";\n\n  // We have just a prediction with no scheduled time, so we can't say whether\n  // the train is on time, delayed, etc.\n  return null;\n};\n\nexport const trackForCommuterRail = ({\n  prediction\n}: PredictedOrScheduledTime): string =>\n  prediction && prediction.track ? ` track ${prediction.track}` : \"\";\n\nexport const isCancelled = (\n  prediction: PredictionWithTimestamp | undefined\n): boolean => {\n  return !!prediction && prediction.schedule_relationship === \"cancelled\";\n};\n\nexport const isSkipped = (\n  prediction: PredictionWithTimestamp | undefined\n): boolean => {\n  return !!prediction && prediction.schedule_relationship === \"skipped\";\n};\n\n// Finds the corresponding schedule to the prediction and compares the times\n// If the prediction and schedule are more than 60 seconds apart it is delayed\nexport const isDelayed = (\n  prediction: PredictionWithTimestamp | undefined,\n  schedule: ScheduleWithTimestamp | undefined,\n  maxDifferenceInSeconds: number = 60\n): boolean => {\n  return (\n    !!schedule &&\n    !!prediction &&\n    !!prediction.time &&\n    // Is the prediction meaningfully after the schedule\n    differenceInSeconds(prediction.time, schedule.time) > maxDifferenceInSeconds\n  );\n};\n","import React from \"react\";\n\nconst FontAwesomeIcon = (\n  className: string,\n  svgName: string,\n  ariaHide: boolean = true\n): JSX.Element => (\n  <i\n    className={\n      className\n        ? `fa ${svgName} notranslate ${className}`\n        : `fa ${svgName} notranslate`\n    }\n    aria-hidden={ariaHide ? \"true\" : \"false\"}\n  />\n);\n\nexport default FontAwesomeIcon;\n","import React from \"react\";\n\nconst SVGIcon = (\n  className: string,\n  svgText: string,\n  ariaHide: boolean = true\n): JSX.Element => (\n  <span\n    className={className ? `notranslate ${className}` : \"notranslate\"}\n    aria-hidden={ariaHide ? \"true\" : \"false\"}\n    // eslint-disable-next-line react/no-danger\n    dangerouslySetInnerHTML={{ __html: svgText }}\n  />\n);\n\nexport default SVGIcon;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from \"react\";\nimport { Route } from \"../__v3api\";\nimport { isASilverLineRoute } from \"../models/route\";\nimport { breakTextAtSlash } from \"./text\";\nimport { busClass } from \"./css\";\nimport CRsvg from \"../../static/images/icon-commuter-rail-default.svg\";\nimport Bussvg from \"../../static/images/icon-bus-default.svg\";\nimport SubwaySvg from \"../../static/images/icon-subway-default.svg\";\nimport FerrySvg from \"../../static/images/icon-ferry-default.svg\";\n\nexport function routeToModeIcon(route: Route): any {\n  switch (route.type) {\n    case 0:\n    case 1:\n      return SubwaySvg;\n    case 2:\n      return CRsvg;\n\n    case 3:\n      return Bussvg;\n\n    case 4:\n      return FerrySvg;\n\n    default:\n      return null;\n  }\n}\n\nexport function routeName(route: Route): JSX.Element {\n  return (\n    <span className={busClass(route)}>\n      {isASilverLineRoute(route.id)\n        ? `Silver Line ${route.name}`\n        : breakTextAtSlash(route.name)}\n    </span>\n  );\n}\n","import { Stop } from \"../__v3api\";\n// eslint-disable-next-line import/prefer-default-export\nexport const isStopAStation = (stop: Stop): boolean => stop[\"station?\"];\n","/**\n * Replaces slashes in a given string with a slash + ZERO_WIDTH_SPACE.\n * It's visually the same, but allows browsers to break the text into multiple lines.\n */\n// eslint-disable-next-line import/prefer-default-export\nexport const breakTextAtSlash = (str: string): string =>\n  str.replace(/\\//g, \"/\");\n\nexport interface HighlightedSpan {\n  offset: number;\n  length: number;\n}\nexport function highlightText(\n  text: string,\n  spans: HighlightedSpan[] = []\n): string {\n  const parts = [];\n  let cursor = 0;\n  spans.forEach(span => {\n    const { offset, length } = span;\n\n    parts.push(text.slice(cursor, offset));\n    parts.push(`<em>${text.slice(offset, offset + length)}</em>`);\n    cursor = length + offset;\n  });\n  parts.push(text.slice(cursor));\n\n  return parts.join(\"\");\n}\n","import { useReducer } from \"react\";\n\n/**\n * Fetching comprises a simple state machine flow:\n *\n * NotStarted  Loading  Data\n *                       Error\n */\n// Exported just for testing\nexport enum FetchStatus {\n  NotStarted = 1,\n  Loading,\n  Data,\n  Error\n}\n\ninterface StartFetchAction {\n  type: \"FETCH_STARTED\";\n}\n\nconst startFetch = (): StartFetchAction => ({ type: \"FETCH_STARTED\" });\n\ninterface CompleteFetchAction<T> {\n  type: \"FETCH_COMPLETE\";\n  payload: T;\n}\n\nconst completeFetch = <T>(payload: T): CompleteFetchAction<T> => ({\n  type: \"FETCH_COMPLETE\",\n  payload\n});\n\ninterface ErrorFetchAction {\n  type: \"FETCH_ERROR\";\n}\n\nconst errorFetch = (): ErrorFetchAction => ({ type: \"FETCH_ERROR\" });\n\nexport type FetchAction<T> =\n  | StartFetchAction\n  | CompleteFetchAction<T>\n  | ErrorFetchAction;\n\nexport interface FetchState<T> {\n  status: FetchStatus;\n  data?: T;\n}\n\nconst createInitialState = <T>(): FetchState<T> => ({\n  status: FetchStatus.NotStarted,\n  data: undefined\n});\n\nexport const isNotStarted = <T>({ status }: FetchState<T>): boolean =>\n  status === FetchStatus.NotStarted;\n\nexport const isLoading = <T>({ status }: FetchState<T>): boolean =>\n  status === FetchStatus.Loading;\n\nexport const hasData = <T>({ status }: FetchState<T>): boolean =>\n  status === FetchStatus.Data;\n\nexport const gotError = <T>({ status }: FetchState<T>): boolean =>\n  status === FetchStatus.Error;\n\ntype Reducer<T> = (\n  state: FetchState<T>,\n  action: FetchAction<T>\n) => FetchState<T>;\n\nconst createFetchReducer = <T>(): Reducer<T> => (state, action) => {\n  switch (action.type) {\n    case \"FETCH_STARTED\":\n      return { ...state, status: FetchStatus.Loading, data: undefined };\n    case \"FETCH_COMPLETE\":\n      return { ...state, status: FetchStatus.Data, data: action.payload };\n    case \"FETCH_ERROR\":\n      return { ...state, status: FetchStatus.Error };\n    default:\n      return state;\n  }\n};\n\nexport type Fetcher = () => Promise<Response>;\n\nexport type Parser<T> = (json: JSON) => T;\n\ninterface FetchProps<T> {\n  fetcher: Fetcher;\n  parser: Parser<T>;\n}\n\nexport type Fetch<T> = ({ fetcher, parser }: FetchProps<T>) => Promise<void>;\n\nconst parseJsonResponse = (response: Response): Promise<JSON> => {\n  if (response.ok) return response.json();\n  throw new Error(response.statusText);\n};\n\nexport const fetch = <T>(\n  dispatch: (action: FetchAction<T>) => void\n): Fetch<T> => ({ fetcher, parser }) => {\n  dispatch(startFetch());\n\n  return fetcher()\n    .then(parseJsonResponse)\n    .then((json: JSON) => dispatch(completeFetch<T>(parser(json))))\n    .catch(() => dispatch(errorFetch()));\n};\n\nconst useFetch = <T>(): [FetchState<T>, Fetch<T>] => {\n  const [state, dispatch] = useReducer(\n    createFetchReducer<T>(),\n    createInitialState<T>()\n  );\n\n  return [state, fetch<T>(dispatch)];\n};\n\nexport default useFetch;\n","import useSWR from \"swr\";\nimport { fetchJsonOrThrow } from \"../helpers/fetch-json\";\nimport { Alert } from \"../__v3api\";\nimport { FetchState, FetchStatus } from \"../helpers/use-fetch\";\n\nconst fetchData = async (url: string): Promise<Alert[]> =>\n  fetchJsonOrThrow(url);\n\nconst useAlertsByStop = (stopId: string): FetchState<Alert[]> => {\n  const { data, error } = useSWR<Alert[]>(\n    `/api/stops/${stopId}/alerts`,\n    fetchData\n  );\n  if (error) {\n    return { status: FetchStatus.Error };\n  }\n  return { status: FetchStatus.Data, data };\n};\n\nconst useAlertsByRoute = (routeId: string | string[]): FetchState<Alert[]> => {\n  const route_id_array = Array.isArray(routeId) ? routeId : [routeId];\n  const { data, error } = useSWR<Alert[]>(\n    route_id_array.length === 0\n      ? null\n      : `/api/alerts?route_ids=${route_id_array.join(\",\")}`,\n    fetchData\n  );\n\n  if (error) {\n    return { status: FetchStatus.Error };\n  }\n  if (route_id_array.length === 0) {\n    // no alerts to return if there were no route ids passed\n    // don't return the value of data directly because it will be undefined\n    return { status: FetchStatus.Data, data: [] };\n  }\n  return { status: FetchStatus.Data, data };\n};\n\n// eslint-disable-next-line import/prefer-default-export\nexport { useAlertsByStop, useAlertsByRoute };\n","import { useReducer, useEffect, Reducer } from \"react\";\nimport { joinChannel, leaveChannel } from \"../app/channels\";\n\n// extract the state and action types from the given reducer\n// is there a way to do this without using \"any\"?\n/* eslint-disable @typescript-eslint/no-explicit-any */\ntype State<T> = T extends Reducer<infer S, any> ? S : never;\ntype Action<T> = T extends Reducer<any, infer A> ? A : never;\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * useChannel is intended to be generic enough to work with any Websocket-based\n * channel we might set up. Thus it requires many arguments.\n\n * @template OnDataEventType - Describes the data recieved through the\n * channel's \"data\" event.\n * @template OnDataReducerType - A type extending React's Reducer<State, Action>\n * @param {string} channelId - The name of the channel to subscribe to.\n * @param {OnDataReducerType} reducer - A function that will be used to process\n * channel data.\n * @param {State<OnDataReducerType>} initialData - The initial state value for\n * the reducer.\n * @return {State<OnDataReducerType>} - the data output from the channel after\n * going through the reducer.\n */\nfunction useChannel<\n  OnDataEventType,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  OnDataReducerType extends Reducer<any, any>\n>(\n  channelId: string | null,\n  reducer: OnDataReducerType,\n  initialData: State<OnDataReducerType>\n): State<OnDataReducerType> {\n  const [state, dispatch] = useReducer<OnDataReducerType>(reducer, initialData);\n\n  useEffect(() => {\n    if (channelId !== null) {\n      joinChannel<OnDataEventType[]>(channelId, dispatch);\n    }\n    return () => {\n      if (channelId !== null) {\n        leaveChannel(channelId);\n      }\n    };\n  }, [channelId]);\n\n  useEffect(() => {\n    // Set up an event listener to listen to the channel's custom event\n    // update state when new data is emitted\n    const onChannelData = (\n      event: CustomEvent<Action<OnDataReducerType>>\n    ): void => dispatch(event.detail);\n    if (channelId) {\n      document.addEventListener(channelId, onChannelData as EventListener);\n    }\n    return () => {\n      if (channelId) {\n        document.removeEventListener(channelId, onChannelData as EventListener);\n      }\n    };\n  }, [channelId, dispatch]);\n\n  return state;\n}\n\nexport default useChannel;\n","import { useCallback, useMemo } from \"react\";\nimport { isNil, some } from \"lodash\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { DirectionId, Route } from \"../__v3api\";\n\ntype DepartureRow = {\n  route: Route;\n  directionId: DirectionId;\n  headsign: string;\n};\n\n// Search params in URLs are always strings!\ntype DepartureRowSearchParams = {\n  routeId: string;\n  directionId: string;\n  headsign: string;\n};\n\nconst getRowParams = (\n  params: URLSearchParams\n): Record<string, string | null> => {\n  const routeId = params.get(\"route\");\n  const directionId = params.get(\"direction_id\");\n  const headsign = params.get(\"headsign\");\n  return { routeId, directionId, headsign };\n};\n\nconst resetRowParams = (\n  params: URLSearchParams,\n  newParams: Record<string, string | null>\n): URLSearchParams => {\n  const { routeId, directionId, headsign } = newParams;\n  Object.entries({\n    route: routeId,\n    direction_id: directionId,\n    headsign\n  }).forEach(([key, value]) => {\n    if (value) {\n      params.set(key, value);\n    } else {\n      params.delete(key);\n    }\n  });\n  return params;\n};\n\n/**\n * Coordinates toggling the active departure row with the corresponding URL\n * search parameters, in the format of\n * ?route=`<routeId>`&direction_id=`<directionId>`&headsign=`<headsign>`. Needs\n * to be called from within React Router's `<RouterProvider>` to work with URL\n * search parameters correctly.\n */\nconst useDepartureRow = (\n  routes: Route[]\n): {\n  activeRow: DepartureRow | null;\n  resetRow: () => void;\n  setRow: (filters: DepartureRowSearchParams) => void;\n} => {\n  const [params, setSearchParams] = useSearchParams();\n\n  const activeRow = useMemo(() => {\n    const { routeId, directionId, headsign } = getRowParams(params);\n    const matchedRoute = routes.find(r => r.id === routeId);\n    if (\n      some([routeId, directionId, headsign], isNil) ||\n      !matchedRoute ||\n      !(directionId! in [\"0\", \"1\"])\n    ) {\n      return null;\n    }\n\n    // will mislead when headsign doesn't match to any existing data\n    return {\n      route: matchedRoute,\n      directionId: +directionId!,\n      headsign\n    } as DepartureRow;\n  }, [params, routes]);\n\n  const resetRow = useCallback((): void => {\n    const newParams = resetRowParams(params, {\n      route: null,\n      direction_id: null,\n      headsign: null\n    });\n    setSearchParams(newParams);\n  }, [params, setSearchParams]);\n\n  const setRow = (newValues: DepartureRowSearchParams): void => {\n    const newParams = resetRowParams(params, newValues);\n    setSearchParams(newParams);\n  };\n\n  return { activeRow, resetRow, setRow };\n};\n\nexport default useDepartureRow;\n","import useSWR from \"swr\";\nimport { fetchJsonOrThrow } from \"../helpers/fetch-json\";\nimport { FetchState, FetchStatus } from \"../helpers/use-fetch\";\n\n/**\n * Generic helper function for fetching JSON from a URL. Specify the expected\n * return type as the type parameter, e.g\n * `useFetch<Schedule[]>(\"/api/schedules/or/something\")`\n * @param {string} backendUrl - The path, usually starting with /api/, that our\n * backend will respond with data from.\n * @returns {{ status: FetchStatus, data: T }} An object containing the fetch\n * status, and the returned data.\n */\nconst useFetch = <T>(backendPath: string): FetchState<T> => {\n  const { data, error } = useSWR<T>(\n    backendPath,\n    async (url: string): Promise<T> => fetchJsonOrThrow(url)\n  );\n  if (error) {\n    return { status: FetchStatus.Error };\n  }\n  return { status: FetchStatus.Data, data };\n};\n\nexport default useFetch;\n","import useSWR from \"swr\";\nimport { fetchJsonOrThrow } from \"../helpers/fetch-json\";\n\nconst fetchData = async (url: string): Promise<MapConfig> =>\n  fetchJsonOrThrow(url);\n\nexport interface MapConfig {\n  tile_server_url: string;\n}\n\nconst useMapConfig = (): MapConfig | undefined => {\n  const { data } = useSWR<MapConfig>(`/api/map-config`, fetchData);\n  return data;\n};\n\nexport default useMapConfig;\n","import { pick, sortBy } from \"lodash\";\nimport { Reducer } from \"react\";\nimport {\n  DirectionId,\n  Route,\n  ScheduleRelationship,\n  Stop,\n  Trip\n} from \"../__v3api\";\nimport useChannel from \"./useChannel\";\nimport { PredictionWithTimestamp } from \"../models/predictions\";\n\n/**\n * The format of a prediction emitted via websockets from\n * SiteWeb.PredictionsChannel.\n */\nexport interface StreamPrediction {\n  id: string;\n  arrival_time: string | null;\n  departure_time: string | null;\n  time: string | null;\n  route: Route;\n  stop: Stop;\n  trip: Trip;\n  stop_sequence: number;\n  direction_id: DirectionId;\n  schedule_relationship: ScheduleRelationship;\n  track: string | null;\n  status: string | null;\n  \"departing?\": boolean;\n  vehicle_id: string | null;\n}\n\ninterface ChannelPredictionResponse {\n  predictions: StreamPrediction[];\n  error: string;\n}\n\nexport interface PredictionsByHeadsign {\n  [headsign: string]: PredictionWithTimestamp[];\n}\n\n// Parses departure time into Date()\nexport const parsePrediction = (\n  prediction: StreamPrediction\n): PredictionWithTimestamp => ({\n  ...pick(prediction, [\n    \"id\",\n    \"route\",\n    \"stop\",\n    \"trip\",\n    \"direction_id\",\n    \"schedule_relationship\",\n    \"track\",\n    \"status\",\n    \"vehicle_id\",\n    \"stop_sequence\"\n  ]),\n  arrival_time: prediction.arrival_time\n    ? new Date(prediction.arrival_time)\n    : null,\n  departure_time: prediction.departure_time\n    ? new Date(prediction.departure_time)\n    : null,\n  time: prediction.time ? new Date(prediction.time) : null\n});\n\ninterface PredictionsChannelArgs {\n  stopId?: string;\n}\n\nfunction channelFromArgs(channelArgs: PredictionsChannelArgs): string | null {\n  const { stopId } = channelArgs;\n  if (stopId) {\n    return `predictions:stop:${stopId}`;\n  }\n  return null;\n}\n\n/**\n * Subscribes to updates on predictions for a specific route/stop/direction via\n * websockets + Phoenix channels. The channel updates very frequently, so this\n * function takes care to only emit updated predictions if they are different\n * from the previous set of predictions.\n */\nconst usePredictionsChannel = (\n  args: PredictionsChannelArgs\n): PredictionWithTimestamp[] | null => {\n  const channelName = channelFromArgs(args);\n  const reducer: Reducer<\n    PredictionWithTimestamp[] | null,\n    ChannelPredictionResponse\n  > = (_oldGroupedPredictions, detail) => {\n    if (detail.error || !detail.predictions) {\n      return null;\n    }\n    return sortBy(detail.predictions.map(parsePrediction), \"time\");\n  };\n  // useChannel will return the initialState if the channel can't be joined / if\n  // the channelName is null;\n  const state = useChannel(channelName, reducer, []);\n  return state;\n};\n\nexport default usePredictionsChannel;\n","import useSWR from \"swr\";\nimport { sortBy } from \"lodash\";\nimport { fetchJsonOrThrow } from \"../helpers/fetch-json\";\nimport { Route } from \"../__v3api\";\nimport { FetchState, FetchStatus } from \"../helpers/use-fetch\";\n\nconst fetchData = async (url: string): Promise<Route[]> =>\n  fetchJsonOrThrow(url);\n\nconst useRoutes = (routeIds: string[]): FetchState<Route[]> => {\n  const { data, error } = useSWR<Route[]>(\n    routeIds.length ? `/api/routes/${routeIds.join(\",\")}` : null,\n    fetchData\n  );\n  if (error) {\n    return { status: FetchStatus.Error };\n  }\n  const sortedRoutes = data ? sortBy(data, [\"sort_order\"]) : data;\n  return { status: FetchStatus.Data, data: sortedRoutes };\n};\n// eslint-disable-next-line import/prefer-default-export\nexport { useRoutes };\n","import useSWR from \"swr\";\nimport useInterval from \"use-interval\";\nimport { useState } from \"react\";\nimport { pick } from \"lodash\";\nimport { fetchJsonOrThrow } from \"../helpers/fetch-json\";\nimport { ScheduleWithTimestamp } from \"../models/schedules\";\nimport { FetchState, FetchStatus } from \"../helpers/use-fetch\";\n\ninterface ScheduleData extends Omit<ScheduleWithTimestamp, \"time\"> {\n  time: string;\n}\n\nconst parse = (schedule: ScheduleData): ScheduleWithTimestamp =>\n  ({\n    ...pick(schedule, [\n      \"route\",\n      \"trip\",\n      \"stop\",\n      \"flag?\",\n      \"early_departure?\",\n      \"last_stop?\",\n      \"stop_sequence\",\n      \"pickup_type: number\",\n      \"train_number?: string\"\n    ]),\n    time: new Date(schedule.time),\n    arrival_time: schedule.arrival_time\n      ? new Date(schedule.arrival_time)\n      : null,\n    departure_time: schedule.departure_time\n      ? new Date(schedule.departure_time)\n      : null\n  } as ScheduleWithTimestamp);\n\nconst fetchData = async (url: string): Promise<ScheduleData[]> =>\n  fetchJsonOrThrow(url);\n\nconst useSchedulesByStop = (\n  stopId: string\n): FetchState<ScheduleWithTimestamp[]> => {\n  const [updateDate, setUpdateDate] = useState(Date.now());\n  useInterval(() => {\n    setUpdateDate(Date.now());\n  }, 15000);\n\n  const { data, error } = useSWR<ScheduleData[]>(\n    `/api/stops/${stopId}/schedules?last_stop_departures=false&future_departures=true`,\n    fetchData\n  );\n  if (error) {\n    return { status: FetchStatus.Error };\n  }\n  const parsedData = data\n    ?.map(d => parse(d))\n    .filter(d => d.time.getTime() >= updateDate);\n  return { status: FetchStatus.Data, data: parsedData };\n};\n// eslint-disable-next-line import/prefer-default-export\nexport { useSchedulesByStop };\n","import useSWR from \"swr\";\nimport { fetchJsonOrThrow } from \"../helpers/fetch-json\";\nimport { Facility, Stop } from \"../__v3api\";\nimport { FetchState, FetchStatus } from \"../helpers/use-fetch\";\n\nconst fetchData = async (url: string): Promise<Stop> => fetchJsonOrThrow(url);\nconst fetchFacilityData = async (url: string): Promise<Facility[]> =>\n  fetchJsonOrThrow(url);\n\nconst useStop = (stopId: string): FetchState<Stop> => {\n  const { data, error } = useSWR<Stop>(`/api/stop/${stopId}`, fetchData);\n  if (error) {\n    return { status: FetchStatus.Error };\n  }\n  return { status: FetchStatus.Data, data };\n};\n\nconst useFacilitiesByStop = (stopId: string): FetchState<Facility[]> => {\n  const { data, error } = useSWR<Facility[]>(\n    `/api/stop/${stopId}/facilities`,\n    fetchFacilityData\n  );\n  if (error) {\n    return { status: FetchStatus.Error };\n  }\n  return { status: FetchStatus.Data, data };\n};\n\nexport { useStop, useFacilitiesByStop };\n","import { LatLng, latLng, LatLngBounds, latLngBounds } from \"leaflet\";\nimport { MapMarker as Marker } from \"./components/__mapdata\";\n\nconst getBounds = (markers: Marker[]): LatLngBounds | undefined => {\n  if (!markers.length) return undefined;\n  const points: LatLng[] = markers.map(m => latLng(m.latitude, m.longitude));\n  return latLngBounds(points);\n};\n\nexport default getBounds;\n","import React, { ReactElement, useLayoutEffect } from \"react\";\nimport { uniqBy } from \"lodash\";\nimport deepEqual from \"fast-deep-equal/react\";\nimport {\n  Icon,\n  LatLngBounds,\n  Marker as LeafletMarker,\n  MarkerOptions\n} from \"leaflet\";\nimport Leaflet from \"react-leaflet\";\nimport { MapData, MapMarker, IconOpts } from \"./__mapdata\";\n\nexport interface ZoomOpts {\n  maxZoom: number;\n  minZoom: number;\n  scrollWheelZoom: boolean;\n  style: object;\n}\n\nexport const defaultZoomOpts: ZoomOpts = {\n  maxZoom: 18,\n  minZoom: 9,\n  scrollWheelZoom: false,\n  style: { touchAction: \"none\" } // fix for chrome-android to prevent zooming page\n};\n\ninterface Props {\n  bounds?: LatLngBounds;\n  boundsByMarkers?: boolean;\n  mapData: MapData;\n}\n\nconst mapCenter = (\n  markers: MapMarker[],\n  { latitude, longitude }: { latitude: number; longitude: number }\n): [number, number] | undefined => {\n  if (markers.length === 1) return [markers[0].latitude, markers[0].longitude];\n  return [latitude, longitude];\n};\n\nconst rotateMarker = (\n  markerEl: LeafletMarker<MarkerOptions>,\n  { rotation_angle: angle }: MapMarker\n): void => {\n  // TS does not recognize setRotationAngle, which\n  // is added by the leaflet-rotatedmarker plugin\n  // @ts-ignore\n  markerEl.setRotationAngle(angle);\n};\n\nconst Component = ({\n  bounds,\n  boundsByMarkers,\n  mapData: {\n    default_center: defaultCenter,\n    markers,\n    polylines,\n    tile_server_url: tileServerUrl,\n    zoom\n  }\n}: Props): ReactElement<HTMLElement> | null => {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const mapRef = React.createRef<any>();\n  useLayoutEffect(() => {\n    if (mapRef.current && mapRef.current.leafletElement) {\n      // tells Leaflet to redraw the map\n      mapRef.current.leafletElement.invalidateSize();\n    }\n  }, [mapRef]);\n\n  if (typeof window !== \"undefined\" && tileServerUrl !== \"\") {\n    /* eslint-disable */\n    const leaflet: typeof Leaflet = require(\"react-leaflet\");\n    const buildIcon: (\n      icon: string | null,\n      opts?: IconOpts\n    ) => Icon | undefined = require(\"../icon\").default;\n    require(\"leaflet-rotatedmarker\");\n    const getBounds = require(\"../bounds\").default;\n    /* eslint-enable */\n    const { Map, Marker, Polyline, Popup, TileLayer } = leaflet;\n    /* istanbul ignore next */\n    const boundsOrByMarkers = bounds || (boundsByMarkers && getBounds(markers));\n    const position = mapCenter(markers, defaultCenter);\n    const nonNullZoom = zoom === null ? undefined : zoom;\n\n    const onTilesLoaded = (): void => {\n      mapRef.current.container.parentElement.classList += \" map--loaded\";\n    };\n\n    return (\n      <Map\n        ref={mapRef}\n        bounds={boundsOrByMarkers}\n        center={position}\n        zoom={nonNullZoom}\n        {...defaultZoomOpts}\n      >\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url={`${tileServerUrl}/osm_tiles/{z}/{x}/{y}.png`}\n          onload={onTilesLoaded}\n        />\n        {polylines.map(\n          /* istanbul ignore next */\n          polyline => (\n            <Polyline\n              className={polyline.className}\n              key={\n                polyline.id || `polyline-${Math.floor(Math.random() * 1000)}`\n              }\n              positions={polyline.positions}\n              color={polyline.color}\n              weight={polyline.weight}\n              dashArray={polyline[\"dotted?\"] ? \"4px 8px\" : \"none\"}\n              lineCap={polyline[\"dotted?\"] ? \"butt\" : \"round\"}\n              lineJoin={polyline[\"dotted?\"] ? \"miter\" : \"round\"}\n            />\n          )\n        )}\n        {uniqBy(markers, \"id\").map(marker => (\n          <Marker\n            icon={buildIcon(marker.icon, marker.icon_opts)}\n            key={\n              marker.id ||\n              /* istanbul ignore next */ `marker-${Math.floor(\n                Math.random() * 1000\n              )}`\n            }\n            alt={marker.alt || \"Marker\"}\n            position={[marker.latitude, marker.longitude]}\n            ref={ref => ref && rotateMarker(ref.leafletElement, marker)}\n            zIndexOffset={marker.z_index}\n            keyboard={false}\n            onclick={marker.onClick}\n          >\n            {marker.tooltip && <Popup maxHeight={175}>{marker.tooltip}</Popup>}\n          </Marker>\n        ))}\n      </Map>\n    );\n  }\n  return null;\n};\n\nexport default React.memo(Component, deepEqual);\n","import { Icon } from \"leaflet\";\nimport { IconOpts } from \"../leaflet/components/__mapdata\";\n\nexport type IconType = (\n  icon: string | null,\n  opts: IconOpts | undefined\n) => Icon | undefined;\n\ninterface LeafletOpts {\n  iconSize: [number, number];\n  iconAnchor: [number, number];\n  popupAnchor: [number, number];\n}\n\nexport const defaultIconOpts: LeafletOpts = {\n  iconAnchor: [22, 55],\n  iconSize: [45, 75],\n  popupAnchor: [0, -37]\n};\n\nexport default (\n  icon: string | null,\n  opts?: IconOpts | null\n): Icon | undefined => {\n  const iconOpts =\n    opts !== null && opts\n      ? {\n          iconAnchor: opts.icon_anchor || defaultIconOpts.iconAnchor,\n          iconSize: opts.icon_size || defaultIconOpts.iconSize,\n          popupAnchor: opts.popup_anchor || defaultIconOpts.popupAnchor\n        }\n      : defaultIconOpts;\n  return icon === null\n    ? undefined\n    : new Icon({\n        ...iconOpts,\n        iconUrl: `/images/icon-${icon}.svg`,\n        iconRetinaUrl: `/images/icon-${icon}.svg`\n      });\n};\n","import { isValid, parseISO, add } from \"date-fns\";\nimport { concat, isArray, mergeWith, reduce, some } from \"lodash\";\nimport { StopId } from \"../schedule/components/__schedule\";\nimport { Activity, Alert, Facility, TimePeriodPairs } from \"../__v3api\";\n\nexport const isHighSeverityOrHighPriority = ({\n  priority,\n  severity\n}: Alert): boolean => priority === \"high\" || severity >= 7;\n\nexport const isDiversion = ({ effect }: Alert): boolean =>\n  effect === \"shuttle\" ||\n  effect === \"stop_closure\" ||\n  effect === \"station_closure\" ||\n  effect === \"detour\";\n\nexport const isHighPriorityAlert = ({ effect }: Alert): boolean =>\n  effect === \"detour\" || effect === \"suspension\" || effect === \"shuttle\";\n\nexport const alertsForEffects = (alerts: Alert[], effects: string[]): Alert[] =>\n  alerts.filter(a => effects.includes(a.effect));\n\nexport const alertsForEffect = (alerts: Alert[], effect: string): Alert[] =>\n  alertsForEffects(alerts, [effect]);\n\nexport const filterParkingAlerts = (alerts: Alert[]): Alert[] =>\n  alertsForEffects(alerts, [\"parking_closure\", \"parking_issue\"]);\n\nexport const isAmenityAlert = ({ effect }: Alert): boolean =>\n  [\n    \"elevator_closure\",\n    \"escalator_closure\",\n    \"parking_closure\",\n    \"parking_issue\",\n    \"bike_issue\"\n  ].includes(effect);\n\nexport const alertsForRoute = (alerts: Alert[], routeId: string): Alert[] => {\n  return alerts.filter(\n    ({ informed_entity: entities }: Alert): boolean =>\n      !!(entities.route && entities.route.some((id: string) => id === routeId))\n  );\n};\n\nexport const alertsByStop = (alerts: Alert[], stopId: StopId): Alert[] =>\n  alerts.filter(\n    ({ informed_entity: entities }: Alert): boolean =>\n      !!(entities.stop && entities.stop.some((id: StopId) => id === stopId))\n  );\n\nexport const alertsForStopAndRoute = (\n  alerts: Alert[],\n  stopId: StopId,\n  routeId: string\n): Alert[] => {\n  const stopAlerts = alertsByStop(alerts, stopId);\n  return alertsForRoute(stopAlerts, routeId);\n};\n\nexport const alertsByActivity = (\n  alerts: Alert[],\n  activity: Activity\n): Alert[] =>\n  alerts.filter(\n    ({ informed_entity: { activities } }: Alert): boolean =>\n      activities && activities.includes(activity)\n  );\n\nconst hasEffect = (alerts: Alert[], effect: string): boolean =>\n  some(alerts, alert => alert.effect === effect);\n\nexport const hasSuspension = (alerts: Alert[]): boolean =>\n  hasEffect(alerts, \"suspension\");\n\nexport const hasShuttleService = (alerts: Alert[]): boolean =>\n  hasEffect(alerts, \"shuttle\");\n\nexport const hasDetour = (alerts: Alert[]): boolean =>\n  hasEffect(alerts, \"detour\");\n\nexport const hasStopClosure = (alerts: Alert[]): boolean =>\n  hasEffect(alerts, \"stop_closure\");\n\nexport const hasStationClosure = (alerts: Alert[]): boolean =>\n  hasEffect(alerts, \"station_closure\");\n\nexport const hasClosure = (alerts: Alert[]): boolean =>\n  hasStopClosure(alerts) || hasStationClosure(alerts);\n\nexport const alertsWithStop = (alerts: Alert[]): Alert[] =>\n  alerts.filter(\n    ({ informed_entity: entites }: Alert): boolean => !!entites.stop\n  );\n\nexport const routeWideAlerts = (alerts: Alert[]): Alert[] =>\n  alerts.filter(({ informed_entity: { entities } }: Alert): boolean =>\n    entities.some(entity => !entity.stop && !entity.trip)\n  );\n\nexport const alertsByRoute = (alerts: Alert[]): { [key: string]: Alert[] } => {\n  return reduce(\n    alerts,\n    (acc, alert) => {\n      // create a map of every route id to the alert\n      const explodedAlerts = reduce(\n        alert.informed_entity.route,\n        (innerAcc, routeId) => {\n          return { ...innerAcc, [routeId]: [alert] };\n        },\n        {}\n      );\n\n      return mergeWith(acc, explodedAlerts, (objValue, srcValue) => {\n        if (isArray(objValue)) {\n          return objValue.concat(srcValue);\n        }\n        return srcValue;\n      });\n    },\n    {}\n  );\n};\n\n// This will only return alerts with direction id specified (aka affecting a single direction)\nexport const alertsByDirectionId = (\n  alerts: Alert[]\n): { [key: number]: Alert[] } => {\n  return reduce(\n    alerts,\n    (acc, alert) => {\n      const explodedAlerts = reduce(\n        alert.informed_entity.direction_id,\n        (innerAcc, directionId) => {\n          // only include specified directions\n          if (directionId !== null) {\n            return { ...innerAcc, [directionId]: [alert] };\n          }\n          return innerAcc;\n        },\n        {}\n      );\n\n      return mergeWith(acc, explodedAlerts, (objValue, srcValue) => {\n        if (isArray(objValue)) {\n          return objValue.concat(srcValue);\n        }\n        return srcValue;\n      });\n    },\n    {}\n  );\n};\n\nexport const alertsAffectingBothDirections = (alerts: Alert[]): Alert[] => {\n  return alerts.filter(alert => {\n    return (\n      alert.informed_entity.direction_id === null ||\n      alert.informed_entity.direction_id.length === 0 ||\n      alert.informed_entity.direction_id[0] === null\n    );\n  });\n};\n\nexport const allAlertsForDirection = (\n  alerts: Alert[],\n  direction_id: number\n): Alert[] => {\n  const alertsByDirectionObj = alertsByDirectionId(alerts);\n  const alertsAffectingBothDirectionsArray = alertsAffectingBothDirections(\n    alerts\n  );\n  const alertsDirectionArray = alertsByDirectionObj[direction_id]\n    ? alertsByDirectionObj[direction_id]\n    : [];\n\n  return concat(alertsAffectingBothDirectionsArray, alertsDirectionArray);\n};\n\nexport const uniqueByEffect = (\n  alert: Alert,\n  index: number,\n  alerts: Alert[]\n): boolean => alerts.findIndex(a => a.effect === alert.effect) === index;\n\nconst activePeriodToDates = (\n  activePeriod: TimePeriodPairs\n): (Date | null)[] => {\n  return activePeriod.map((d: string): Date | null => {\n    return parseISO(d);\n  });\n};\n\nexport const isCurrentLifecycle = ({ lifecycle }: Alert): boolean =>\n  lifecycle === \"new\" ||\n  lifecycle === \"ongoing\" ||\n  lifecycle === \"ongoing_upcoming\";\n\nexport const isUpcomingOrCurrentLifecycle = (alert: Alert): boolean =>\n  alert.lifecycle === \"upcoming\" || isCurrentLifecycle(alert);\n\nexport const isInNextXDays = (\n  alert: Alert,\n  days: number,\n  selectedDate: Date = new Date()\n): boolean => {\n  const xDays = add(selectedDate, { days });\n  xDays.setHours(23, 59, 59); // set to end of X day\n  if (!alert.active_period) return false;\n  const dateRanges = alert.active_period.map(ap => activePeriodToDates(ap));\n  const isInARange = dateRanges.some((range): boolean => {\n    const [start, end] = range;\n    if (!start || !isValid(start)) return false; // end might be null for ongoing alerts\n    if (!end || !isValid(end)) return true;\n\n    if (days === 0) {\n      return start <= selectedDate && end >= selectedDate;\n    }\n    return start <= xDays && end >= selectedDate;\n  });\n  return days === 0 ? isCurrentLifecycle(alert) && isInARange : isInARange;\n};\n\nexport const isActiveDiversion = (alert: Alert): boolean =>\n  isDiversion(alert) && isInNextXDays(alert, 0);\n\nexport const hasAnActiveDiversion = (\n  stopId: StopId,\n  alerts: Alert[]\n): boolean => alertsByStop(alerts, stopId).some(isActiveDiversion);\n\nexport const isGlobalBannerAlert = (alert: Alert): boolean => {\n  return alert.banner != null;\n};\n\nexport const hasCurrentFacilityAlert = (\n  facilityId: string,\n  alerts: Alert[]\n): boolean => {\n  return alerts.filter(isCurrentLifecycle).some(alert => {\n    if (alert.informed_entity?.facility) {\n      return alert.informed_entity.facility.includes(facilityId);\n    }\n    return false;\n  });\n};\n\nexport const alertsByFacility = (\n  facilities: Facility[],\n  alerts: Alert[]\n): Alert[] => {\n  const facilityIds = facilities.map(facility => facility.id);\n  return alerts.filter(({ informed_entity: { facility } }: Alert): boolean => {\n    if (facility) {\n      return facility.some(facilityId => facilityIds.includes(facilityId));\n    }\n    return false;\n  });\n};\n\n/**\n * Sometimes we want to use the alerts to affect the display of departures. This\n * is mainly when:\n * - A shuttle is in service\n * - A suspension is underway  accounting for the fact that, when a suspension\n *   applies to a range of stops, the first/last stops in that range might only\n *   experience the suspension in a single direction. We might not have\n *   sufficient data in the alert itself to conclusively determine that, but we\n *   can approximate this by observing whether arrival/departure data is\n *   present.\n */\nexport const isSuppressiveAlert = (\n  alert: Alert,\n  numPredictions: number\n): boolean => {\n  const { effect } = alert;\n  // if predictions are present, suspension or shuttle likely doesn't apply here\n  const isValidSuppressiveAlert =\n    ((effect === \"suspension\" || effect === \"shuttle\") &&\n      numPredictions === 0) ||\n    effect === \"station_closure\" ||\n    effect === \"stop_closure\";\n  return isCurrentLifecycle(alert) && isValidSuppressiveAlert;\n};\n","import { TripPrediction } from \"../schedule/components/__trips\";\nimport { HeadsignWithCrowding } from \"../__v3api\";\n\n// eslint-disable-next-line import/prefer-default-export\nexport const isSkippedOrCancelled = (\n  prediction: TripPrediction | null\n): boolean =>\n  prediction\n    ? prediction.schedule_relationship === \"skipped\" ||\n      prediction.schedule_relationship === \"cancelled\"\n    : false;\n\nexport const hasPredictionTime = ({\n  time_data_with_crowding_list: timeDataList\n}: HeadsignWithCrowding): boolean =>\n  !!(\n    timeDataList &&\n    timeDataList[0] &&\n    timeDataList[0].time_data &&\n    timeDataList[0].time_data.prediction &&\n    timeDataList[0].time_data.prediction.time\n  );\n","import { minBy, sortBy } from \"lodash\";\nimport { DirectionId, Route, RoutePattern } from \"../__v3api\";\nimport { Polyline } from \"../leaflet/components/__mapdata\";\n\nexport interface RoutePatternWithPolyline\n  extends Omit<RoutePattern, \"representative_trip_polyline\"> {\n  representative_trip_polyline: Polyline;\n}\nexport type RoutePatternGroup = Record<\n  RoutePattern[\"headsign\"],\n  {\n    direction_id: DirectionId;\n    route_patterns: RoutePatternWithPolyline[];\n  }\n>;\nexport type GroupedRoutePatterns = Record<Route[\"id\"], RoutePatternGroup>;\n\nexport type RoutePatternGroupEntries = [\n  keyof RoutePatternGroup,\n  RoutePatternGroup[keyof RoutePatternGroup]\n][];\n\n// sort headsigns to reflect the route pattern's sort_order\nexport const sortedGroupedRoutePatterns = (\n  groupedByHeadsign: RoutePatternGroup\n): RoutePatternGroupEntries =>\n  sortBy(\n    Object.entries(groupedByHeadsign),\n    ([, { route_patterns: routePatterns }]) =>\n      minBy(routePatterns, \"sort_order\")?.sort_order\n  );\n\nexport default { sortedGroupedRoutePatterns };\n","import { Mode, Route, RouteType } from \"../__v3api\";\n\nconst isRouteType = (obj: Route | RouteType): obj is RouteType =>\n  typeof obj === \"number\";\n\nexport const isFerryRoute = ({ type }: Route): boolean => type === 4;\n\nexport const isABusRoute = ({ type }: Route): boolean => type === 3;\n\nexport const isSubwayRoute = ({ type }: Route): boolean =>\n  type === 1 || type === 0;\n\nconst isCommuterRailRouteType = (type: RouteType): boolean => type === 2;\n\nexport const isACommuterRailRoute = (routeOrType: Route | RouteType): boolean =>\n  isRouteType(routeOrType)\n    ? isCommuterRailRouteType(routeOrType)\n    : isCommuterRailRouteType(routeOrType.type);\n\nexport const isAGreenLineRoute = ({ id }: Route): boolean =>\n  id.startsWith(\"Green\");\n\nexport const isASilverLineRoute = (routeOrRouteId: Route | string): boolean => {\n  const id =\n    typeof routeOrRouteId === \"string\" ? routeOrRouteId : routeOrRouteId.id;\n  return [\"741\", \"742\", \"743\", \"746\", \"749\", \"751\"].includes(id);\n};\n\nexport const RAPID_TRANSIT = \"rapid_transit\";\nexport const RAIL_REPLACEMENT_BUS = \"rail_replacement_bus\";\n\nexport const isRapidTransit = ({ description }: Route): boolean =>\n  description === RAPID_TRANSIT;\nexport const isGreenLine = ({ id }: Route): boolean => id === \"Green\";\nexport const isRailReplacementBus = ({ description }: Route): boolean =>\n  description === RAIL_REPLACEMENT_BUS;\n\nconst routeTypesToMode: {\n  [key in RouteType]: Mode;\n} = {\n  0: \"subway\",\n  1: \"subway\",\n  2: \"commuter_rail\",\n  3: \"bus\",\n  4: \"ferry\"\n};\n\nexport const modeForRoute = ({ type }: Route): Mode => routeTypesToMode[type];\n","import onLoad from \"./stop/stop-redesign-loader\";\n// This is technically the onLoad() function\nonLoad();\n","import React from \"react\";\nimport { Alert, Facility } from \"../../__v3api\";\nimport Alerts from \"../../components/Alerts\";\nimport { hasCurrentFacilityAlert } from \"../../models/alert\";\nimport { AmenityModal, AmenityLink } from \"./amenities/AmenityCard\";\n\nconst AccessAmenitiesModal = ({\n  stopName,\n  alerts,\n  facilities,\n  facilityType\n}: {\n  stopName: string;\n  alerts: Alert[];\n  facilities: Facility[];\n  facilityType: \"Elevator\" | \"Escalator\";\n}): JSX.Element => {\n  const hasFacilities = facilities ? facilities.length > 0 : false;\n  const linkText =\n    facilityType === \"Elevator\"\n      ? \"Report an elevator issue\"\n      : \"Report an escalator issue\";\n  return (\n    <>\n      {hasFacilities && (\n        <AmenityModal headerText={`${facilityType}s at ${stopName}`}>\n          <Alerts alerts={alerts} />\n          <table className=\"access-amenities-table\">\n            <thead>\n              <tr className=\"access-amenities-header\">\n                <th scope=\"col\" className=\"ps-16\">\n                  {facilityType}\n                </th>\n                <th scope=\"col\" className=\"status\">\n                  Status\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {facilities?.map(facility => {\n                return (\n                  <tr key={facility.id} className=\"access-amenities-row fs-14\">\n                    <td className=\"p-16\">{facility.attributes.short_name}</td>\n                    {hasCurrentFacilityAlert(facility.id, alerts) ? (\n                      <td className=\"status\">\n                        <i className=\"fa-solid fa-circle amenity-status amenity-out\" />\n                        Out of Order\n                      </td>\n                    ) : (\n                      <td className=\"status\">\n                        <i className=\"fa-solid fa-circle amenity-status amenity-working\" />\n                        Working\n                      </td>\n                    )}\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n          <AmenityLink\n            url=\"/accessibility/trip-planning\"\n            text=\"Plan an accessible trip\"\n          />\n          <AmenityLink url=\"/customer-support\" text={linkText} />\n        </AmenityModal>\n      )}\n    </>\n  );\n};\nexport default AccessAmenitiesModal;\n","import React from \"react\";\nimport parse from \"date-fns/parse\";\nimport { formatRelativeTime, formatToBostonTime } from \"../../helpers/date\";\n\nexport interface BasicTimeProps {\n  displayType: \"relative\" | \"absolute\";\n  strikethrough?: boolean;\n  time: Date | undefined;\n  targetDate?: Date;\n}\nconst BasicTime = ({\n  displayType,\n  strikethrough,\n  time,\n  targetDate\n}: BasicTimeProps): JSX.Element | null => {\n  if (!time) return null;\n\n  const formattedTime =\n    displayType === \"relative\"\n      ? formatRelativeTime(time, targetDate)\n      : formatToBostonTime(time, \"h:mm aa\");\n\n  // displayType === \"relative\" might produce an absolute-formatted time if it's\n  // more than an hour away. parse the result to find the truth.\n  const parsedTime = parse(formattedTime, \"h:mm aa\", new Date()).getTime();\n  const isAbsolute = Number.isNaN(parsedTime) ? \"relative\" : \"absolute\";\n  // add data attribute to be used for later manipulation and filtering\n  const dataType: \"relative\" | \"absolute\" | \"imminent\" =\n    formattedTime === \"<1 minute away\" ? \"imminent\" : isAbsolute;\n  return (\n    <time\n      data-type={dataType}\n      dateTime={time.toISOString()}\n      className={strikethrough ? \"strikethrough\" : \"\"}\n    >\n      {formattedTime}\n    </time>\n  );\n};\n\nexport default BasicTime;\n","import { reject } from \"lodash\";\nimport React, { ReactElement } from \"react\";\nimport { Alert, Route } from \"../../__v3api\";\nimport { routeName, routeToModeIcon } from \"../../helpers/route-headers\";\nimport { routeBgClass } from \"../../helpers/css\";\nimport renderSvg from \"../../helpers/render-svg\";\nimport useDepartureRow from \"../../hooks/useDepartureRow\";\nimport { DepartureInfo } from \"../../models/departureInfo\";\nimport { allAlertsForDirection } from \"../../models/alert\";\nimport { departureInfoInRoutePatterns } from \"../../helpers/departureInfo\";\nimport { isACommuterRailRoute, isSubwayRoute } from \"../../models/route\";\nimport DepartureTimes from \"./DepartureTimes\";\nimport {\n  RoutePatternGroup,\n  RoutePatternWithPolyline,\n  sortedGroupedRoutePatterns\n} from \"../../models/route-patterns\";\n\nconst isNoncanonicalAndNoDepartures = (\n  routePatterns: RoutePatternWithPolyline[],\n  departures: DepartureInfo[]\n): boolean => {\n  const isNonCanonical = !routePatterns.find(rp => !!rp.canonical);\n  return isNonCanonical && departures.length === 0;\n};\n\nconst DepartureCard = ({\n  alertsForRoute,\n  departuresForRoute,\n  routePatternsByHeadsign,\n  route\n}: {\n  alertsForRoute: Alert[];\n  departuresForRoute: DepartureInfo[];\n  routePatternsByHeadsign: RoutePatternGroup;\n  route: Route;\n}): ReactElement<HTMLElement> | null => {\n  const { setRow } = useDepartureRow([route]);\n\n  let sortedRoutePatternsByHeadsign = sortedGroupedRoutePatterns(\n    routePatternsByHeadsign\n  );\n\n  if (isSubwayRoute(route)) {\n    // remove certain headsigns based on route pattern and departures\n    sortedRoutePatternsByHeadsign = reject(\n      sortedRoutePatternsByHeadsign,\n      entry => {\n        const [, { route_patterns: routePatterns }] = entry;\n        const departures = departuresForRoute.filter(d =>\n          departureInfoInRoutePatterns(d, routePatterns)\n        );\n        return isNoncanonicalAndNoDepartures(routePatterns, departures);\n      }\n    );\n    // don't render a route card if there's no headsigns left to show\n    if (sortedRoutePatternsByHeadsign.length === 0) return null;\n  }\n\n  return (\n    <li className=\"departure-card\">\n      <a\n        className={`departure-card__route ${routeBgClass(route)} notranslate`}\n        href={`/schedules/${route.id}`}\n        data-turbolinks=\"false\"\n      >\n        {renderSvg(\"c-svg__icon\", routeToModeIcon(route), true)}{\" \"}\n        {routeName(route)}\n      </a>\n      {sortedRoutePatternsByHeadsign.map(\n        ([\n          headsign,\n          { direction_id: directionId, route_patterns: routePatterns }\n        ]) => {\n          const onClick = (): void =>\n            setRow({\n              routeId: route.id,\n              directionId: directionId.toString(),\n              headsign\n            });\n\n          return (\n            <DepartureTimes\n              key={headsign}\n              alertsForDirection={allAlertsForDirection(\n                alertsForRoute,\n                directionId\n              )}\n              headsign={headsign}\n              departures={departuresForRoute.filter(d =>\n                departureInfoInRoutePatterns(d, routePatterns)\n              )}\n              onClick={onClick}\n              isCR={isACommuterRailRoute(route)}\n              hasService={routePatterns.length !== 0}\n            />\n          );\n        }\n      )}\n    </li>\n  );\n};\n\nexport default DepartureCard;\n","import React, { ReactElement } from \"react\";\nimport { filter } from \"lodash\";\nimport { Alert, DirectionId, Route, Stop, Trip } from \"../../__v3api\";\nimport { DepartureInfo } from \"../../models/departureInfo\";\nimport { SUBWAY, departuresListFromInfos } from \"../../helpers/departureInfo\";\nimport { routeBgClass } from \"../../helpers/css\";\nimport { routeName, routeToModeIcon } from \"../../helpers/route-headers\";\nimport renderSvg from \"../../helpers/render-svg\";\nimport { isSuppressiveAlert } from \"../../models/alert\";\nimport Alerts from \"../../components/Alerts\";\nimport { isACommuterRailRoute } from \"../../models/route\";\n\ninterface DepartureListProps {\n  route: Route;\n  stop: Stop;\n  departures: DepartureInfo[];\n  directionId: DirectionId;\n  headsign: string;\n  alerts: Alert[];\n  hasService: boolean;\n  targetDate?: Date | undefined;\n}\n\nconst displayNoUpcomingTrips = (\n  message = \"No more trips today\"\n): JSX.Element => {\n  return (\n    <div className=\"c-alert-item--low m-8 d-flex justify-content-center align-items-center pb-40 pt-40\">\n      {message}\n    </div>\n  );\n};\n\nconst DepartureList = ({\n  route,\n  stop,\n  departures,\n  directionId,\n  headsign,\n  alerts,\n  hasService,\n  targetDate\n}: DepartureListProps): ReactElement<HTMLElement> => {\n  const isCR = isACommuterRailRoute(route);\n\n  // don's show cancelled departures for subway\n  const modeSpecificDepartures: DepartureInfo[] = filter(\n    departures,\n    (d: DepartureInfo) => !(d.isCancelled && d.routeMode === SUBWAY)\n  );\n  const numPredictions = modeSpecificDepartures.filter(d => !!d.prediction)\n    .length;\n  const alertsShouldSuppressDepartures = alerts.some(alert =>\n    isSuppressiveAlert(alert, numPredictions)\n  );\n  const tripForSelectedRoutePattern: Trip | undefined =\n    modeSpecificDepartures[0]?.trip;\n\n  const noTrips =\n    modeSpecificDepartures.length === 0 && displayNoUpcomingTrips();\n  const noService = !hasService && displayNoUpcomingTrips(\"No trips today\");\n  const noServiceOrNoTrips = noService || noTrips;\n\n  return (\n    <>\n      <div className=\"stop-departures departure-list-header\">\n        <div className={`departure-card__route ${routeBgClass(route)}`}>\n          <div className=\"notranslate\">\n            {renderSvg(\"c-svg__icon\", routeToModeIcon(route), true)}{\" \"}\n            {routeName(route)}\n          </div>\n          <a\n            className=\"open-schedule\"\n            href={`/schedules/${route.id}/line?schedule_direction[direction_id]=${directionId}&schedule_direction[variant]=${tripForSelectedRoutePattern?.route_pattern_id}&schedule_finder[direction_id]=${directionId}&schedule_finder[origin]=${stop.id}`}\n            data-turbolinks=\"false\"\n          >\n            View all schedules\n          </a>\n        </div>\n      </div>\n      <h2 className=\"departure-list__sub-header\">\n        <div className=\"departure-list__origin-stop-name notranslate\">\n          {stop.name} to\n        </div>\n        <div className=\"departure-list__headsign notranslate\">{headsign}</div>\n      </h2>\n      {alerts.length ? <Alerts alerts={alerts} /> : null}\n      {noServiceOrNoTrips ||\n        (!alertsShouldSuppressDepartures && (\n          <ul className=\"stop-routes__departures list-unstyled\">\n            {departuresListFromInfos(modeSpecificDepartures, isCR, targetDate)}\n          </ul>\n        ))}\n    </>\n  );\n};\n\nexport default DepartureList;\n","import React, { ReactElement, ReactNode } from \"react\";\nimport { Alert } from \"../../__v3api\";\nimport renderFa from \"../../helpers/render-fa\";\nimport DeparturesWithBadge from \"./DeparturesWithBadge\";\nimport { DepartureInfo } from \"../../models/departureInfo\";\nimport { departuresListFromInfos } from \"../../helpers/departureInfo\";\nimport { breakTextAtSlash } from \"../../helpers/text\";\nimport { handleReactEnterKeyPress } from \"../../helpers/keyboard-events-react\";\n\ninterface DepartureTimesProps {\n  departures: DepartureInfo[];\n  alertsForDirection: Alert[];\n  headsign: string;\n  onClick: () => void;\n  isCR: boolean;\n  hasService: boolean;\n  // override date primarily used for testing\n  overrideDate?: Date;\n}\n\nconst ClickableDepartureRow = ({\n  onClick,\n  headsignName,\n  children\n}: {\n  onClick: () => void;\n  headsignName: string;\n  children: ReactNode;\n}): ReactElement<HTMLElement> => {\n  return (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      onClick={onClick}\n      onKeyDown={e => handleReactEnterKeyPress(e, onClick)}\n      aria-label={`Open upcoming departures to ${headsignName}`}\n      className=\"departure-card__headsign d-flex\"\n    >\n      <div className=\"departure-card__headsign-name notranslate\">\n        {breakTextAtSlash(headsignName)}\n      </div>\n      {children}\n      <div>{renderFa(\"fa-fw\", \"fa-angle-right\")}</div>\n    </div>\n  );\n};\n\nconst DepartureTimes = ({\n  departures,\n  alertsForDirection,\n  headsign,\n  onClick,\n  isCR,\n  hasService,\n  overrideDate\n}: DepartureTimesProps): ReactElement<HTMLElement> | null => {\n  const timeList = departuresListFromInfos(\n    departures,\n    isCR,\n    overrideDate,\n    isCR ? 1 : 2,\n    true,\n    ({ children }) => (\n      <div className=\"stop-routes__departures-group\">{children}</div>\n    )\n  );\n\n  return (\n    <ClickableDepartureRow onClick={onClick} headsignName={headsign}>\n      <div className=\"departure-card__content\">\n        {hasService ? (\n          <DeparturesWithBadge\n            alerts={alertsForDirection}\n            departuresLength={departures.length}\n          >\n            {timeList.length > 0 ? (\n              <div className=\"departure-card__times\">{timeList}</div>\n            ) : (\n              <div className=\"font-helvetica-neue fs-14 u-nowrap\">\n                No more trips today\n              </div>\n            )}\n          </DeparturesWithBadge>\n        ) : (\n          <div className=\"font-helvetica-neue fs-14 u-nowrap\">\n            No trips today\n          </div>\n        )}\n      </div>\n    </ClickableDepartureRow>\n  );\n};\n\nexport { DepartureTimes as default };\n","import React, {\n  ReactElement,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n  useState\n} from \"react\";\nimport { cloneDeep, concat, filter, orderBy, uniqBy } from \"lodash\";\nimport { clearAllBodyScrollLocks, disableBodyScroll } from \"body-scroll-lock\";\nimport { useLoaderData } from \"react-router-dom\";\nimport { Alert, Route, Stop } from \"../../__v3api\";\nimport StopPageDepartures from \"./StopPageDepartures\";\nimport StopMapRedesign from \"./StopMapRedesign\";\nimport DepartureList from \"./DepartureList\";\nimport renderFa from \"../../helpers/render-fa\";\nimport {\n  isASilverLineRoute,\n  isSubwayRoute,\n  isACommuterRailRoute,\n  isRailReplacementBus,\n  isRapidTransit\n} from \"../../models/route\";\nimport { useSMDown } from \"../../helpers/media-breakpoints-react\";\nimport usePredictionsChannel from \"../../hooks/usePredictionsChannel\";\nimport { useSchedulesByStop } from \"../../hooks/useSchedules\";\nimport { mergeIntoDepartureInfo } from \"../../helpers/departureInfo\";\nimport {\n  alertsForRoute,\n  alertsForStopAndRoute,\n  isUpcomingOrCurrentLifecycle,\n  routeWideAlerts\n} from \"../../models/alert\";\nimport useDepartureRow from \"../../hooks/useDepartureRow\";\nimport { DepartureInfo } from \"../../models/departureInfo\";\nimport { GroupedRoutePatterns } from \"../../models/route-patterns\";\n\ninterface DeparturesAndMapProps {\n  routes: Route[];\n  stop: Stop;\n  alerts: Alert[];\n  setPredictionError: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\ninterface RouteIdReplacementMap {\n  [key: string]: Route;\n}\n\n// map replacement routes to the routes they replace\nconst mapRouteIds = (routes: Route[]): RouteIdReplacementMap => {\n  const railReplacementRoutes = filter(routes, r => isRailReplacementBus(r));\n  // We don't want to display the shuttle information on subway cards so don't map the subway routes\n  const regularRoutesSansSubway = filter(\n    routes,\n    r => !isRailReplacementBus(r) && !isRapidTransit(r)\n  );\n\n  const routeIdMap: RouteIdReplacementMap = {};\n  railReplacementRoutes.forEach(r => {\n    regularRoutesSansSubway.forEach(rr => {\n      if (r.line_id === rr.line_id) {\n        routeIdMap[r.id] = rr;\n      }\n    });\n  });\n\n  return routeIdMap;\n};\n\nconst updateDepartureInfos = (\n  departureInfos: DepartureInfo[],\n  routeIdMap: RouteIdReplacementMap\n): DepartureInfo[] => {\n  return departureInfos.map(di => {\n    let updatedRoute = di.route;\n    if (routeIdMap[di.route.id]) {\n      updatedRoute = routeIdMap[di.route.id];\n    }\n    return {\n      ...di,\n      route: updatedRoute\n    };\n  });\n};\n\n// Maps a route pattern from one route to a different route based off the routeIdMap\n// Used to map shuttles to train routes, as to display the same info on the card\nconst updateRoutePatterns = (\n  groupedRoutePatterns: GroupedRoutePatterns,\n  routeIdMap: { [key: string]: Route }\n): GroupedRoutePatterns => {\n  const updatedPatterns = cloneDeep(groupedRoutePatterns);\n  Object.keys(groupedRoutePatterns).forEach(key => {\n    if (routeIdMap[key]) {\n      const routeIdToUpdate = routeIdMap[key].id;\n\n      updatedPatterns[routeIdToUpdate] = {\n        ...updatedPatterns[routeIdToUpdate],\n        ...updatedPatterns[key]\n      };\n      // remove the route from the list (we don't want it displayed)\n      delete updatedPatterns[key];\n    }\n  });\n  return updatedPatterns;\n};\n\nconst DeparturesAndMap = ({\n  routes,\n  stop,\n  alerts,\n  setPredictionError\n}: DeparturesAndMapProps): ReactElement<HTMLElement> => {\n  const { data: schedules } = useSchedulesByStop(stop.id);\n  const predictions = usePredictionsChannel({ stopId: stop.id });\n  const departureInfos = mergeIntoDepartureInfo(\n    schedules || [],\n    predictions || []\n  );\n  useEffect(() => {\n    setPredictionError(predictions === null);\n  }, [setPredictionError, predictions]);\n  const [realtimeAlerts, setRealtimeAlerts] = useState<Alert[]>([]);\n\n  const mappedRouteIds = mapRouteIds(routes);\n  const updatedDepartureInfos = updateDepartureInfos(\n    departureInfos,\n    mappedRouteIds\n  );\n\n  const { activeRow, resetRow } = useDepartureRow(routes);\n  useEffect(() => {\n    if (activeRow && activeRow.route) {\n      // grab all the alerts that are current or upcoming\n      const currentAndUpcomingAlerts = filter(alerts, a =>\n        isUpcomingOrCurrentLifecycle(a)\n      );\n      // There are the alerts that affect a whole route and not a stop\n      const routeWideAlertsArray = routeWideAlerts(currentAndUpcomingAlerts);\n      // filter all the route wide alerts to the selected route\n      const alertsForSelectedRoute = alertsForRoute(\n        routeWideAlertsArray,\n        activeRow.route.id\n      );\n      // all the alerts that affect this stop on the route\n      const alertsForStop = alertsForStopAndRoute(\n        currentAndUpcomingAlerts,\n        stop.id,\n        activeRow.route.id\n      );\n      // combine route wide, and route stop alerts into a single list for the real time page\n      setRealtimeAlerts(concat(alertsForStop, alertsForSelectedRoute));\n    } else {\n      setRealtimeAlerts([]);\n    }\n  }, [activeRow, alerts, stop]);\n\n  // filter by chosen route and direction\n  const filteredDepartures = activeRow\n    ? updatedDepartureInfos.filter(departure => {\n        const { route, trip } = departure;\n        return (\n          route.id === activeRow.route.id &&\n          trip.direction_id === activeRow.directionId &&\n          trip.headsign === activeRow.headsign\n        );\n      })\n    : updatedDepartureInfos;\n\n  const isSmallBreakpoint = useSMDown();\n  const refEl = useRef<HTMLDivElement>(null);\n\n  // prevent scrolling the page when in fullscreen \"app\" view\n  useLayoutEffect(() => {\n    if (isSmallBreakpoint && activeRow && refEl.current) {\n      disableBodyScroll(refEl.current);\n    } else {\n      clearAllBodyScrollLocks();\n    }\n    return () => {\n      clearAllBodyScrollLocks();\n    };\n  }, [activeRow, isSmallBreakpoint]);\n\n  const routesForMap = routes.filter(\n    route =>\n      isASilverLineRoute(route) ||\n      isSubwayRoute(route) ||\n      isACommuterRailRoute(route)\n  );\n  const groupedRoutePatterns = useLoaderData() as GroupedRoutePatterns;\n\n  const updatedGroupedRoutePatterns = updateRoutePatterns(\n    groupedRoutePatterns,\n    mappedRouteIds\n  );\n\n  const defaultPolylines = orderBy(routesForMap, \"sort_order\", \"desc\").flatMap(\n    route => {\n      const routePatterns = Object.values(\n        updatedGroupedRoutePatterns[route.id]\n      ).flatMap(obj => obj.route_patterns);\n      return routePatterns.map(rp => rp.representative_trip_polyline);\n    }\n  );\n\n  const routePatternsForSelection = activeRow\n    ? updatedGroupedRoutePatterns[activeRow.route.id][activeRow.headsign]\n        .route_patterns\n    : [];\n  const shapeForSelection = routePatternsForSelection.map(\n    rp => rp.representative_trip_polyline\n  );\n\n  const BackToRoutes = (\n    <div className=\"back-to-routes\">\n      <button\n        className=\"btn\"\n        onClick={() => resetRow()}\n        onKeyDown={() => resetRow()}\n        type=\"button\"\n      >\n        {renderFa(\"\", \"fa-fw fa-angle-left\")}\n        <span className=\"btn-link\">{`Back to all ${stop.name} routes`}</span>\n      </button>\n    </div>\n  );\n\n  return (\n    <div\n      className={`stop-routes-and-map ${activeRow ? \"selected-departure\" : \"\"}`}\n    >\n      {activeRow && BackToRoutes}\n      <div ref={refEl} className=\"stop-routes\">\n        {activeRow ? (\n          <div className=\"stop-departures--realtime\">\n            <DepartureList\n              route={activeRow.route}\n              stop={stop}\n              departures={filteredDepartures}\n              directionId={activeRow.directionId}\n              headsign={activeRow.headsign}\n              alerts={realtimeAlerts}\n              hasService={routePatternsForSelection.length !== 0}\n            />\n          </div>\n        ) : (\n          <StopPageDepartures\n            routes={routes}\n            departureInfos={updatedDepartureInfos}\n            alerts={alerts}\n            groupedRoutePatterns={updatedGroupedRoutePatterns}\n          />\n        )}\n      </div>\n      <div className=\"stop-map hidden-sm-down\">\n        <StopMapRedesign\n          stop={stop}\n          lines={\n            activeRow && shapeForSelection\n              ? shapeForSelection\n              : uniqBy(defaultPolylines, \"id\")\n          }\n          vehicles={[]}\n          selectedRoute={activeRow?.route}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default DeparturesAndMap;\n","import React, { ReactElement } from \"react\";\nimport { Mode } from \"../../__v3api\";\nimport {\n  commuterRailIcon,\n  genericSubwayIcon,\n  busIcon,\n  ferryIcon\n} from \"../../helpers/icon\";\n\nexport type ModeChoice = \"all\" | Mode;\ninterface ModeDisplay {\n  displayText: string;\n  displayIcon?: JSX.Element;\n  mode: ModeChoice;\n}\n\nconst ALL_MODE_BUTTONS: ModeDisplay[] = [\n  {\n    mode: \"all\",\n    displayText: \"All\"\n  },\n  {\n    mode: \"commuter_rail\",\n    displayText: \"Rail\",\n    displayIcon: commuterRailIcon(\"c-svg__icon\")\n  },\n  {\n    mode: \"subway\",\n    displayText: \"Subway\",\n    displayIcon: genericSubwayIcon(\"c-svg__icon\")\n  },\n  {\n    mode: \"bus\",\n    displayText: \"Bus\",\n    displayIcon: busIcon(\"c-svg__icon\")\n  },\n  {\n    mode: \"ferry\",\n    displayText: \"Ferry\",\n    displayIcon: ferryIcon(\"c-svg__icon\")\n  }\n];\n\nconst DeparturesFilters = ({\n  modesList,\n  selectedMode,\n  setSelectedMode\n}: {\n  modesList: ModeChoice[];\n  selectedMode: ModeChoice;\n  setSelectedMode: (val: ModeChoice) => void;\n}): ReactElement<HTMLElement> | null => {\n  if (!modesList.length) return null;\n  // Create filter list\n  const displayedModes: ModeDisplay[] = ALL_MODE_BUTTONS.filter(\n    ({ mode }) => mode === \"all\" || modesList.includes(mode)\n  );\n  return (\n    <div className=\"departure-filters\">\n      {displayedModes.map(option => (\n        <button\n          key={option.mode}\n          type=\"button\"\n          onClick={() => setSelectedMode(option.mode)}\n          className={`\n            btn btn-secondary ${\n              selectedMode === option.mode ? \"active\" : \"inactive\"\n            }\n        `}\n        >\n          {option.displayIcon} {option.displayText}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nexport default DeparturesFilters;\n","import React, { ReactElement, ReactNode } from \"react\";\nimport { Alert } from \"../../__v3api\";\nimport {\n  hasClosure,\n  hasDetour,\n  hasShuttleService,\n  hasSuspension,\n  isSuppressiveAlert\n} from \"../../models/alert\";\nimport Badge from \"../../components/Badge\";\n\nconst toHighPriorityAlertBadge = (alerts: Alert[]): JSX.Element | undefined => {\n  if (hasSuspension(alerts) || hasClosure(alerts)) {\n    return <Badge text=\"No Service\" contextText=\"Route Status\" />;\n  }\n\n  if (hasShuttleService(alerts)) {\n    return <Badge text=\"Shuttle Service\" contextText=\"Route Status\" />;\n  }\n\n  return undefined;\n};\n\nconst toInformativeAlertBadge = (alerts: Alert[]): JSX.Element | undefined => {\n  if (hasDetour(alerts)) {\n    return <Badge text=\"Detour\" contextText=\"Route Status\" />;\n  }\n\n  return undefined;\n};\n\nconst alertBadgeWrapper = (alertBadge: JSX.Element): JSX.Element => {\n  return (\n    <div\n      className=\"departure-card__alert\"\n      style={{ float: \"right\", whiteSpace: \"nowrap\", marginTop: \"0.25rem\" }}\n    >\n      {alertBadge}\n    </div>\n  );\n};\n\nconst DeparturesWithBadge = ({\n  alerts,\n  departuresLength,\n  children\n}: {\n  alerts: Alert[];\n  departuresLength: number;\n  children: ReactNode;\n}): ReactElement | null => {\n  const suppressiveAlerts = alerts.filter(alert =>\n    isSuppressiveAlert(alert, departuresLength)\n  );\n  const priorityBadge = toHighPriorityAlertBadge(suppressiveAlerts);\n  const secondaryBadge = toInformativeAlertBadge(alerts);\n  if (!(priorityBadge || secondaryBadge)) return <>{children}</>;\n  const displayBadge = (priorityBadge || secondaryBadge)!;\n\n  return (\n    <>\n      {priorityBadge ? (\n        <div className=\"font-helvetica-neue fs-14\" style={{ float: \"right\" }}>\n          See alternatives\n        </div>\n      ) : (\n        children\n      )}\n      {alertBadgeWrapper(displayBadge)}\n    </>\n  );\n};\n\nexport default DeparturesWithBadge;\n","/**\n * <DisplayTime /> Renders a UI element composing several different aspects of a\n * \"departure\" time. The following diagrams depict the layout used for the list\n * on the realtime tracking page, but can be further adjusted with CSS.\n *\n  |------------|---------------------------------------------------------|\n  | maybe Icon | Time1 maybe Time2                     |\n  |------------|---------------------------------------------------------|\n  |            | {maybe \"Delayed\"} {maybe Delayed Details} maybe Details |\n  |------------|---------------------------------------------------------|\n\n  Example uses:\n  |------|-----------|    |------|---------|\n  |      | 12:59 AM  |    | Icon | 20 min  |\n  |------|-----------|    |------|---------|\n  |      | Tomorrow  |\n  |------|-----------|\n\n  |------|------------------- |    |------|-----------------------------|\n  | Icon | 4:24PM             |    | Icon | 28 min                      |\n  |------|--------------------|    |------|-----------------------------|\n  |      | ~~4:15PM~~ Track 3 |    |      | Delayed ~~11:05AM~~         |\n  |------|--------------------|    |------|-----------------------------|\n */\n\nimport React, { ReactElement } from \"react\";\nimport { differenceInSeconds, secondsInHour } from \"date-fns\";\nimport { DepartureInfo } from \"../../models/departureInfo\";\nimport realtimeIcon from \"../../../static/images/icon-realtime-tracking.svg\";\nimport SVGIcon from \"../../helpers/render-svg\";\nimport {\n  departureInfoToTime,\n  displayInfoContainsPrediction\n} from \"../../helpers/departureInfo\";\nimport BasicTime from \"./BasicTime\";\nimport { isSameDayInBoston } from \"../../helpers/date\";\n\ninterface DisplayTimeProps {\n  departure: DepartureInfo;\n  isCR: boolean;\n  targetDate?: Date | undefined;\n}\n\n/**\n * Renders a UI element composing several different aspects of a \"departure\"\n * time.\n *  - An icon that displays when there's a prediction present\n *  - A \"countdown\" that shows the predicted or scheduled time\n *  - Additional text with secondary information\n *\n * This component sets up and uses a context provider to selectively share\n * departure details with the relatively complex inner elements.\n */\nconst DisplayTime = ({\n  departure,\n  isCR,\n  targetDate = new Date()\n}: DisplayTimeProps): ReactElement<HTMLElement> | null => {\n  const {\n    isCancelled,\n    isDelayed,\n    isSkipped,\n    routeMode,\n    schedule,\n    prediction\n  } = departure;\n  const isDelayedAndDisplayed = isDelayed && routeMode !== \"subway\";\n  const time = departureInfoToTime(departure);\n  const track = prediction?.track;\n  const trackName = isCR && !!track && `Track ${track}`;\n  const tomorrow = !isSameDayInBoston(targetDate, time);\n  const willPrintInRelative =\n    differenceInSeconds(time, targetDate) < secondsInHour;\n  const willSetRelativeProp = !(isCancelled || isSkipped) && !isCR;\n\n  return (\n    <>\n      <div className=\"stop-routes__realtime-icon\">\n        {displayInfoContainsPrediction(departure) &&\n          !(isCancelled || isSkipped) &&\n          SVGIcon(\"c-svg__icon--realtime fs-10\", realtimeIcon)}\n      </div>\n      {isSkipped && schedule && (\n        <div className=\"fs-14\">\n          Skipped{\" \"}\n          <BasicTime\n            displayType=\"absolute\"\n            time={schedule.time}\n            targetDate={targetDate}\n            strikethrough\n          />\n        </div>\n      )}\n      {isCancelled && schedule && (\n        <div className=\"fs-14\">\n          Cancelled{\" \"}\n          <BasicTime\n            displayType=\"absolute\"\n            time={schedule.time}\n            targetDate={targetDate}\n            strikethrough\n          />\n        </div>\n      )}\n      {!(isCancelled || isSkipped) && (\n        <>\n          <div className=\"stop-routes__departures-time\">\n            <BasicTime\n              displayType={isCR ? \"absolute\" : \"relative\"}\n              time={time}\n              targetDate={targetDate}\n            />\n          </div>\n          <div className=\"stop-routes__departures-details fs-14\">\n            {isDelayedAndDisplayed && schedule && (\n              <span className=\"time-details--delayed\">\n                Delayed{\" \"}\n                <BasicTime\n                  displayType=\"absolute\"\n                  time={schedule.time}\n                  targetDate={targetDate}\n                  strikethrough\n                />\n              </span>\n            )}{\" \"}\n            {/* Prioritize displaying Tomorrow over track name if both are present */}\n            <span className=\"time-details\">\n              {/* Only show tomorrow if time is not displayed in relative time */}\n              {tomorrow && !willPrintInRelative && willSetRelativeProp\n                ? \"Tomorrow\"\n                : trackName || null}\n            </span>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport { DisplayTime as default };\n","import React, { ReactElement } from \"react\";\nimport renderFa from \"../../helpers/render-fa\";\nimport { isIPhone } from \"../../helpers/mobileDetect\";\n\n// This is temporary to test out an idea\nconst getPlaceID = (stationName: string | undefined): string => {\n  return stationName === \"Wonderland\" ? \"ChIJSbu0PwZu44kRLxNeyhVE0oI\" : \"\";\n};\n\n// Creates a Map URI that supports both Apple and Google Maps\n// given name, latitude, and longitude exact locations can (usually) be pinned\n// given just a latitude and longitude a rough marker can be placed\nconst getExternalMapURI = (\n  latitude: number,\n  longitude: number,\n  name?: string\n): string => {\n  let params = \"\";\n\n  // Apple uses a combination of `q` and `sll` to pin locations\n  // Google uses a combination of the `query` and `query_place_id` to pin locations\n  if (name) {\n    const latLongString = `${latitude},${longitude}`;\n    const encodedName = encodeURIComponent(name);\n    params += `&query=${encodedName}&q=${encodedName}&query_place_id=${getPlaceID(\n      name\n    )}&sll=${latLongString}`;\n  }\n\n  // google searches lat long via the `query` param\n  // apple searches lat long via the `q` param\n  if (!name) {\n    const latLongString = `${latitude},${longitude}`;\n    params += `&query=${latLongString}&q=${latLongString}`;\n  }\n\n  // TODO figure out query_place_id for each station\n  // https://www.google.com/maps/search/?api=1&query=Wonderland&query_place_id=ChIJSbu0PwZu44kRLxNeyhVE0oI\n  let mapURI = \"https://www.google.com/maps/search/?api=1&\";\n  if (isIPhone()) {\n    // https://maps.apple.com/?q=Wonderland&ll=42.413827136668104,-70.99165717317734\n    mapURI = \"maps://www.google.com/maps/search/?api=1&\";\n  }\n\n  return `${mapURI}${params}`;\n};\n\nconst ExternalMapLink = ({\n  address,\n  municipality,\n  name,\n  latitude,\n  longitude\n}: {\n  address: string | null;\n  municipality: string | null;\n  name: string;\n  latitude: number;\n  longitude: number;\n}): ReactElement<HTMLElement> => {\n  const externalMapURI = getExternalMapURI(longitude, latitude, name);\n\n  let displayString = address;\n  if (!address) {\n    displayString = `${name}, ${municipality}`;\n  }\n\n  return (\n    <a\n      href={externalMapURI}\n      target=\"_blank\"\n      rel=\"noreferrer\"\n      className=\"c-call-to-action\"\n    >\n      {displayString}\n      {renderFa(\"ps-5\", \"fa-solid fa-arrow-up-right-from-square\")}\n    </a>\n  );\n};\n\nexport { ExternalMapLink as default, getExternalMapURI };\n","import React, { ReactElement } from \"react\";\nimport { isStopAStation } from \"../../helpers/stops\";\nimport { Alert, Facility, Stop } from \"../../__v3api\";\nimport ExternalMapLink from \"./ExternalMapLink\";\nimport ParkingAmenityCard from \"./amenities/ParkingAmenityCard\";\nimport BikeStorageAmenityCard from \"./amenities/BikeStorageAmenityCard\";\nimport ElevatorsAmenityCard from \"./amenities/ElevatorsAmenityCard\";\nimport EscalatorsAmenityCard from \"./amenities/EscalatorsAmenityCard\";\nimport AccessibilityAmenityCard from \"./amenities/AccessibilityAmenityCard\";\nimport FareSalesAmenityCard from \"./amenities/FareSalesAmenityCard\";\nimport {\n  alertsByActivity,\n  alertsByFacility,\n  filterParkingAlerts\n} from \"../../models/alert\";\n\nconst StationInformation = ({\n  stop,\n  alerts,\n  facilities\n}: {\n  stop: Stop;\n  alerts: Alert[];\n  facilities: Facility[];\n}): ReactElement<HTMLElement> => {\n  const isStation = isStopAStation(stop);\n\n  const facilitiesByType = new Map<string, Facility[]>();\n\n  facilities.forEach((facility: Facility) => {\n    const { type } = facility.attributes;\n    if (facilitiesByType.has(type)) {\n      facilitiesByType.get(type)?.push(facility);\n    } else {\n      facilitiesByType.set(type, [facility]);\n    }\n  });\n\n  const elevators = facilitiesByType.get(\"ELEVATOR\") || [];\n  const escalators = facilitiesByType.get(\"ESCALATOR\") || [];\n\n  return (\n    <div>\n      <h2>{isStation ? \"Station Information\" : \"Stop Information\"}</h2>\n      <ExternalMapLink\n        address={stop.address}\n        municipality={stop.municipality}\n        name={stop.name}\n        latitude={stop.latitude}\n        longitude={stop.longitude}\n      />\n      <div className=\"station-amenities mt-24\">\n        {isStation && (\n          <>\n            <h3 className=\"hidden-md-up\">Bringing your car or bike</h3>\n            <ParkingAmenityCard\n              stop={stop}\n              alertsForParking={filterParkingAlerts(alerts)}\n            />\n            <BikeStorageAmenityCard\n              stopName={stop.name}\n              bikeStorage={stop.bike_storage}\n              alerts={alertsByActivity(alerts, \"store_bike\")}\n            />\n          </>\n        )}\n        {isStation && (\n          <>\n            <h3 className=\"hidden-md-up\">Getting around the station</h3>\n            <ElevatorsAmenityCard\n              stopName={stop.name}\n              alerts={alertsByFacility(\n                elevators !== undefined ? elevators : [],\n                alerts\n              )}\n              elevatorFacilities={elevators}\n            />\n            <EscalatorsAmenityCard\n              stopName={stop.name}\n              alerts={alertsByFacility(\n                escalators !== undefined ? escalators : [],\n                alerts\n              )}\n              escalatorFacilities={escalators}\n            />\n          </>\n        )}\n        <AccessibilityAmenityCard\n          accessibleFeatures={stop.accessibility}\n          stopName={stop.name}\n          isStation={isStation}\n        />\n        {isStation && <h3 className=\"hidden-md-up\">Purchasing fares</h3>}\n        <FareSalesAmenityCard stop={stop} />\n      </div>\n    </div>\n  );\n};\n\nexport default StationInformation;\n","import React, { ReactElement } from \"react\";\nimport Map from \"../../leaflet/components/Map\";\nimport { Route, Stop } from \"../../__v3api\";\nimport {\n  MapData,\n  MapMarker,\n  Polyline\n} from \"../../leaflet/components/__mapdata\";\nimport useMapConfig from \"../../hooks/useMapConfig\";\nimport { Vehicle } from \"../../hooks/useVehiclesChannel\";\nimport {\n  isABusRoute,\n  isACommuterRailRoute,\n  isAGreenLineRoute,\n  isASilverLineRoute,\n  isFerryRoute\n} from \"../../models/route\";\n\ninterface Props {\n  stop: Stop;\n  lines: Polyline[];\n  vehicles: Vehicle[];\n  selectedRoute?: Route;\n}\n\nconst routeToModeIconName = (route?: Route): string => {\n  if (route) {\n    if (isACommuterRailRoute(route)) return \"mode-commuter-rail-small\";\n    if (isASilverLineRoute(route)) return \"mode-bus-silver\";\n    if (isABusRoute(route)) return \"mode-bus-small\";\n    if (isFerryRoute(route)) return \"mode-ferry-small\";\n    if (isAGreenLineRoute(route)) return \"mode-subway-green\";\n    switch (route.id) {\n      case \"Mattapan\":\n        return \"mode-trolley-small\";\n      case \"Blue\":\n        return \"mode-subway-blue\";\n      case \"Red\":\n        return \"mode-subway-red\";\n      case \"Orange\":\n        return \"mode-subway-orange\";\n      default:\n        return \"mode-subway-small\";\n    }\n  }\n\n  return \"vehicle-bordered-expanded\";\n};\n\nconst mapMarkerFromVehicle = (\n  vehicle: Vehicle,\n  iconName: string\n): MapMarker => {\n  return {\n    id: vehicle.id,\n    alt: `vehicle ${vehicle.id} marker`,\n    icon: iconName,\n    latitude: vehicle.latitude,\n    longitude: vehicle.longitude,\n    rotation_angle: 0,\n    icon_opts: {\n      icon_size: [26, 26],\n      icon_anchor: [13, 13]\n    },\n    tooltip: null\n  };\n};\n\nconst mapMarkerFromStop = (stop: Stop): MapMarker => {\n  return {\n    icon: \"map-station-marker\",\n    id: stop.id,\n    alt: `stop ${stop.name} marker`,\n    longitude: stop.longitude,\n    latitude: stop.latitude,\n    rotation_angle: 0,\n    tooltip: null\n  } as MapMarker;\n};\n\nconst polylineClassName = (polyline: Polyline): string =>\n  `stop-map_line stop-map_line--${polyline.id}`;\n\nconst StopMapRedesign = ({\n  stop,\n  lines,\n  vehicles,\n  selectedRoute\n}: Props): ReactElement<HTMLElement> => {\n  const mapConfig = useMapConfig();\n  const iconName = routeToModeIconName(selectedRoute);\n  const mapData = {\n    // TODO: Default center on the selected vehicle\n    default_center: { longitude: stop.longitude, latitude: stop.latitude },\n    markers: [\n      ...vehicles.map(vehicle => mapMarkerFromVehicle(vehicle, iconName)),\n      mapMarkerFromStop(stop)\n    ],\n    polylines: lines.map(line => ({\n      ...line,\n      className: polylineClassName(line)\n    })),\n    tile_server_url: mapConfig?.tile_server_url,\n    zoom: 16\n  } as MapData;\n\n  return (\n    <div\n      id={stop.id}\n      role=\"application\"\n      aria-label=\"Map with stop\"\n      className=\"stop-map\"\n    >\n      <Map mapData={mapData} />\n    </div>\n  );\n};\n\nexport default StopMapRedesign;\n","import { filter, groupBy, sortBy } from \"lodash\";\nimport React, { ReactElement, useState } from \"react\";\nimport { Alert, Route } from \"../../__v3api\";\nimport DeparturesFilters, { ModeChoice } from \"./DeparturesFilters\";\nimport { isRailReplacementBus, modeForRoute } from \"../../models/route\";\nimport DepartureCard from \"./DepartureCard\";\nimport { alertsByRoute, isInNextXDays } from \"../../models/alert\";\nimport { DepartureInfo } from \"../../models/departureInfo\";\nimport { GroupedRoutePatterns } from \"../../models/route-patterns\";\n\ninterface StopPageDeparturesProps {\n  routes: Route[];\n  departureInfos: DepartureInfo[];\n  alerts: Alert[];\n  groupedRoutePatterns: GroupedRoutePatterns;\n}\n\n// Commuter Rail, then Subway, then Bus\nconst modeSortFn = ({ type }: Route): number => {\n  if (type === 2) {\n    return 1;\n  }\n  if (type in [0, 1]) {\n    return 2;\n  }\n  return type;\n};\n\nconst StopPageDepartures = ({\n  routes,\n  departureInfos,\n  alerts,\n  groupedRoutePatterns\n}: StopPageDeparturesProps): ReactElement<HTMLElement> => {\n  // default to show all modes.\n  const [selectedMode, setSelectedMode] = useState<ModeChoice>(\"all\");\n  // Filters our all replacement buses that haven't been remapped in the parent component\n  const nonShuttleRoutes = filter(routes, r => !isRailReplacementBus(r));\n  const groupedRoutes = groupBy(nonShuttleRoutes, modeForRoute);\n  const modesList = Object.keys(groupedRoutes) as ModeChoice[];\n  const filteredRoutes =\n    selectedMode === \"all\" ? nonShuttleRoutes : groupedRoutes[selectedMode];\n  const currentAlerts = filter(alerts, a => isInNextXDays(a, 0));\n  const groupedAlerts = alertsByRoute(currentAlerts);\n\n  return (\n    <div className=\"routes\">\n      {modesList.length > 1 && (\n        <DeparturesFilters\n          modesList={modesList}\n          selectedMode={selectedMode}\n          setSelectedMode={setSelectedMode}\n        />\n      )}\n      <ul className=\"stop-departures list-unstyled\">\n        {sortBy(filteredRoutes, [modeSortFn, \"sort_order\"]).map(route => (\n          <DepartureCard\n            key={route.id}\n            route={route}\n            routePatternsByHeadsign={groupedRoutePatterns[route.id]}\n            alertsForRoute={groupedAlerts[route.id] || []}\n            departuresForRoute={departureInfos.filter(\n              d => d.route.id === route.id\n            )}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default StopPageDepartures;\n","import React, { ReactElement } from \"react\";\nimport { Route, Stop } from \"../../__v3api\";\nimport StopFeatures from \"./icons/StopFeatures\";\nimport { isStopAStation } from \"../../helpers/stops\";\n\nconst StopPageHeaderRedesign = ({\n  stop,\n  routes\n}: {\n  stop: Stop;\n  routes: Route[];\n}): ReactElement<HTMLElement> => {\n  return (\n    <div className=\"u-bg--gray-bordered-background\">\n      {/* Including `container` on the header class causes some weird\n          interactions with the stop.id and justify content\n          Added to a separate dive to get the desired behavior\n       */}\n      <div className=\"container\">\n        <header\n          className=\"d-flex justify-content-space-between\"\n          style={{ alignItems: \"center\" }}\n        >\n          <div className=\"d-flex\">\n            <h1 className=\"stop-page__header--fontsize mt-8\">{stop.name}</h1>\n          </div>\n          <div>\n            <div className=\"mt-8 d-flex justify-content-end\">\n              <StopFeatures stop={stop} routes={routes} />\n            </div>\n            <div\n              className=\"mt-n8 pb-8 fs-14 u-nowrap\"\n              style={{ float: \"right\" }}\n            >\n              {!isStopAStation(stop) && `Stop ${stop.id}`}\n            </div>\n          </div>\n        </header>\n      </div>\n    </div>\n  );\n};\n\nexport default StopPageHeaderRedesign;\n","import React, { ReactElement, useState } from \"react\";\nimport { concat, filter } from \"lodash\";\nimport { useLoaderData } from \"react-router-dom\";\nimport { useStop, useFacilitiesByStop } from \"../../hooks/useStop\";\nimport StationInformation from \"./StationInformation\";\nimport { useRoutes } from \"../../hooks/useRoute\";\nimport StopPageHeaderRedesign from \"./StopPageHeaderRedesign\";\nimport Loading from \"../../components/Loading\";\nimport Alerts from \"../../components/Alerts\";\nimport { useAlertsByRoute, useAlertsByStop } from \"../../hooks/useAlerts\";\nimport DeparturesAndMap from \"./DeparturesAndMap\";\nimport {\n  isGlobalBannerAlert,\n  routeWideAlerts,\n  isInNextXDays,\n  isAmenityAlert,\n  hasDetour\n} from \"../../models/alert\";\nimport { FetchStatus } from \"../../helpers/use-fetch\";\nimport { Alert } from \"../../__v3api\";\nimport { GroupedRoutePatterns } from \"../../models/route-patterns\";\n\nconst isStopPageAlert = ({ effect }: Alert): boolean =>\n  [\n    \"suspension\",\n    \"stop_closure\",\n    \"station_closure\",\n    \"shuttle\",\n    \"detour\",\n    \"stop_moved\"\n  ].includes(effect);\n\nconst FullwidthErrorMessage = (): JSX.Element => (\n  <div className=\"c-fullscreen-error__container\">\n    <div className=\"container\">\n      <p className=\"c-fullscreen-error__heading u-bold\">\n        Live information could not be loaded.\n      </p>\n      <p>Please refresh the page to try again.</p>\n    </div>\n  </div>\n);\nconst StopPageRedesign = ({\n  stopId\n}: {\n  stopId: string;\n}): ReactElement<HTMLElement> => {\n  const [hasPredictionError, setPredictionError] = useState(false);\n  const stopResult = useStop(stopId);\n  const groupedRoutePatterns = useLoaderData() as GroupedRoutePatterns;\n  const routesResult = useRoutes(Object.keys(groupedRoutePatterns || []));\n  const alertsForStopResult = useAlertsByStop(stopId);\n  const facilities = useFacilitiesByStop(stopId);\n  const routes = routesResult.data || [];\n  const alertsForRoutesResult = useAlertsByRoute(routes.map(r => r.id));\n\n  if (\n    [stopResult.status, routesResult.status, facilities.status].includes(\n      FetchStatus.Error\n    )\n  ) {\n    // TODO: get the actual error message here and/or throw the Error from the\n    // fetching hooks themselves\n    throw new Error();\n  }\n\n  // Return loading indicator while waiting on data fetch\n  if (\n    !stopResult.data ||\n    !alertsForRoutesResult.data ||\n    !alertsForStopResult.data ||\n    !facilities.data\n  ) {\n    return <Loading />;\n  }\n\n  const allRouteWideAlerts = routeWideAlerts(alertsForRoutesResult.data);\n  const allAlerts = concat(alertsForStopResult.data, allRouteWideAlerts);\n  const allAmenityAlerts = filter(allAlerts, a => isAmenityAlert(a));\n  const allStopPageAlerts = filter(allAlerts, a => isStopPageAlert(a));\n\n  const alertsWithinSevenDays = filter(allStopPageAlerts, alert =>\n    isInNextXDays(alert, 7)\n  );\n\n  return (\n    <article>\n      <StopPageHeaderRedesign stop={stopResult.data} routes={routes} />\n      {hasPredictionError && FullwidthErrorMessage()}\n      <div className=\"container\">\n        <Alerts\n          alerts={alertsWithinSevenDays.filter(\n            alert => !isGlobalBannerAlert(alert) && !hasDetour([alert])\n          )}\n        />\n        <DeparturesAndMap\n          routes={routes}\n          stop={stopResult.data}\n          alerts={allStopPageAlerts}\n          setPredictionError={setPredictionError}\n        />\n        <footer>\n          <StationInformation\n            stop={stopResult.data}\n            facilities={facilities.data}\n            alerts={allAmenityAlerts}\n          />\n        </footer>\n      </div>\n    </article>\n  );\n};\n\n//\n// alerts banners should be the specific alert types, and only ongoing or upcoming in 7 days\n\nexport default StopPageRedesign;\n","import { without } from \"lodash\";\nimport React from \"react\";\nimport AmenityCard, { AmenityLink, AmenityModal } from \"./AmenityCard\";\nimport { accessibleIcon } from \"../../../helpers/icon\";\nimport { AccessibilityType } from \"../../../__v3api\";\nimport Badge from \"../../../components/Badge\";\nimport { accessibilityNames } from \"../sidebar/Accessibility\";\n\nconst StationFeatures = (features: AccessibilityType[]): JSX.Element => (\n  <>\n    <h2 className=\"h3\">Station Features</h2>\n    {features.length > 0 ? (\n      <ul>\n        {features.map(\n          feature =>\n            accessibilityNames[feature] && (\n              <li key={feature}>{accessibilityNames[feature]}</li>\n            )\n        )}\n      </ul>\n    ) : (\n      <p>\n        There are no additional accessibility features, but buses are always\n        accessible to board.\n      </p>\n    )}\n  </>\n);\n\nconst StopFeatures = (\n  <>\n    <h2 className=\"h3\">Bus Features</h2>\n    <ul>\n      <li>Buses that can be lowered for easier boarding and exiting</li>\n      <li>Onboard ramps at the front door of each bus</li>\n      <li>2 areas where wheeled mobility devices can be secured</li>\n      <li>\n        Digital displays and automated announcements that share key route and\n        stop info\n      </li>\n    </ul>\n  </>\n);\n\nconst AccessibilityLink = (isStation: boolean): JSX.Element =>\n  isStation ? (\n    <AmenityLink\n      text=\"Learn more about accessibility on the T\"\n      url=\"/accessibility\"\n    />\n  ) : (\n    <AmenityLink\n      text=\"Learn more about bus accessibility\"\n      url=\"/accessibility/bus-guide\"\n    />\n  );\n\nconst AccessibilityAmenityCard = ({\n  accessibleFeatures,\n  stopName,\n  isStation\n}: {\n  accessibleFeatures: AccessibilityType[];\n  stopName: string;\n  isStation: boolean;\n}): JSX.Element => {\n  const stationOrStop = isStation ? \"station\" : \"stop\";\n  const features = without(accessibleFeatures, \"accessible\");\n  const hasAccessibleFeatures = accessibleFeatures.includes(\"accessible\");\n  const badge = !hasAccessibleFeatures && (\n    <Badge text=\"Not accessible\" bgClass=\"u-bg--gray-lighter\" />\n  );\n  const icon = accessibleIcon(\"c-svg__icon-accessible-default\");\n  return (\n    <AmenityCard\n      headerText=\"Accessibility\"\n      icon={icon}\n      badge={badge}\n      modalContent={\n        hasAccessibleFeatures && (\n          <AmenityModal headerText={`Accessibility at ${stopName}`}>\n            {isStation ? StationFeatures(features) : StopFeatures}\n            <AmenityLink\n              text=\"Report an accessibility issue\"\n              url=\"/customer-support\"\n            />\n            {AccessibilityLink(isStation)}\n            <h2 className=\"h3\">Accessibility Resources</h2>\n            <ul>\n              <li>\n                <a href=\"/accessibility/trip-planning\">\n                  Plan an accessible trip\n                </a>\n              </li>\n              <li>\n                <a href=\"/accessibility/mbta-mobility-center\">\n                  Visit the Mobility Center\n                </a>\n              </li>\n            </ul>\n          </AmenityModal>\n        )\n      }\n    >\n      {hasAccessibleFeatures\n        ? `Learn more about the accessibility features at this ${stationOrStop}.`\n        : `This ${stationOrStop} is not accessible.`}\n    </AmenityCard>\n  );\n};\n\nexport default AccessibilityAmenityCard;\n","import React, { ReactElement, useContext, useState } from \"react\";\nimport renderFa from \"../../../helpers/render-fa\";\nimport Modal from \"../../../components/Modal\";\n\nconst AmenityModalContext = React.createContext({\n  closeModal: () => {}\n});\n\nexport const AmenityModal = ({\n  headerText,\n  children\n}: {\n  headerText: string;\n  children?: React.ReactNode;\n}): ReactElement => {\n  const elementId = headerText.toLowerCase().replace(/[ _]/g, \"-\");\n  const { closeModal } = useContext(AmenityModalContext);\n  return (\n    <Modal\n      className=\"c-amenity-modal\"\n      closeModal={closeModal}\n      ariaLabel={{ elementId }}\n    >\n      <h1 id={elementId} className=\"h4\">\n        {headerText}\n      </h1>\n      {children}\n    </Modal>\n  );\n};\n\nexport const AmenityLink = ({\n  url,\n  text\n}: {\n  url: string;\n  text: string;\n}): JSX.Element => (\n  <p>\n    <a href={url} className=\"c-call-to-action\" data-turbolinks=\"false\">\n      {text}\n    </a>\n  </p>\n);\n\nexport const AmenityImage = ({\n  src,\n  altText,\n  className = \"mt-1 mb-1\"\n}: {\n  src: string;\n  altText: string;\n  className?: string;\n}): JSX.Element => (\n  <img\n    className={`img-fluid ${className}`}\n    src={src}\n    alt={altText}\n    style={{ maxHeight: \"250px\" }}\n  />\n);\n\nconst AmenityCard = ({\n  headerText,\n  icon,\n  badge,\n  modalContent,\n  children\n}: {\n  headerText: string;\n  icon: JSX.Element;\n  badge?: React.ReactNode;\n  modalContent?: React.ReactNode;\n  children?: React.ReactNode;\n}): JSX.Element => {\n  const [modalOpen, setModalOpen] = useState(false);\n  return (\n    <>\n      <button\n        type=\"button\"\n        className=\"c-descriptive-link justify-content-space-between\"\n        onClick={() => setModalOpen(true)}\n        disabled={!modalContent}\n      >\n        <div className=\"c-descriptive-link__text\">\n          <div className=\"c-descriptive-link__header\">\n            {icon}\n            <div className=\"c-descriptive-link__title mb-0\">{headerText}</div>\n            {badge && <div className=\"c-descriptive-link__badge\">{badge}</div>}\n          </div>\n          {children && <div className=\"mt-8 hidden-sm-down\">{children}</div>}\n        </div>\n        {modalContent && (\n          <div className=\"c-descriptive-link__caret-wrapper\">\n            {renderFa(\"c-descriptive-link__caret\", \"fa-angle-right\")}\n          </div>\n        )}\n      </button>\n      <AmenityModalContext.Provider\n        value={{ closeModal: () => setModalOpen(false) }}\n      >\n        {modalOpen && modalContent}\n      </AmenityModalContext.Provider>\n    </>\n  );\n};\n\nexport default AmenityCard;\n","import React from \"react\";\nimport AmenityCard, {\n  AmenityImage,\n  AmenityLink,\n  AmenityModal\n} from \"./AmenityCard\";\nimport { bikeIcon } from \"../../../helpers/icon\";\nimport { Alert, BikeStorageType } from \"../../../__v3api\";\nimport Alerts from \"../../../components/Alerts\";\nimport Badge from \"../../../components/Badge\";\n\nconst availabilityMessage = (\n  pedal: boolean,\n  covered: boolean,\n  outdoor: boolean\n): string => {\n  if (pedal) {\n    return \"Secured parking is available but requires Charlie Card registration in advance.\";\n  }\n  if (covered && outdoor) {\n    return \"Covered and outdoor bike racks are available.\";\n  }\n  if (covered) return \"Covered bike racks are available.\";\n  if (outdoor) return \"Outdoor bike racks are available.\";\n  return \"This station does not have bike storage.\";\n};\n\nconst BikeStorageAmenityCard = ({\n  stopName,\n  bikeStorage,\n  alerts\n}: {\n  stopName: string;\n  bikeStorage: BikeStorageType[];\n  alerts: Alert[];\n}): JSX.Element => {\n  const hasBikeFacilityAlert = alerts.length > 0;\n  const hasBikeStorage = bikeStorage.length > 0;\n  // inferred from gtfs_creator: these 3 Bike storage facility types\n  const hasPedalAndPark = bikeStorage.includes(\"bike_storage_cage\");\n  const hasOutdoorRack = bikeStorage.includes(\"bike_storage_rack\");\n  const hasEnclosedRack = bikeStorage.includes(\"bike_storage_rack_covered\");\n\n  const cardBadge = (): React.ReactNode => {\n    if (hasBikeFacilityAlert) {\n      return <Badge text=\"Temporarily closed\" />;\n    }\n    if (!hasBikeStorage) {\n      return <Badge text=\"Not available\" bgClass=\"u-bg--gray-lighter\" />;\n    }\n    return null;\n  };\n\n  return (\n    <AmenityCard\n      headerText=\"Bike Storage\"\n      icon={bikeIcon(\"c-svg__icon u-flex-align-self-end\")}\n      badge={cardBadge()}\n      modalContent={\n        hasBikeStorage && (\n          <AmenityModal headerText={`Bike Storage at ${stopName}`}>\n            {hasBikeFacilityAlert && <Alerts alerts={alerts} />}\n            <h2 className=\"h3 mt-8\">Facility Information</h2>\n            {hasPedalAndPark && (\n              <AmenityImage\n                className=\"mt-8 mb-1\"\n                src=\"https://cdn.mbta.com/sites/default/files/styles/max_2600x2600/public/media/2020-07/bike-parking-back-bay.jpg\"\n                altText=\"MBTA Pedal and Park bike storage\"\n              />\n            )}\n            <ul>\n              {hasPedalAndPark && (\n                <li>\n                  Free Pedal and Park secured parking (requires{\" \"}\n                  <a href=\"/fares/charliecard-and-charlieticket-online-services\">\n                    CharlieCard{\" \"}\n                  </a>\n                  registration in advance)\n                </li>\n              )}\n              {hasEnclosedRack && <li>Covered bike racks</li>}\n              {hasOutdoorRack && <li>Outdoor bike racks</li>}\n            </ul>\n            {hasPedalAndPark && (\n              <AmenityLink\n                url=\"https://bc.mbta.com/riding_the_t/bikes/register/Default.asp\"\n                text=\"Register your CharlieCard for bike parking\"\n              />\n            )}\n            <AmenityLink\n              url=\"/bikes/bike-parking\"\n              text=\"Learn more about bike parking at the T\"\n            />\n          </AmenityModal>\n        )\n      }\n    >\n      {hasBikeFacilityAlert\n        ? \"Learn more about bike storage at this station.\"\n        : availabilityMessage(hasPedalAndPark, hasEnclosedRack, hasOutdoorRack)}\n    </AmenityCard>\n  );\n};\n\nexport default BikeStorageAmenityCard;\n","import React from \"react\";\nimport AmenityCard from \"./AmenityCard\";\nimport { elevatorIcon } from \"../../../helpers/icon\";\nimport { Alert, Facility } from \"../../../__v3api\";\nimport AccessAmenitiesModal from \"../AccessAmenitiesModal\";\nimport { availabilityMessage, cardBadge } from \"./access-amenities-helpers\";\n\nconst ElevatorsAmenityCard = ({\n  stopName,\n  alerts,\n  elevatorFacilities\n}: {\n  stopName: string;\n  alerts: Alert[];\n  elevatorFacilities: Facility[];\n}): JSX.Element => {\n  const icon = (\n    <span className=\"m-stop-page__icon\">{elevatorIcon(\"c-svg__icon\")}</span>\n  );\n\n  return (\n    <AmenityCard\n      headerText=\"Elevators\"\n      badge={cardBadge(elevatorFacilities, alerts)}\n      icon={icon}\n      modalContent={\n        elevatorFacilities.length > 0 && (\n          <AccessAmenitiesModal\n            stopName={stopName}\n            alerts={alerts}\n            facilities={elevatorFacilities}\n            facilityType=\"Elevator\"\n          />\n        )\n      }\n    >\n      {availabilityMessage(\n        alerts.length,\n        elevatorFacilities.length,\n        \"elevators\"\n      )}\n    </AmenityCard>\n  );\n};\n\nexport default ElevatorsAmenityCard;\n","import React from \"react\";\nimport AmenityCard from \"./AmenityCard\";\nimport { escalatorIcon } from \"../../../helpers/icon\";\nimport { Alert, Facility } from \"../../../__v3api\";\nimport AccessAmenitiesModal from \"../AccessAmenitiesModal\";\nimport { availabilityMessage, cardBadge } from \"./access-amenities-helpers\";\n\nconst EscalatorsAmenityCard = ({\n  stopName,\n  alerts,\n  escalatorFacilities\n}: {\n  stopName: string;\n  alerts: Alert[];\n  escalatorFacilities: Facility[];\n}): JSX.Element => {\n  const icon = (\n    <span className=\"m-stop-page__icon\">{escalatorIcon(\"c-svg__icon\")}</span>\n  );\n\n  return (\n    <AmenityCard\n      headerText=\"Escalators\"\n      badge={cardBadge(escalatorFacilities, alerts)}\n      icon={icon}\n      modalContent={\n        escalatorFacilities.length > 0 && (\n          <AccessAmenitiesModal\n            stopName={stopName}\n            alerts={alerts}\n            facilities={escalatorFacilities}\n            facilityType=\"Escalator\"\n          />\n        )\n      }\n    >\n      {availabilityMessage(\n        alerts.length,\n        escalatorFacilities.length,\n        \"escalators\"\n      )}\n    </AmenityCard>\n  );\n};\n\nexport default EscalatorsAmenityCard;\n","import React from \"react\";\nimport AmenityCard, {\n  AmenityImage,\n  AmenityLink,\n  AmenityModal\n} from \"./AmenityCard\";\nimport { faresIcon } from \"../../../helpers/icon\";\nimport { Stop } from \"../../../__v3api\";\nimport useFetch from \"../../../hooks/useFetch\";\nimport { FetchState, FetchStatus } from \"../../../helpers/use-fetch\";\nimport Loading from \"../../../components/Loading\";\n\nconst FareRetailLocations = (stop: Stop): JSX.Element => (\n  <>\n    <h2 className=\"h3 mb-8\">Fare Retail Locations</h2>\n    <p className=\"mt-0\">\n      This stop does not have fare vending machines, but you can purchase fares\n      at a{\" \"}\n      <a\n        href={`/fares/retail-sales-locations?location[address]=${stop.address}&location[latitude]=${stop.latitude}&location[longitude]=${stop.longitude}`}\n      >\n        nearby retail location\n      </a>{\" \"}\n      or pay with cash on any bus.\n    </p>\n  </>\n);\n\nconst FareVendingMachines = (): JSX.Element => (\n  <>\n    <h2 className=\"h3 mb-8\">Fare Vending Machines</h2>\n    <AmenityImage\n      src=\"https://cdn.mbta.com/sites/default/files/styles/max_2600x2600/public/media/2021-11/Fare-Transformation-new-fvms-Nov2021.jpg\"\n      altText=\"MBTA fare vending machines\"\n    />\n    <p className=\"mt-0 mb-0\">At fare vending machines, you can:</p>\n    <ul>\n      <li>Purchase a CharlieCard or reload an existing one</li>\n      <li>Purchase CharlieTickets</li>\n    </ul>\n    <p className=\"mt-0 mb-0\">You can pay for your fare with:</p>\n    <ul>\n      <li>Apple Pay</li>\n      <li>Google Pay</li>\n      <li>Samsung Pay</li>\n      <li>Credit/debit cards</li>\n      <li>EBT card</li>\n      <li>Cash</li>\n    </ul>\n  </>\n);\n\nconst fareTable = (tableData: [string, string][]): React.ReactElement => (\n  <>\n    <h2 id=\"fare-types\" className=\"h3 mt-8\">\n      Fare Types\n    </h2>\n    <table aria-labelledby=\"fare-types\" className=\"fare-sales-table\">\n      <thead>\n        <tr>\n          <th scope=\"col\">Trip Type</th>\n          <th scope=\"col\">Cost</th>\n        </tr>\n      </thead>\n      <tbody>\n        {tableData.map(([name, price]) => {\n          return (\n            <tr key={name}>\n              <td>{name}</td>\n              <td>{price}</td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  </>\n);\n\nconst renderFareTable = ({\n  status,\n  data\n}: FetchState<[string, string][]>): React.ReactElement | null => {\n  switch (status) {\n    case FetchStatus.Loading:\n      return <Loading />;\n    default:\n      if (data && data.length > 0) return fareTable(data);\n      return null;\n  }\n};\n\nconst FareSalesAmenityCard = ({ stop }: { stop: Stop }): JSX.Element => {\n  const icon = faresIcon(\"c-svg__icon\");\n  const hasFareVendingMachine = stop[\"has_fare_machine?\"];\n  const faresData = useFetch<[string, string][]>(\n    `/api/fares/one-way?stop_id=${stop.id}`\n  );\n\n  return (\n    <AmenityCard\n      headerText=\"Fare Options\"\n      icon={icon}\n      modalContent={\n        <AmenityModal headerText={`Fare Options at ${stop.name}`}>\n          {renderFareTable(faresData)}\n          {hasFareVendingMachine\n            ? FareVendingMachines()\n            : FareRetailLocations(stop)}\n          <AmenityLink url=\"/fares\" text=\"Learn more about fares\" />\n          <AmenityLink\n            url=\"/fares/reduced\"\n            text=\"Learn more about reduced fares and eligibility\"\n          />\n        </AmenityModal>\n      }\n    >\n      {hasFareVendingMachine\n        ? \"Purchase fares at fare vending machines.\"\n        : \"Purchase fares at nearby retail sales locations.\"}\n    </AmenityCard>\n  );\n};\n\nexport default FareSalesAmenityCard;\n","import React from \"react\";\nimport { difference, includes } from \"lodash\";\nimport AmenityCard, { AmenityLink, AmenityModal } from \"./AmenityCard\";\nimport { parkingIcon } from \"../../../helpers/icon\";\nimport { Alert, ParkingLot, Stop } from \"../../../__v3api\";\nimport { getExternalMapURI } from \"../ExternalMapLink\";\nimport Alerts from \"../../../components/Alerts\";\nimport Badge from \"../../../components/Badge\";\nimport { alertsForEffect } from \"../../../models/alert\";\n\nconst getPaymentElement = (park: ParkingLot): JSX.Element => {\n  const paymentMethods =\n    park.payment && park.payment.methods ? park.payment.methods : [];\n\n  if (paymentMethods.length === 0) {\n    return <></>;\n  }\n\n  const mobileAppURL = park.payment?.mobile_app?.url;\n  const supportsMobileApp = includes(paymentMethods, \"Mobile App\");\n  const supportsInvoice = includes(paymentMethods, \"Invoice\");\n  const supportsCash = includes(paymentMethods, \"Cash\");\n  const supportsCreditDebitCard = includes(paymentMethods, \"Credit/Debit Card\");\n\n  return (\n    <>\n      <h3>Payment Methods</h3>\n      <ul>\n        {supportsMobileApp && mobileAppURL && (\n          <li>\n            Use PayByPhone (location #{park.payment?.mobile_app?.id})\n            <ul>\n              <li>\n                Download on{\" \"}\n                <a href=\"https://play.google.com/store/apps/details?id=com.paybyphone&shortlink=72quwtf4&c=Footer_Android&pid=NA_Website&af_xp=custom&source_caller=ui&pli=1\">\n                  Google Play\n                </a>\n              </li>\n              <li>\n                Download on{\" \"}\n                <a href=\"https://paybyphone.onelink.me/ZQkh/vi3pgnpz\">\n                  App Store\n                </a>\n              </li>\n              <li>\n                Visit <a href={mobileAppURL}>PayByPhone website</a>\n              </li>\n              <li>\n                Call <a href=\"tel:866-234-7275\">866-234-7275</a>\n              </li>\n            </ul>\n          </li>\n        )}\n        {supportsCreditDebitCard && <li>Credit/Debit Card</li>}\n        {supportsCash && <li>Cash</li>}\n        {supportsInvoice && <li>Get an invoice in the mail for a $1 fee</li>}\n      </ul>\n      <AmenityLink\n        url=\"/parking/pay-day\"\n        text=\"View more payment information\"\n      />\n    </>\n  );\n};\n\nconst getModalContent = (\n  stop: Stop,\n  alertsForParking: Alert[]\n): JSX.Element | undefined => {\n  // If there is no parking lot information then this modal should never show\n  if (!stop.parking_lots || stop.parking_lots.length === 0) {\n    return undefined;\n  }\n  return (\n    <AmenityModal headerText={`Parking at ${stop.name}`}>\n      <Alerts alerts={alertsForParking} />\n      <div>\n        {stop.parking_lots.map(\n          (park): JSX.Element => {\n            let externalMapURI = null;\n            if (park.latitude && park.longitude) {\n              externalMapURI = getExternalMapURI(park.latitude, park.longitude);\n            }\n\n            return (\n              <div key={park.name}>\n                <h2 className=\"mt-6\">{park.name}</h2>\n                <h3>Parking Rates</h3>\n                <ul>\n                  {park.payment?.daily_rate && (\n                    <li>\n                      <b>Daily:</b>\n                      <span className=\"ps-8\">{park.payment?.daily_rate}</span>\n                    </li>\n                  )}\n                  {park.payment?.monthly_rate && (\n                    <li>\n                      <b>Monthly:</b>\n                      <span className=\"ps-8\">{park.payment?.monthly_rate}</span>\n                    </li>\n                  )}\n                  {park.capacity?.overnight && (\n                    <li>\n                      <b>Overnight:</b>\n                      <span className=\"ps-8\">{park.capacity?.overnight}</span>\n                    </li>\n                  )}\n                </ul>\n                {getPaymentElement(park)}\n                {park.capacity && (\n                  <>\n                    <h3>Facility Information</h3>\n                    <ul>\n                      <li>{park.capacity.total} total parking spots</li>\n                      <li>{park.capacity.accessible} accessible spots</li>\n                      {park.manager && (\n                        <>\n                          {park.manager.name && (\n                            <li>Managed by {park.manager.name}</li>\n                          )}\n                          <ul>\n                            {park.manager.url && (\n                              <li>\n                                Visit{\" \"}\n                                <a href={`${park.manager.url}`}>\n                                  {park.manager.contact\n                                    ? park.manager.contact\n                                    : null}{\" \"}\n                                  website\n                                </a>\n                              </li>\n                            )}\n                            {park.manager.phone && (\n                              <li>\n                                Call{\" \"}\n                                <a href={`tel:${park.manager.phone}`}>\n                                  {park.manager.phone}\n                                </a>\n                              </li>\n                            )}\n                          </ul>\n                        </>\n                      )}\n                    </ul>\n                  </>\n                )}\n                {externalMapURI && (\n                  <AmenityLink\n                    url={externalMapURI}\n                    text=\"Get directions to this parking facility\"\n                  />\n                )}\n              </div>\n            );\n          }\n        )}\n      </div>\n      <AmenityLink url=\"/parking\" text=\"Learn more about parking at the T\" />\n    </AmenityModal>\n  );\n};\n\nconst getBadge = (\n  parkingLots: ParkingLot[],\n  areAllParkingLotsClosed: boolean\n): JSX.Element => {\n  if (parkingLots.length === 0) {\n    return <Badge text=\"Not available\" bgClass=\"u-bg--gray-lighter\" />;\n  }\n  if (areAllParkingLotsClosed) {\n    return <Badge text=\"Temporarily closed\" />;\n  }\n  return <></>;\n};\n\nconst allParkingLotsClosed = (\n  alerts: Alert[],\n  parkingLots: ParkingLot[]\n): boolean => {\n  if (parkingLots.length === 0) {\n    return false;\n  }\n  const parkingClosuresIDs = alertsForEffect(alerts, \"parking_closure\").flatMap(\n    a => a.informed_entity.facility\n  );\n  const parkingLotIDs = parkingLots.map(p => p.id);\n\n  // if both arrays have the same ids in them then all lots are closed\n  // meaning `openParkingLotIDs` should be empty if all lots are closed\n  const openParkingLotIDs = difference(parkingLotIDs, parkingClosuresIDs);\n\n  return openParkingLotIDs.length === 0;\n};\n\nconst iconColorOverride = (isDisabled: boolean): string => {\n  if (isDisabled) {\n    return \"u-color-gray-dark\";\n  }\n\n  return \"text-primary\";\n};\n\nconst ParkingAmenityCard = ({\n  stop,\n  alertsForParking\n}: {\n  stop: Stop;\n  alertsForParking: Alert[];\n}): JSX.Element => {\n  const allParkingClosed = allParkingLotsClosed(\n    alertsForParking,\n    stop.parking_lots\n  );\n\n  const modalContent = getModalContent(stop, alertsForParking);\n  const iconColor = iconColorOverride(modalContent === undefined);\n  const icon = (\n    <span className={`m-stop-page__icon ${iconColor}`}>{parkingIcon()}</span>\n  );\n\n  const badge = getBadge(stop.parking_lots, allParkingClosed);\n\n  return (\n    <AmenityCard\n      headerText=\"Parking\"\n      icon={icon}\n      modalContent={modalContent}\n      badge={badge}\n    >\n      {stop.parking_lots.length === 0 && (\n        <div>This station does not have parking.</div>\n      )}\n      {!allParkingClosed && stop.parking_lots.length !== 0 && (\n        <div>View daily rates and facility information.</div>\n      )}\n    </AmenityCard>\n  );\n};\n\nexport default ParkingAmenityCard;\n","import React from \"react\";\nimport { Alert, Facility } from \"../../../__v3api\";\nimport Badge from \"../../../components/Badge\";\nimport { isCurrentLifecycle } from \"../../../models/alert\";\n\nexport const availabilityMessage = (\n  brokenFacilities: number,\n  totalFacilities: number,\n  facilityType: \"elevators\" | \"escalators\"\n): string => {\n  if (brokenFacilities === totalFacilities && totalFacilities > 0) {\n    return `All ${facilityType} are currently out of order.`;\n  }\n  if (totalFacilities === 0) {\n    return `This station does not have ${facilityType}.`;\n  }\n  return `View available ${facilityType}.`;\n};\n\nexport const cardBadge = (\n  accessFacilities: Facility[],\n  alerts: Alert[]\n): React.ReactNode => {\n  const currentAlerts = alerts.filter(isCurrentLifecycle);\n  const workingFacilities = accessFacilities.length - currentAlerts.length;\n  if (accessFacilities.length > 0) {\n    let backgroundClass = \"u-success-background\";\n    if (workingFacilities === 0) {\n      backgroundClass = \"u-error-background\";\n    }\n    if (workingFacilities > 0 && workingFacilities < accessFacilities.length) {\n      backgroundClass = \"u-bg--gray-lightest\";\n    }\n    return (\n      <Badge\n        text={`${workingFacilities} of ${accessFacilities.length} working`}\n        bgClass={backgroundClass}\n      />\n    );\n  }\n  return <Badge text=\"Not available\" bgClass=\"u-bg--gray-lighter\" />;\n};\n","import React, { ReactElement } from \"react\";\nimport { some } from \"lodash\";\nimport { Route, Stop } from \"../../../__v3api\";\nimport { accessibleIcon } from \"../../../helpers/icon\";\nimport { isABusRoute } from \"../../../models/route\";\n\nconst AccessibilityIcon = ({\n  stop,\n  routes\n}: {\n  stop: Stop;\n  routes: Route[];\n}): ReactElement<HTMLElement> => {\n  // NOTE: Bus stops are always considered accessible, see\n  // https://app.asana.com/0/1201653980996886/1201894234147725/f\n  const isBusStop = some(routes, r => isABusRoute(r));\n  if (!isBusStop && !stop.accessibility.includes(\"accessible\")) {\n    return <></>;\n  }\n\n  return (\n    <div className=\"m-stop-page__access-icon\">\n      <span className=\"m-stop-page__icon\">\n        {accessibleIcon(\"c-svg__icon-accessible-default\")}\n      </span>\n    </div>\n  );\n};\n\nexport default AccessibilityIcon;\n","import React, { ReactElement } from \"react\";\n\nconst CommuterRailZoneIcon = ({\n  zoneNumber\n}: {\n  zoneNumber?: string;\n}): ReactElement<HTMLElement> => {\n  if (!zoneNumber || zoneNumber.length === 0) {\n    return <></>;\n  }\n\n  return (\n    <div className=\"m-stop-page__header-feature mt-n5\">\n      <span className=\"m-stop-page__icon c-icon__cr-zone\">\n        Zone {zoneNumber}\n      </span>\n    </div>\n  );\n};\n\nexport default CommuterRailZoneIcon;\n","import React, { ReactElement } from \"react\";\nimport { uniqBy } from \"lodash\";\nimport { Route } from \"../../../__v3api\";\nimport { modeIcon } from \"../../../helpers/icon\";\nimport {\n  isACommuterRailRoute,\n  isASilverLineRoute,\n  isFerryRoute,\n  isSubwayRoute\n} from \"../../../models/route\";\n\nconst modeType = (route: Route): string => {\n  if (isACommuterRailRoute(route)) return \"CR\";\n\n  if (isSubwayRoute(route)) return route.id;\n\n  if (isFerryRoute(route)) return \"Ferry\";\n\n  if (isASilverLineRoute(route)) return \"SL\";\n\n  return \"Bus\";\n};\n\nconst modeIconFeature = (route: Route): ReactElement<HTMLElement> => {\n  const content = (\n    <span className=\"m-stop-page__icon\">{modeIcon(route.id)}</span>\n  );\n\n  return (\n    <div key={modeType(route)} className=\"m-stop-page__header-feature\">\n      {content}\n    </div>\n  );\n};\n\n// TODO figure out where this file should live\nconst ModeIcons = ({\n  routes\n}: {\n  routes: Route[];\n}): ReactElement<HTMLElement> => {\n  const routeMap = routes.map(route => modeIconFeature(route));\n  const uniqRouteMap = uniqBy(routeMap, r => {\n    return r.key;\n  });\n  return <>{uniqRouteMap}</>;\n};\n\nexport default ModeIcons;\n","import React, { ReactElement } from \"react\";\nimport { Stop } from \"../../../__v3api\";\nimport { parkingIcon } from \"../../../helpers/icon\";\n\nconst ParkingIcon = ({ stop }: { stop: Stop }): ReactElement<HTMLElement> => {\n  if (stop.parking_lots.length === 0) {\n    return <></>;\n  }\n  return (\n    <div className=\"m-stop-page__header-feature\">\n      <span className=\"m-stop-page__icon\">\n        {parkingIcon(\"u-color-gray-light\")}\n      </span>\n    </div>\n  );\n};\n\nexport default ParkingIcon;\n","import React, { ReactElement } from \"react\";\nimport { Route, Stop } from \"../../../__v3api\";\nimport ModeIcons from \"./ModeIcons\";\nimport CommuterRailZoneIcon from \"./CommuterRailZoneIcon\";\nimport ParkingIcon from \"./ParkingIcon\";\nimport AccessibilityIcon from \"./AccessibilityIcon\";\n\nconst StopFeatures = ({\n  stop,\n  routes\n}: {\n  stop: Stop;\n  routes: Route[];\n}): ReactElement<HTMLElement> => {\n  return (\n    <span className=\"m-stop-page__header-features mb-6\">\n      <ModeIcons routes={routes} />\n      <CommuterRailZoneIcon zoneNumber={stop.zone} />\n      <AccessibilityIcon stop={stop} routes={routes} />\n      <ParkingIcon stop={stop} />\n    </span>\n  );\n};\n\nexport default StopFeatures;\n","import React, { ReactElement } from \"react\";\nimport ExpandableBlock from \"../../../components/ExpandableBlock\";\nimport accessibleIcon from \"../../../../static/images/icon-accessible-default.svg\";\nimport { Stop, AccessibilityType } from \"../../../__v3api\";\nimport { TypedRoutes } from \"../__stop\";\nimport { Dispatch } from \"../../state\";\n\ninterface Props {\n  dispatch: Dispatch;\n  isExpanded: boolean;\n  isFocused: boolean;\n  stop: Stop;\n  routes: TypedRoutes[];\n}\n\n/* eslint-disable camelcase */\nexport const accessibilityNames: {\n  [accessibilityName in AccessibilityType]: string;\n} = {\n  tty_phone: \"TTY Phone\",\n  escalator_both: \"Escalator (up and down)\",\n  escalator_up: \"Escalator (up only)\",\n  escalator_down: \"Escalator (down only)\",\n  ramp: \"Long ramp\",\n  fully_elevated_platform:\n    \"Full high level platform to provide level boarding to every car in a train set\",\n  elevated_subplatform:\n    \"Mini high level platform to provide level boarding to certain cars in a train set\",\n  elevator: \"Elevator\",\n  portable_boarding_lift: \"Portable boarding lift\"\n};\n\nconst hasBus = (routes: TypedRoutes[]): boolean =>\n  routes.some(routeGroup => routeGroup.group_name === \"bus\");\n\n/* eslint-enable camelcase */\nconst isAccessible = (stop: Stop): boolean =>\n  stop.accessibility.includes(\"accessible\");\nconst accessibilityKnown = (stop: Stop): boolean =>\n  !stop.accessibility.includes(\"unknown\");\n\nconst isSpecialCase = (stop: Stop): boolean => stop.id === \"place-asmnl\";\n\nconst maybeRenderBusAccess = (bus: boolean, accessKnown: boolean): string => {\n  if (!bus) return \"\";\n  if (accessKnown) {\n    return \" Customers using wheeled mobility devices may need to board at street level. Bus operator will need to relocate bus for safe boarding and exiting.\";\n  }\n  return \" Bus operator may need to relocate bus for safe boarding and exiting.\";\n};\n\nconst renderSpecialCase = (stop: Stop): string => {\n  const specialCase = stop.id === \"place-asmnl\" ? \"Mattapan Trolley\" : \"train\";\n  return `Significant accessibility barriers exist at ${stop.name} but customers can board or exit the ${specialCase} using a mobile lift. `;\n};\n\nconst renderAccessibilityLevel = (stop: Stop, bus: boolean): string => {\n  if (isSpecialCase(stop)) return renderSpecialCase(stop);\n  if (isAccessible(stop)) return `${stop.name} is accessible. `;\n  if (accessibilityKnown(stop)) {\n    return `Significant accessibility barriers exist at ${\n      stop.name\n    }.${maybeRenderBusAccess(bus, true)}`;\n  }\n  return `Minor to moderate accessibility barriers exist at ${\n    stop.name\n  }.${maybeRenderBusAccess(bus, false)}`;\n};\n\nconst formatAccess = (access: string): string => access.split(\"_\").join(\" \");\n\nconst Access = ({\n  access\n}: {\n  access: AccessibilityType;\n}): ReactElement<HTMLElement> | null => {\n  if (access === \"unknown\" || access === \"accessible\") return null;\n  const accessName = accessibilityNames[access] || formatAccess(access);\n\n  return <li className=\"c-unordered-list-item\">{accessName}</li>;\n};\n\nconst hasAccessibilityFeatures = (stop: Stop): boolean =>\n  stop.accessibility.filter(\n    access => access !== \"unknown\" && access !== \"accessible\"\n  ).length > 0;\n\nconst renderFeaturesList = (stop: Stop): ReactElement<HTMLElement> | null =>\n  hasAccessibilityFeatures(stop) ? (\n    <div id=\"accessibility-features\">\n      {isSpecialCase(stop) ? `${stop.name} ` : \"It \"}\n      has the following features:\n      <ul className=\"m-stop-page__sidebar-list\">\n        {stop.name === \"Lynn\"\n          ? stop.accessibility\n              .filter(access => formatAccess(access) !== \"elevator\")\n              .map(access => <Access access={access} key={access} />)\n          : stop.accessibility.map(access => (\n              <Access access={access} key={access} />\n            ))}\n      </ul>\n    </div>\n  ) : null;\n\nconst renderReportLink = (title: string): ReactElement<HTMLElement> => {\n  const href =\n    typeof document !== \"undefined\"\n      ? `/customer-support?comments=${document.title} | Accessibility issue `\n      : \"/customer-support\";\n  return (\n    <p>\n      <a href={href} className=\"c-call-to-action\">\n        {title}\n      </a>\n    </p>\n  );\n};\n\nconst renderAccessibilityContact = (): ReactElement<HTMLElement> =>\n  renderReportLink(\n    \"Report an elevator, escalator, or other accessibility issue\"\n  );\n\nconst renderLearnMore = (): ReactElement<HTMLElement> => (\n  <p>\n    <a href=\"/accessibility\" className=\"c-call-to-action\">\n      Learn more about accessibility\n    </a>\n  </p>\n);\n\nconst Accessibility = ({\n  dispatch,\n  isExpanded,\n  isFocused,\n  stop,\n  routes\n}: Props): ReactElement<HTMLElement> => (\n  <ExpandableBlock\n    dispatch={dispatch}\n    initiallyExpanded={isExpanded}\n    initiallyFocused={isFocused}\n    id=\"accessibility\"\n    header={{\n      text: \"Accessibility\",\n      iconSvgText: accessibleIcon\n    }}\n  >\n    <>\n      <p id=\"accessibility-level\">\n        {renderAccessibilityLevel(stop, hasBus(routes))}\n      </p>\n      {renderFeaturesList(stop)}\n      {renderAccessibilityContact()}\n      {renderLearnMore()}\n    </>\n  </ExpandableBlock>\n);\n\nexport default Accessibility;\n","import { slice } from \"lodash\";\nimport { getNextUnCancelledDeparture } from \"../../helpers/departureInfo\";\nimport { DepartureInfo } from \"../../models/departureInfo\";\n\n// Returns 3 times from the departureInfo array\n// ensuring that at most time is cancelled\nconst getNextTwoTimes = (\n  departureInfos: DepartureInfo[]\n): [DepartureInfo | undefined, DepartureInfo | undefined] => {\n  const departure1 = departureInfos[0];\n  const departure2 = getNextUnCancelledDeparture(slice(departureInfos, 1));\n\n  return [departure1, departure2];\n};\n\nconst getInfoKey = (departureInfo: DepartureInfo): string => {\n  const trip = departureInfo.prediction\n    ? departureInfo.prediction.trip\n    : departureInfo.schedule!.trip;\n  // This will return Trip1-undefined if prediction data is not available\n  // This is fine as there should not be 2 schedules with the same trip id\n  return `${trip.id}-${departureInfo.prediction?.vehicle_id}`;\n};\n\nexport { getInfoKey, getNextTwoTimes };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n  createBrowserRouter,\n  RouteObject,\n  RouterProvider\n} from \"react-router-dom\";\nimport { ErrorBoundary } from \"@sentry/react\";\nimport StopPageRedesign from \"./components/StopPageRedesign\";\nimport Loading from \"../components/Loading\";\nimport ErrorPage from \"../components/ErrorPage\";\nimport { fetchJson, isFetchFailed } from \"../helpers/fetch-json\";\nimport { GroupedRoutePatterns } from \"../models/route-patterns\";\n\nconst fetchStopRoutePatterns = async (\n  stopId: string\n): Promise<GroupedRoutePatterns | null> => {\n  const data = await fetchJson<GroupedRoutePatterns>(\n    `/api/stop/${stopId}/route-patterns`\n  );\n  if (isFetchFailed(data)) {\n    // eslint-disable-next-line no-console\n    console.error(\n      `Failed to fetch route pattern information: ${data.status} ${data.statusText}`\n    );\n    return null;\n  }\n  return data;\n};\n\nconst routesConfig = (stopId: string): RouteObject[] => [\n  {\n    path: \"/stops/:stopId\",\n    loader: () => fetchStopRoutePatterns(stopId),\n    shouldRevalidate: () => false,\n    element: (\n      <ErrorBoundary fallback={ErrorPage}>\n        <StopPageRedesign stopId={stopId} />\n      </ErrorBoundary>\n    ),\n    hasErrorBoundary: true\n  }\n];\n\nconst render = (): void => {\n  const rootEl = document.getElementById(\"react-stop-redesign-root\");\n  const stopId = rootEl?.dataset.mbtaStopId;\n  if (!stopId) return;\n\n  ReactDOM.render(\n    <RouterProvider\n      router={createBrowserRouter(routesConfig(stopId))}\n      fallbackElement={<Loading />}\n    />,\n    rootEl\n  );\n};\n\nexport const onLoad = (): void => {\n  render();\n};\n\nexport default onLoad;\n","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 48 48\\\"><path fill=\\\"#165c96\\\" d=\\\"m42.71047.00524s-37.34559-.0118-37.33368 0c-3.44194 0-5.37679 1.77646-5.37679 5.40607v37.416c0 3.39508 1.73958 5.17269 5.17869 5.17269h37.63978c3.43929 0 5.18153-1.68908 5.18153-5.17265v-37.41604c0-3.54109-1.74224-5.40607-5.28953-5.40607z\\\"></path><g fill=\\\"#fff\\\"><path d=\\\"m21.49835 40a10.49349 10.49349 0 0 1 -4.37483-20.0433l.23805 3.10682a7.63337 7.63337 0 1 0 11.68481 7.33288l1.86162 3.80982a10.66073 10.66073 0 0 1 -9.40965 5.79378z\\\"></path><path d=\\\"m33.38356 36.60051-4.29382-10.06051-10.46856-.0028-1.01646-14.30274a2.96307 2.96307 0 0 1 -.35658-1.38174 2.85269 2.85269 0 1 1 3.13127 2.84157l.30064 5.33729h7.33767l.02159 2.30208h-7.10211l.16786 2.59022 9.73346-.0654 4.15448 9.59135 3.15491-1.13878.873 2.07865z\\\"></path></g></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 16 16\\\"><rect width=\\\"16\\\" height=\\\"16\\\" fill=\\\"#165c96\\\" rx=\\\"3.74837\\\"></rect><g fill=\\\"#fff\\\"><path d=\\\"m6.90573 13a3.27922 3.27922 0 0 1 -1.36713-6.26353l.07439.97088a2.38543 2.38543 0 1 0 3.6515 2.29152l.58176 1.19057a3.33147 3.33147 0 0 1 -2.94052 1.81056z\\\"></path><path d=\\\"m10.61986 11.93766-1.34186-3.14392-3.27138-.00087-.31762-4.4696a.926.926 0 0 1 -.11143-.4318.89147.89147 0 1 1 .97853.888l.0939 1.6679h2.293l.00674.7194h-2.21937l.05246.80944 3.04171-.02043 1.29828 2.99729.98591-.35587.27281.64958z\\\"></path></g></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 48 48\\\"><path fill=\\\"#1c1e23\\\" d=\\\"m47.55089 42.53651-20.5403-40.60229a3.60991 3.60991 0 0 0 -1.27059-1.3994 3.08289 3.08289 0 0 0 -3.4708 0 3.57213 3.57213 0 0 0 -1.2518 1.3994l-20.5404 40.60229a3.715 3.715 0 0 0 0 3.6423 3.47281 3.47281 0 0 0 1.2518 1.3228 3.21739 3.21739 0 0 0 1.70689.49839h41.1186a3.16147 3.16147 0 0 0 1.688-.49841 3.47248 3.47248 0 0 0 1.2517-1.3228 3.71467 3.71467 0 0 0 .0569-3.64228z\\\"></path><g fill=\\\"#fff\\\"><path d=\\\"m27.04259 39.22282a.71323.71323 0 0 1 -.21909.544.73324.73324 0 0 1 -.54.2332h-4.5683a.73294.73294 0 0 1 -.5394-.2332.77238.77238 0 0 1 -.2192-.544v-4.4456a.77247.77247 0 0 1 .2192-.544.73331.73331 0 0 1 .53939-.23322h4.56881a.73351.73351 0 0 1 .54.2332.71375.71375 0 0 1 .2192.544z\\\"></path><path d=\\\"m26.73759 30.35892a.62508.62508 0 0 1 -.2345.4568.7061.7061 0 0 1 -.516.1828h-4.12809a.73374.73374 0 0 1 -.516-.1828.53482.53482 0 0 1 -.219-.4568l-1.1215-14.4817a.71.71 0 0 1 .2189-.5848.76.76 0 0 1 .516-.2924h6.512a.81448.81448 0 0 1 .53161.2924.70371.70371 0 0 1 .2189.53z\\\"></path></g></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M19.3446 16.986C17.7003 16.986 16.306 15.8279 15.9013 14.2593C19.6117 14.2669 19.941 14.4625 19.9953 13.8002C19.9894 13.6008 19.9197 13.4711 18.3026 9.776C18.6318 9.6735 18.9785 9.61729 19.3446 9.61729C21.3102 9.61729 22.9059 11.2691 22.9059 13.3025C22.9059 15.3321 21.3102 16.986 19.3446 16.986ZM17.3905 10.2175L18.7364 13.2968L15.7755 13.287C15.7831 12.0071 16.4185 10.8762 17.3905 10.2175ZM14.6852 13.2851L13.8176 13.2832L16.0659 7.18884L16.9374 9.18346C15.5953 10.0219 14.6929 11.546 14.6852 13.2851ZM12.8222 13.1553L7.18669 6.81104L15.1112 6.79556L12.8222 13.1553ZM8.22089 13.3782C8.22089 15.4096 6.6213 17.0633 4.65365 17.0633C2.68809 17.0633 1.09041 15.4096 1.09041 13.3782C1.09041 11.3484 2.68809 9.69856 4.65365 9.69856C4.83759 9.69856 5.00604 9.71022 5.17658 9.73737C4.04162 13.4381 4.18118 13.0161 4.17144 13.3278C4.16378 13.5891 4.37087 13.8002 4.62859 13.8157C5.09531 13.7694 4.99073 13.8467 6.15075 10.0337C7.37063 10.6184 8.22089 11.8985 8.22089 13.3782ZM19.3446 8.49208C18.8236 8.49208 18.3202 8.58118 17.8475 8.7458C17.4932 7.91503 17.0672 6.94486 16.5695 5.80033L16.8869 4.90169L17.9735 4.8822V3.93919H13.8738C13.5135 4.44472 14.0248 4.44472 15.8355 4.86306L15.5179 5.78084H7.41918C7.96908 3.81146 7.65933 3.95467 10.1128 3.96251V3C6.73737 3.03289 7.32225 2.63978 5.51157 8.65287C5.23087 8.59875 4.95001 8.57143 4.65365 8.57143C2.08963 8.57143 0 10.7289 0 13.3782C0 16.0313 2.08963 18.1906 4.65365 18.1906C7.22932 18.1906 9.31495 16.0313 9.31495 13.3782C9.31495 11.397 8.14328 9.68708 6.47982 8.95497C6.58057 8.62573 6.6909 8.27334 6.80906 7.89571C13.6162 15.3205 11.0656 14.1159 14.7279 14.2669H14.7762C15.2118 16.461 17.0963 18.1091 19.3446 18.1091C21.9067 18.1091 24 15.9556 24 13.3025C24 10.6475 21.9067 8.49208 19.3446 8.49208Z\\\" fill=\\\"#165C96\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 48 48\\\"><path fill=\\\"#003da5\\\" d=\\\"m24 0a24 24 0 1 0 24 24 24 24 0 0 0 -24-24\\\"></path><g fill=\\\"#fff\\\"><path d=\\\"m16.21338 13.647a12.87772 12.87772 0 0 1 2.69726.26123 5.83 5.83 0 0 1 2.0879.85547 3.98326 3.98326 0 0 1 1.34863 1.58057 5.56185 5.56185 0 0 1 .47851 2.43555 4.5366 4.5366 0 0 1 -.71093 2.61035 5.16141 5.16141 0 0 1 -2.10254 1.71093 4.97692 4.97692 0 0 1 2.85644 1.92823 5.74358 5.74358 0 0 1 .94239 3.3208 5.70688 5.70688 0 0 1 -.6084 2.71142 5.28726 5.28726 0 0 1 -1.63864 1.87058 7.25022 7.25022 0 0 1 -2.3496 1.07275 10.589 10.589 0 0 1 -2.71094.34815h-10.03422v-20.70603zm-.58008 8.38086a3.27472 3.27472 0 0 0 2.001-.57959 2.19 2.19 0 0 0 .7832-1.88525 2.41024 2.41024 0 0 0 -.26074-1.189 1.94175 1.94175 0 0 0 -.69629-.72509 2.94457 2.94457 0 0 0 -1.001-.36231 6.66287 6.66287 0 0 0 -1.17383-.10156h-4.26364v4.84277zm.26074 8.78711a6.08961 6.08961 0 0 0 1.27637-.13037 3.12816 3.12816 0 0 0 1.07324-.43506 2.20243 2.20243 0 0 0 .73926-.82666 2.84574 2.84574 0 0 0 .27539-1.334 2.67712 2.67712 0 0 0 -.89941-2.27637 3.83584 3.83584 0 0 0 -2.37793-.68164h-4.95896v5.68408z\\\"></path><path d=\\\"m31.438 13.647v16.8779h10.09276v3.8281h-14.64551v-20.706z\\\"></path></g></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 48 48\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m42.94908 21.61-1.84056-14.63c-.46772-2.64-2.115-3.67-4.56567-4.75a39.04369 39.04369 0 0 0 -12.52764-2.32 39.21741 39.21741 0 0 0 -12.54795 2.32c-2.42011 1.06-4.06741 2.11-4.56566 4.75l-1.85068 14.63v20.24h3.24885v3.525a2.65516 2.65516 0 0 0 2.66923 2.625 2.65522 2.65522 0 0 0 2.66925-2.625v-3.525h20.82007v3.525a2.66961 2.66961 0 0 0 5.33848 0v-3.525h3.15228zm-26.73308-18h15.65953a1.18036 1.18036 0 1 1 0 2.36h-15.65953a1.18015 1.18015 0 1 1 0-2.36zm-7.7993 17.57 1.5253-11.55a1.52367 1.52367 0 0 1 1.52528-1.25h25.28913a1.513 1.513 0 0 1 1.51511 1.25l1.52528 11.55a1.31759 1.31759 0 0 1 0 .4v.08a1.49613 1.49613 0 0 1 -1.52528 1.49h-28.40072a1.50954 1.50954 0 0 1 -1.4541-1.57 1.31759 1.31759 0 0 1 0-.4zm2.5523 14.41a2.79533 2.79533 0 1 1 2.837-2.8 2.817 2.817 0 0 1 -2.837 2.8zm26.15346 0a2.79549 2.79549 0 1 1 2.84718-2.8 2.817 2.817 0 0 1 -2.84717 2.8z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 48 48\\\"><path fill=\\\"#1c1e23\\\" d=\\\"m14.29 0h19.43a1.05 1.05 0 0 1 .71.29l13.28 13.28a1.05 1.05 0 0 1 .29.71v18.92a1 1 0 0 1 -.28.69l-13.29 13.8a1 1 0 0 1 -.72.31h-19.43a1.05 1.05 0 0 1 -.71-.29l-13.28-13.28a1.05 1.05 0 0 1 -.29-.71v-18.92a1 1 0 0 1 .28-.69l13.29-13.8a1 1 0 0 1 .72-.31z\\\"></path><path fill=\\\"#fff\\\" d=\\\"m12.28 15.76 3.43-3.47a1 1 0 0 1 1.39 0l6.9 6.84 6.89-6.84a1 1 0 0 1 1.4 0l3.43 3.47a1 1 0 0 1 0 1.39l-6.91 6.85 6.9 7a1 1 0 0 1 0 1.4l-3.4 3.33a1 1 0 0 1 -1.39 0l-6.91-7-6.91 7a1 1 0 0 1 -1.39 0l-3.4-3.33a1 1 0 0 1 0-1.4l6.9-7-6.9-6.85a1 1 0 0 1 -.03-1.39z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 48 48\\\"><path d=\\\"m36.54 11.28a1.8073 1.8073 0 0 1 -.81-1.54v-4.79a3.03356 3.03356 0 0 0 -2.38-2.89 75.79021 75.79021 0 0 0 -8.71-2 3.37685 3.37685 0 0 0 -1.38.01c-2.6.57-5.22 1.08-7.8 1.8-1.52.42-3.12 1.26-3.12 3.08v4.76a1.78965 1.78965 0 0 1 -.83 1.54 3.14612 3.14612 0 0 0 -1.5 2.69v20.22a3.14244 3.14244 0 0 0 1.18 2.43l5.12 3.75-4.13 7.66h3.37l.58-1.06h15.81l.59 1.06h3.34l-4.09-7.66h.01l5.01-3.71a3.17036 3.17036 0 0 0 1.19-2.47v-20.22a3.17047 3.17047 0 0 0 -1.45-2.66zm-10.08-7.48a.99881.99881 0 0 1 1.21-.98l4.94 1.04a.98623.98623 0 0 1 .79.97v2.94a.99652.99652 0 0 1 -1.19.98l-4.94-.96a.99672.99672 0 0 1 -.81-.98zm-2.46 11.28a2.69727 2.69727 0 1 1 -1.91.79 2.69913 2.69913 0 0 1 1.91-.79zm-9.1-10.25a.98522.98522 0 0 1 .8-.97l4.94-1.04a.99473.99473 0 0 1 1.2.98v3.01a.99775.99775 0 0 1 -.8.98l-4.95.96a1.00066 1.00066 0 0 1 -1.19-.98zm1.0938 29.67a1.955 1.955 0 1 1 1.95-1.96 1.96318 1.96318 0 0 1 -1.95 1.96zm3.7062 5.97h8.63l.88995 1.6h-10.39995zm-2.68 4.86.91-1.65h12.19l.92 1.65zm15.98-10.83a1.955 1.955 0 1 1 1.95-1.96 1.96319 1.96319 0 0 1 -1.95 1.96z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 48 48\\\"><path class=\\\"person person-left\\\" d=\\\"m6.86 16.05a6.86 6.86 0 0 0 -6.86 6.86v17.77a3.43 3.43 0 0 0 3.43 3.42h6.86a3.42 3.42 0 0 0 3.42-3.42v-17.77a6.86 6.86 0 0 0 -6.85-6.86z\\\"></path><path class=\\\"person person-left\\\" d=\\\"m6.9 13.23a4.93 4.93 0 1 0 -4.9-4.93 4.93 4.93 0 0 0 4.9 4.93z\\\"></path><path class=\\\"person person-middle\\\" d=\\\"m24 16.05a6.86 6.86 0 0 0 -6.86 6.86v17.77a3.43 3.43 0 0 0 3.43 3.42h6.86a3.43 3.43 0 0 0 3.43-3.42v-17.77a6.86 6.86 0 0 0 -6.86-6.86z\\\"></path><path class=\\\"person person-middle\\\" d=\\\"m24.05 13.23a4.93 4.93 0 1 0 -4.93-4.93 4.93 4.93 0 0 0 4.93 4.93z\\\"></path><path class=\\\"person person-right\\\" d=\\\"m41.14 16.05a6.86 6.86 0 0 0 -6.85 6.86v17.77a3.42 3.42 0 0 0 3.42 3.42h6.86a3.43 3.43 0 0 0 3.43-3.42v-17.77a6.86 6.86 0 0 0 -6.86-6.86z\\\"></path><path class=\\\"person person-right\\\" d=\\\"m41.19 13.23a4.93 4.93 0 1 0 -4.93-4.93 4.93 4.93 0 0 0 4.93 4.93z\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M8.42021 13.4913C8.42075 13.1156 8.72467 12.8117 9.09953 12.812C9.47438 12.8117 9.7783 13.1156 9.77884 13.4913C9.7783 13.8653 9.47438 14.1692 9.09953 14.1706C8.72467 14.1692 8.42075 13.8653 8.42021 13.4913ZM7.54005 17.4609V14.8795C7.54118 14.5816 7.77865 14.379 8.03625 14.3774C8.03571 14.379 10.1451 14.3774 10.1451 14.3774C10.4256 14.379 10.6405 14.6042 10.6413 14.8795V17.4609C10.6405 17.6746 10.4686 17.8233 10.2809 17.8212C10.2809 17.8212 10.1952 17.8213 10.0565 17.8214V21.2237C10.0594 21.8417 9.15505 21.8417 9.15269 21.2237V17.822C9.1074 17.822 9.06207 17.8221 9.01683 17.8221V21.2237C9.01757 21.837 8.11324 21.837 8.11304 21.2237V17.822C7.98215 17.8219 7.90137 17.8216 7.90039 17.8212C7.71608 17.8233 7.54118 17.6721 7.54005 17.4609ZM11.6691 13.4913C11.6697 13.1156 11.9736 12.8117 12.3484 12.812C12.7233 12.8117 13.0272 13.1156 13.0277 13.4913C13.0272 13.8653 12.7233 14.1692 12.3484 14.1706C11.9736 14.1692 11.6697 13.8653 11.6691 13.4913ZM10.789 17.4609V14.8795C10.79 14.5816 11.0276 14.379 11.2852 14.3774C11.2846 14.379 13.394 14.3774 13.394 14.3774C13.6744 14.379 13.8894 14.6042 13.8902 14.8795V17.4609C13.8894 17.6746 13.7175 17.8233 13.5299 17.8212C13.5299 17.8212 13.4441 17.8213 13.3054 17.8214V21.2237C13.3083 21.8417 12.404 21.8417 12.4016 21.2237V17.822C12.3563 17.822 12.311 17.8221 12.2657 17.8221V21.2237C12.2665 21.837 11.3621 21.837 11.3619 21.2237V17.822C11.2311 17.8219 11.1503 17.8216 11.1493 17.8212C10.965 17.8233 10.79 17.6721 10.789 17.4609ZM14.918 13.4913C14.9186 13.1156 15.2225 12.8117 15.5973 12.812C15.9722 12.8117 16.2761 13.1156 16.2767 13.4913C16.2761 13.8653 15.9722 14.1692 15.5973 14.1706C15.2225 14.1692 14.9186 13.8653 14.918 13.4913ZM14.0379 17.4609V14.8795C14.0389 14.5816 14.2765 14.379 14.5341 14.3774C14.5335 14.379 16.6429 14.3774 16.6429 14.3774C16.9233 14.379 17.1383 14.6042 17.1391 14.8795V17.4609C17.1383 17.6746 16.9664 17.8233 16.7788 17.8212C16.7788 17.8212 16.693 17.8213 16.5543 17.8214V21.2237C16.5572 21.8417 15.6529 21.8417 15.6505 21.2237V17.822C15.6052 17.822 15.5599 17.8221 15.5146 17.8221V21.2237C15.5154 21.837 14.611 21.837 14.6108 21.2237V17.822C14.48 17.8219 14.3992 17.8216 14.3981 17.8212C14.2139 17.8233 14.0389 17.6721 14.0379 17.4609ZM5.30717 3.4906L7.94174 0.324392C8.35868 -0.0933871 8.90262 -0.0958485 9.31809 0.324392L11.9704 3.47878C12.7884 4.41137 11.4624 5.56507 10.7063 4.737L9.61344 3.40199L9.64889 7.66101C9.63535 9.07827 7.60478 9.06242 7.61684 7.66101L7.64638 3.40199L6.56538 4.74881C5.82601 5.58973 4.48771 4.42367 5.30717 3.4906ZM12.6792 5.22728C11.8593 4.29445 13.1976 3.12844 13.9374 3.96907L15.0184 5.31589L14.9889 1.05687C14.9764 -0.344291 17.0069 -0.360142 17.0209 1.05687L16.9855 5.31589L18.0783 3.98089C18.8339 3.15306 20.1599 4.30676 19.3424 5.24501L16.6901 8.39349C16.2742 8.81402 15.7302 8.81151 15.3138 8.39349L12.6792 5.22728ZM7.02609 21.968H17.6411V11.4179H7.02609V21.968ZM17.7121 9.36225H6.96116C5.82601 9.36486 5.0029 10.2539 5 11.3234V22.0566C5.00064 23.151 5.88754 24.0026 6.96116 24H17.7239C18.797 24.0024 19.6708 23.2002 19.6673 22.0566V11.3234C19.6683 10.2416 18.8093 9.36486 17.7121 9.36225Z\\\" fill=\\\"#165C96\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M11.7977 4.61893C11.7975 5.5091 11.0735 6.23247 10.1828 6.23213C9.28712 6.23247 8.56306 5.5091 8.56205 4.61893C8.56306 3.7247 9.28712 3.00143 10.1828 3C11.0735 3.00143 11.7975 3.7247 11.7977 4.61893ZM19.0164 9.23668H21.0155C22.0078 9.23943 22.3942 8.23691 22.3951 7.70116C22.3942 7.16261 21.8496 6.2619 21.038 6.26092H17.71C17.0329 6.2619 16.6379 6.31164 16.2403 6.70925L6.52088 16.3819C6.15885 16.7401 5.74439 16.9191 5.11309 16.9198H2.95073C2.24838 16.9191 1.56795 17.4208 1.56546 18.3153C1.56795 19.2113 2.28151 19.8929 3.09151 19.8956H6.24496C6.87278 19.8929 7.36335 19.7404 7.74847 19.3576L17.3102 9.84192C17.7954 9.35763 18.1708 9.23943 19.0164 9.23668ZM17.4904 4.69739H21.1844C22.3942 4.69926 24.0014 5.90885 24 7.72358C24.0014 9.55611 22.4059 10.8277 21.2801 10.8282C20.244 10.8277 18.9376 10.8282 18.9376 10.8282C18.5877 10.8277 18.4752 10.8836 18.2731 11.0636L8.78461 20.4728C8.02257 21.1902 7.09564 21.4811 6.32942 21.4816C5.56635 21.4811 3.09151 21.4816 3.09151 21.4816C1.09869 21.4811 0.00126701 19.727 0 18.3377C0.00126701 16.9517 1.09869 15.315 2.9282 15.3171C2.9282 15.3171 4.74711 15.3154 4.74707 15.3171C5.29859 15.315 5.3328 15.3028 5.61427 15.0257L8.58752 12.0611H8.58189V7.99258C8.58198 5.89367 11.7305 5.87032 11.7297 7.99258V8.9901L15.1534 5.58843C15.7397 5.00636 16.7231 4.69524 17.4904 4.69739Z\\\" fill=\\\"#165C96\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M23.965 17.43L23.85 16.93L23.82 16.785L23.37 14.785L23.305 14.49L21.92 8.23003C21.7168 7.45528 20.9257 6.99043 20.15 7.19003L19.055 7.43003L16.555 2.22503C16.1809 1.51695 15.3049 1.24431 14.595 1.61503L0.879996 8.24503C0.148264 8.57086 -0.182503 9.42683 0.139996 10.16L2.92 15.91L3.05 16.18L3.95 18.04L4.245 18.64L4.33 18.82C4.63627 19.2867 5.18108 19.5387 5.735 19.47L6.015 20.74L6.16 21.395L6.205 21.585C6.46594 22.2924 7.21975 22.6877 7.95 22.5L22.84 19.19C23.629 19.0038 24.1272 18.2243 23.965 17.43ZM5.295 17.39L4.5 17.775L3.6 15.915L18.905 8.50003L19.805 10.36L5.295 17.39ZM6.33 19.275L6.625 20.595L23.23 16.885L22.78 14.885L9.125 17.925L6.33 19.275Z\\\" fill=\\\"#165C96\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 48 48\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m18.4322 7.35879v3.40213h-3.612v2.63778l9.17227-4.00162 9.17226 4.00162v-2.63778h-3.6269v-3.40213zm8.5578 32.79235a5.66521 5.66521 0 0 1 -5.99494 0 4.96082 4.96082 0 0 0 -5.15566.14987 5.60525 5.60525 0 0 1 -5.83008-.14987 4.90088 4.90088 0 0 0 -4.99079 0 5.36545 5.36545 0 0 1 -2.77266.85428v-4.49621a5.75522 5.75522 0 0 0 2.63777-.65944c3.65692-2.15819 5.36548.43463 7.38877.41964v-10.49115l-3.08741-7.56862a2.00832 2.00832 0 0 1 .95871-2.67347q.08109-.03828.16535-.06921l1.8884-.80932v-6.59444h3.552v-3.44709h5.0957v-4.61611h6.29469v4.61611h5.0957v3.44709h3.612v6.54948l1.8884.80931a2.00832 2.00832 0 0 1 1.19327 2.57735q-.0309.08418-.06921.16534l-3.10243 7.56862v10.49115c2.00831 0 3.64193-2.62279 7.38877-.46461a5.71 5.71 0 0 0 2.63778.67443v4.49621a5.66517 5.66517 0 0 1 -2.77266-.85428 4.97581 4.97581 0 0 0 -4.99079 0 5.60525 5.60525 0 0 1 -5.83008.14987 4.97582 4.97582 0 0 0 -5.2006-.07493zm0 6.92416a6.18981 6.18981 0 0 1 -6.14482 0 4.57113 4.57113 0 0 0 -5.08071.16486 5.60527 5.60527 0 0 1 -5.83009-.14987 4.676 4.676 0 0 0 -4.96081.13488 4.90076 4.90076 0 0 1 -2.75768.73438v-4.706a4.4962 4.4962 0 0 0 2.63778-.65944c1.90339-1.24395 3.62694-1.00415 5.99494.31473a5.78516 5.78516 0 0 0 5.1107-.28475c2.11321-1.169 3.26724-.88426 5.48537.16486a5.39545 5.39545 0 0 0 4.9758 0c2.21813-1.04912 3.43211-1.33388 5.54533-.16486a5.71019 5.71019 0 0 0 5.08071.28475c2.398-1.31889 4.13651-1.49873 5.99495-.31473a4.25636 4.25636 0 0 0 2.63777.65944v4.706a4.81091 4.81091 0 0 1 -2.87757-.71939 4.60112 4.60112 0 0 0 -4.90087-.13489 5.60525 5.60525 0 0 1 -5.83008.14987 4.66106 4.66106 0 0 0 -5.08072-.17984z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 16 16\\\"><path fill=\\\"#00843d\\\" d=\\\"m8 0a8 8 0 1 0 8 8 8 8 0 0 0 -8-8\\\"></path><path fill=\\\"#fff\\\" d=\\\"m8.59043 4a5.39839 5.39839 0 0 1 1.08557.10121 2.392 2.392 0 0 1 .83953.33044 1.55783 1.55783 0 0 1 .54221.61054 2.06794 2.06794 0 0 1 .19251.941 1.70139 1.70139 0 0 1 -.28591 1.00827 2.06017 2.06017 0 0 1 -.84522.66143 2.00387 2.00387 0 0 1 1.14822.74512 2.15155 2.15155 0 0 1 .37933 1.28291 2.13665 2.13665 0 0 1 -.24491 1.04767 2.05831 2.05831 0 0 1 -.65955.72215 2.95712 2.95712 0 0 1 -.94432.41469 4.42311 4.42311 0 0 1 -1.09014.13457h-4.03587v-8zm-.23352 3.23819a1.35217 1.35217 0 0 0 .80535-.22431.83167.83167 0 0 0 .3144-.72817.89181.89181 0 0 0 -.1048-.459.75208.75208 0 0 0 -.27909-.28011 1.2235 1.2235 0 0 0 -.40324-.14 2.75738 2.75738 0 0 0 -.47159-.03939h-1.71551v1.871zm.10593 3.39465a2.50985 2.50985 0 0 0 .51261-.05033 1.28994 1.28994 0 0 0 .43172-.168.85959.85959 0 0 0 .29731-.31949 1.05918 1.05918 0 0 0 .11052-.51532 1.01659 1.01659 0 0 0 -.3611-.87916 1.59077 1.59077 0 0 0 -.9569-.26369h-1.99457v2.196z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 16 16\\\"><path fill=\\\"#00843d\\\" d=\\\"m8 0a8 8 0 1 0 8 8 8 8 0 0 0 -8-8\\\"></path><path fill=\\\"#fff\\\" d=\\\"m9.91236 6.22237a1.685 1.685 0 0 0 -.37441-.423 1.75365 1.75365 0 0 0 -1.10334-.3859 1.96325 1.96325 0 0 0 -.9632.21962 1.8196 1.8196 0 0 0 -.64318.58932 2.59 2.59 0 0 0 -.35871.84031 4.22351 4.22351 0 0 0 -.1119.97471 3.92818 3.92818 0 0 0 .1119.937 2.536 2.536 0 0 0 .35871.8194 1.83829 1.83829 0 0 0 .64318.58357 1.95744 1.95744 0 0 0 .9632.21962 1.55383 1.55383 0 0 0 1.20479-.47114 2.17357 2.17357 0 0 0 .53023-1.24243h1.62837a3.87815 3.87815 0 0 1 -.33257 1.29577 3.08815 3.08815 0 0 1 -.707.98516 2.99838 2.99838 0 0 1 -1.02805.62122 3.76351 3.76351 0 0 1 -1.29577.2144 3.92217 3.92217 0 0 1 -1.57918-.30538 3.393 3.393 0 0 1 -1.18387-.84084 3.71981 3.71981 0 0 1 -.73835-1.25812 4.61521 4.61521 0 0 1 -.25727-1.55827 4.77251 4.77251 0 0 1 .25727-1.59017 3.83132 3.83132 0 0 1 .73835-1.28008 3.3914 3.3914 0 0 1 1.18387-.85653 3.86194 3.86194 0 0 1 1.57918-.31061 3.853 3.853 0 0 1 1.19433.182 3.25411 3.25411 0 0 1 1.00712.53023 2.86159 2.86159 0 0 1 .73312.86228 3.08969 3.08969 0 0 1 .36395 1.1776h-1.6273a1.37793 1.37793 0 0 0 -.19347-.52974z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 16 16\\\"><path fill=\\\"#00843d\\\" d=\\\"m8 0a8 8 0 1 0 8 8 8 8 0 0 0 -8-8\\\"></path><path fill=\\\"#fff\\\" d=\\\"m7.90973 4a4.12016 4.12016 0 0 1 1.43992.24673 3.12441 3.12441 0 0 1 1.15435.73966 3.404 3.404 0 0 1 .76154 1.232 4.96822 4.96822 0 0 1 .27464 1.737 5.52384 5.52384 0 0 1 -.22431 1.61335 3.55236 3.55236 0 0 1 -.67729 1.27744 3.1858 3.1858 0 0 1 -1.13137.84579 3.8368 3.8368 0 0 1 -1.59748.30803h-3.44991v-8zm-.12255 6.52123a2.252 2.252 0 0 0 .73966-.12364 1.62238 1.62238 0 0 0 .6379-.40867 2.04332 2.04332 0 0 0 .44861-.74513 3.28738 3.28738 0 0 0 .1685-1.12042 4.64682 4.64682 0 0 0 -.11817-1.09253 2.18483 2.18483 0 0 0 -.38624-.83484 1.7182 1.7182 0 0 0 -.71121-.53176 2.83742 2.83742 0 0 0 -1.09307-.18492h-1.255v5.04192z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 16 16\\\"><path fill=\\\"#00843d\\\" d=\\\"m8 0a8 8 0 1 0 8 8 8 8 0 0 0 -8-8\\\"></path><path fill=\\\"#fff\\\" d=\\\"m11.18354 4v1.47931h-4.22454v1.714h3.8766v1.36718h-3.8766v1.96074h4.3143v1.47877h-6.07266v-8z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 16 16\\\"><path fill=\\\"#00843d\\\" d=\\\"m8 0a8 8 0 1 0 8 8 8 8 0 0 0 -8-8\\\"></path><g fill=\\\"#fff\\\"><path d=\\\"m6.083 11.53381a2.63844 2.63844 0 0 1 -1.03434.21619 3.67706 3.67706 0 0 1 -1.48049-.28629 3.18108 3.18108 0 0 1 -1.10987-.78829 3.48761 3.48761 0 0 1 -.69221-1.17949 4.327 4.327 0 0 1 -.24119-1.46088 4.47445 4.47445 0 0 1 .24119-1.49078 3.59212 3.59212 0 0 1 .69221-1.20008 3.17958 3.17958 0 0 1 1.10987-.803 3.62061 3.62061 0 0 1 1.48049-.29119 3.48952 3.48952 0 0 1 1.06968.1657 3.037 3.037 0 0 1 .93339.48679 2.63108 2.63108 0 0 1 1.01968 1.87758h-1.506a1.5098 1.5098 0 0 0 -.54219-.90349 1.57786 1.57786 0 0 0 -.97458-.30149 1.84057 1.84057 0 0 0 -.903.20589 1.70591 1.70591 0 0 0 -.603.55249 2.42823 2.42823 0 0 0 -.3363.7878 3.95986 3.95986 0 0 0 -.1049.91378 3.68309 3.68309 0 0 0 .1049.87849 2.37769 2.37769 0 0 0 .3363.76819 1.72339 1.72339 0 0 0 .603.54709 1.83509 1.83509 0 0 0 .903.2059 1.711 1.711 0 0 0 1.20989-.3966 1.72506 1.72506 0 0 0 .49709-1.14958h-1.58636v-1.17454h3.012v3.87526h-1.004l-.16079-.81329a2.3565 2.3565 0 0 1 -.93347.75784z\\\"></path><path d=\\\"m11.03239 4.4206v5.84352h3.49434v1.32509h-5.06994v-7.16861z\\\"></path></g></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 16 16\\\"><path fill=\\\"#da291c\\\" d=\\\"m8 0a8 8 0 1 0 8 8 8 8 0 0 0 -8-8\\\"></path><path fill=\\\"#fff\\\" d=\\\"m6.16836 4 1.871 5.50147h.02188l1.7704-5.50147h2.47609v8h-1.64673v-5.66942h-.023l-1.96071 5.66942h-1.35567l-1.96075-5.61308h-.02187v5.61308h-1.64673v-8z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 16 16\\\"><path fill=\\\"#ffc72c\\\" d=\\\"m8.03494 0a8.04088 8.04088 0 0 0 -8 8 8 8 0 1 0 8-8\\\"></path><path fill=\\\"#1c1e23\\\" d=\\\"m12.55163 6.95515-.43927-3.29782c-.11487-.59469-.50684-.83119-1.088-1.07447a9.94811 9.94811 0 0 0 -2.99371-.52036 9.94139 9.94139 0 0 0 -2.98694.52036c-.57444.24328-.97312.47978-1.09476 1.07447l-.43251 3.29782v4.55476h.80756v.77716a.56688.56688 0 0 0 .29735.48655c.04054.02029.08109.04054.11487.05407a.689.689 0 0 0 .09462.027.57561.57561 0 0 0 .15546.02029h.2297a.63557.63557 0 0 0 .669-.58793v-.77716h4.363v.77716a.56686.56686 0 0 0 .29735.48655c.04054.02029.08109.04054.11487.05407a.689.689 0 0 0 .09462.027.57561.57561 0 0 0 .15546.02029h.22974a.63556.63556 0 0 0 .669-.58793v-.77716h.74252zm-6.64292-3.93953h4.25065c.20273 0 .37167.23083.37167.50782s-.16894.50781-.37167.50781h-4.25065c-.20272 0-.37167-.23083-.37167-.50781s.16896-.50782.37167-.50782zm-1.03959 4.55438.3006-2.33388a.31412.31412 0 0 1 .32228-.26712h5.12466a.31832.31832 0 0 1 .32226.26712l.34393 2.33388v.10421a.32557.32557 0 0 1 -.3223.32579h-5.7811a.3317.3317 0 0 1 -.31033-.3388.23335.23335 0 0 1 0-.0912zm.6465 2.75347a.82854.82854 0 1 1 -.03709-1.65432.83107.83107 0 1 1 .03709 1.65432zm5.01541 0a.82854.82854 0 1 1 -.03709-1.65432.83107.83107 0 1 1 .03709 1.65432z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 16 16\\\"><path fill=\\\"#80276c\\\" d=\\\"m6.19 11.91998h3.63v1h-3.63z\\\" transform=\\\"matrix(.99919448 .0401297 -.0401297 .99919448 .50486 -.31123)\\\"></path><path fill=\\\"#80276c\\\" d=\\\"m8 0a8.02127 8.02127 0 0 0 -7.65785 10.376 7.78359 7.78359 0 0 0 5.28185 5.28185 8.008 8.008 0 1 0 2.376-15.65785\\\"></path><g fill=\\\"#fff\\\"><path d=\\\"m10.33 11.75 1.15-.85a1.46975 1.46975 0 0 0 .52-.84v-4.82a.88891.88891 0 0 0 -.3-.66.79321.79321 0 0 1 -.31-.6l-.01-1.19a.81979.81979 0 0 0 -.65-.79 20.91806 20.91806 0 0 0 -2.5-.52 1.06538 1.06538 0 0 0 -.47 0c-.7.15-1.55.3-2.24.48-.42.12-.85.35-.85.85v1.18a.80288.80288 0 0 1 -.33.61.851.851 0 0 0 -.31.66v4.8a1.40971 1.40971 0 0 0 .48.84l1.1.81-1.74 2.84h1.13l.24-.39h5.53l.13.22.02.03.08.14h1.05zm.95-2.3a.73.73 0 1 1 -.73-.73.72767.72767 0 0 1 .73.73zm-1.44 3.15h-3.65l.41-.68h2.84l.03.06.35.58zm-1.14-9.65a.24471.24471 0 0 1 .3-.24l1.21.25a.25351.25351 0 0 1 .2.24v.73a.24955.24955 0 0 1 -.3.24l-1.21-.24a.23758.23758 0 0 1 -.2-.24zm-.72 2.26a.82.82 0 1 1 -.82.82.82371.82371 0 0 1 .82-.82zm-2.32-2.01a.25358.25358 0 0 1 .2-.24l1.21-.25a.24868.24868 0 0 1 .3.24v.74a.24683.24683 0 0 1 -.2.24l-1.22.24a.24554.24554 0 0 1 -.29-.24zm-.2 6.98a.73.73 0 1 1 .73-.73.72767.72767 0 0 1 -.73.73zm0 3.61.5-.82h4.1l.49.82z\\\"></path><path d=\\\"m11 14.55h-.01l-.07-.14z\\\"></path></g></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 16 16\\\"><path fill=\\\"#008eaa\\\" d=\\\"m14.14 13.11v-2.78h-1.54v4.21a.00976.00976 0 0 1 -.00995.01 7.96744 7.96744 0 0 1 -9.18005-.01c-.07995-.06-.16-.11-.24-.18l-1.53-1.52a7.91568 7.91568 0 0 1 -1.64-4.84 8 8 0 0 1 16 0 7.8954 7.8954 0 0 1 -1.86 5.11z\\\"></path><path fill=\\\"#008eaa\\\" d=\\\"m14.14 10.33v2.78a2.33839 2.33839 0 0 1 -.29.35 7.5757 7.5757 0 0 1 -1.25 1.08v-4.21z\\\"></path><g fill=\\\"#fff\\\"><path d=\\\"m12.6 13.07v1.1a.81712.81712 0 0 1 -.19-.09 1.08477 1.08477 0 0 0 -1.15-.03 1.327 1.327 0 0 1 -1.36.03 1.1128 1.1128 0 0 0 -1.19-.04 1.457 1.457 0 0 1 -1.43 0 1.09284 1.09284 0 0 0 -1.19.04 1.30468 1.30468 0 0 1 -1.36-.04 1.12472 1.12472 0 0 0 -1.16.04.25063.25063 0 0 0 -.07.04v-1.09a.07583.07583 0 0 0 .04-.02 1.22855 1.22855 0 0 1 1.4.08 1.37912 1.37912 0 0 0 1.19-.07 1.18568 1.18568 0 0 1 1.29.04 1.31353 1.31353 0 0 0 1.16 0 1.186 1.186 0 0 1 1.29-.04 1.38316 1.38316 0 0 0 1.19.07 1.24661 1.24661 0 0 1 1.4-.08.351.351 0 0 0 .14.06z\\\"></path><path d=\\\"m11.06 10.98a.87762.87762 0 0 1 -.15.05 3.51709 3.51709 0 0 1 -.16-1.49 10.81375 10.81375 0 0 1 1.85-2.66l-.6-.24v-3.64h-1v-1h-1.99v.01h-.01v-.01h.01v-.99h-2v.99h-2.01v1h-1v3.64l-.59.24a10.46678 10.46678 0 0 1 1.83 2.64 3.75072 3.75072 0 0 1 -.15 1.5.41845.41845 0 0 1 -.15-.04 1.2264 1.2264 0 0 0 -1.4-.07c-.00995.01-.03.01-.04.02v1.08c.02-.01.05-.03.07-.04a1.10228 1.10228 0 0 1 1.16-.03 1.32675 1.32675 0 0 0 1.36.03 1.09231 1.09231 0 0 1 1.19-.03 1.457 1.457 0 0 0 1.43 0 1.09273 1.09273 0 0 1 1.19.04 1.32768 1.32768 0 0 0 1.36-.04 1.12876 1.12876 0 0 1 1.15.03 1.73655 1.73655 0 0 0 .19.1v-1.1a.4229.4229 0 0 1 -.14-.06 1.26247 1.26247 0 0 0 -1.4.07zm-3.06-8.98h.01v.01h-.01zm2.01 3.84v-.84h-1.01v-1h-2v1h-1v.84l-1 .4v-2.24h1v-1h4v1h1v2.24z\\\"></path><path d=\\\"m8 2h.01001v.01001h-.01001z\\\"></path><path d=\\\"m9 2h.01001v.01001h-.01001z\\\"></path><path d=\\\"m8 2h.01001v.01001h-.01001z\\\"></path><path d=\\\"m9 2h.01001v.01001h-.01001z\\\"></path></g></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 48 48\\\"><path fill=\\\"#494f5b\\\" d=\\\"m24 0a24 24 0 1 0 24 24 24 24 0 0 0 -24-24\\\"></path><g fill=\\\"#fff\\\"><path d=\\\"m25.8889 5.8222a1.4111 1.4111 0 1 0 -1.4111-1.4111 1.411 1.411 0 0 0 1.4111 1.4111z\\\"></path><path d=\\\"m31.4555 34.2111a4.9779 4.9779 0 0 0 3.889-4.8222v-18.1445a5.0112 5.0112 0 0 0 -5.0778-4.9111h-12.5333a5.0112 5.0112 0 0 0 -5.1 4.9v18.1556a4.9779 4.9779 0 0 0 3.8889 4.8222l-5.8556 8.7889h3.4l4.1889-6.1445h11.5555l4.1889 6.1445h3.3333zm-10.7555-25.9889a.8445.8445 0 0 1 .8445-.8111h4.9555a.8444.8444 0 0 1 .8333.8111v1.4445l-.0006.0339a.8334.8334 0 0 1 -.866.7994l-4.9222-.0111a.8333.8333 0 0 1 -.8445-.8222zm-3.1111 23.3334a2.2223 2.2223 0 1 1 2.2222-2.2223 2.2223 2.2223 0 0 1 -2.2222 2.2223zm.2889-11.8112c-.0758.0036-.1518.0036-.2276 0a2.4221 2.4221 0 0 1 -2.3057-2.5333v-3.2667a2.4109 2.4109 0 0 1 2.5333-2.5444h12.2222a2.4113 2.4113 0 0 1 2.5333 2.5444v3.2667q.0054.1137 0 .2276a2.4221 2.4221 0 0 1 -2.5333 2.3057zm12.4333 11.8112a2.2334 2.2334 0 1 1 .0223 0z\\\"></path><path d=\\\"m22.1445 5.8222h-.0334.0337a1.4113 1.4113 0 1 0 -1.4115-1.4115 1.4111 1.4111 0 0 0 1.4115 1.4119z\\\"></path></g></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 16 16\\\"><path fill=\\\"#ed8b00\\\" d=\\\"m8 0a8 8 0 1 0 8 8 8 8 0 0 0 -8-8\\\"></path><g fill=\\\"#fff\\\"><path d=\\\"m1.81834 6.54427a3.5921 3.5921 0 0 1 .6922-1.20008 3.17962 3.17962 0 0 1 1.10988-.803 3.62054 3.62054 0 0 1 1.48049-.29119 3.61289 3.61289 0 0 1 1.48637.2912 3.17488 3.17488 0 0 1 1.104.803 3.59428 3.59428 0 0 1 .69319 1.20008 4.47445 4.47445 0 0 1 .24119 1.49078 4.327 4.327 0 0 1 -.24119 1.46088 3.48977 3.48977 0 0 1 -.69319 1.17949 3.176 3.176 0 0 1 -1.104.78829 3.66921 3.66921 0 0 1 -1.48637.28628 3.677 3.677 0 0 1 -1.48049-.28629 3.18112 3.18112 0 0 1 -1.10988-.78829 3.48759 3.48759 0 0 1 -.6922-1.17949 4.327 4.327 0 0 1 -.24119-1.46088 4.47445 4.47445 0 0 1 .24119-1.49078zm1.44029 2.36927a2.37747 2.37747 0 0 0 .3363.76819 1.72331 1.72331 0 0 0 .603.54709 1.835 1.835 0 0 0 .903.2059 1.84164 1.84164 0 0 0 .904-.2059 1.72881 1.72881 0 0 0 .602-.54709 2.35675 2.35675 0 0 0 .3363-.76819 3.63424 3.63424 0 0 0 .10588-.87849 3.90728 3.90728 0 0 0 -.10588-.91378 2.40722 2.40722 0 0 0 -.3363-.7878 1.7112 1.7112 0 0 0 -.602-.55249 1.84715 1.84715 0 0 0 -.904-.20589 1.84052 1.84052 0 0 0 -.903.20589 1.70583 1.70583 0 0 0 -.603.55249 2.428 2.428 0 0 0 -.3363.7878 3.95986 3.95986 0 0 0 -.10491.91378 3.6831 3.6831 0 0 0 .10491.87849z\\\"></path><path d=\\\"m11.27582 4.4206v5.84352h3.49435v1.32509h-5.06994v-7.16861z\\\"></path></g></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 12 12\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g clip-path=\\\"url(#clip0_472_18139)\\\"><path d=\\\"M11.6631 -0.0123221C5.6656 0.520953 0.588008 5.60062 0.0550302 11.5959C0.0349834 11.8214 0.206481 11.9976 0.431712 11.9855L1.62914 11.9208C1.84401 11.9093 2.02827 11.7294 2.04833 11.5143C2.50898 6.59601 6.6624 2.44152 11.5816 1.98082C11.7968 1.96076 11.9765 1.77633 11.9882 1.56163L12.0529 0.36418C12.0648 0.13913 11.8885 -0.0323691 11.6631 -0.0123221ZM9.14553 9.07831C8.494 9.72984 8.44363 10.7356 9.033 11.3249C9.62237 11.9143 10.6281 11.8639 11.2796 11.2124C11.9311 10.5609 11.9815 9.55515 11.3921 8.96577C10.8028 8.37639 9.79706 8.42677 9.14553 9.07831ZM11.4872 3.94922C7.6635 4.37414 4.44087 7.60048 4.01652 11.4201C3.99105 11.6489 4.16356 11.8295 4.39198 11.8165L5.59343 11.7485C5.80272 11.7366 5.98743 11.5652 6.01317 11.3554C6.35051 8.59818 8.67159 6.28241 11.4224 5.94608C11.6322 5.92034 11.8038 5.7358 11.8155 5.52634L11.8835 4.32487C11.8967 4.09626 11.7158 3.92377 11.4872 3.94922Z\\\" fill=\\\"#1C1E23\\\"></path></g><defs><clipPath><rect width=\\\"12\\\" height=\\\"12\\\" fill=\\\"white\\\"></rect></clipPath></defs></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 16 16\\\"><path fill=\\\"#da291c\\\" d=\\\"m8 0a8 8 0 1 0 8 8 8 8 0 0 0 -8-8\\\"></path><g fill=\\\"#fff\\\"><path d=\\\"m6.01545 4.25a2.39689 2.39689 0 0 1 .90832.16341 2.09735 2.09735 0 0 1 .694.44567 1.9348 1.9348 0 0 1 .44036.65684 2.09816 2.09816 0 0 1 .1528.80327 2.26208 2.26208 0 0 1 -.278 1.14494 1.74718 1.74718 0 0 1 -.90938.73536v.02122a1.26481 1.26481 0 0 1 .504.25679 1.42114 1.42114 0 0 1 .32576.4096 1.91173 1.91173 0 0 1 .18358.51995 4.56343 4.56343 0 0 1 .07958.5677c.00637.11884.0138.25891.02122.4202.00637.16129.01911.32576.03608.49342a3.41227 3.41227 0 0 0 .08383.4775 1.113 1.113 0 0 0 .174.38413h-1.649a2.91366 2.91366 0 0 1 -.16871-.851c-.02123-.329-.052-.6441-.09444-.94546a1.4991 1.4991 0 0 0 -.35645-.86165 1.2331 1.2331 0 0 0 -.89346-.2727h-1.64904v2.93081h-1.649v-7.5zm-.58786 3.3924a1.24739 1.24739 0 0 0 .85-.25148 1.04463 1.04463 0 0 0 .28438-.81919.99843.99843 0 0 0 -.28442-.79373 1.26393 1.26393 0 0 0 -.85-.24618h-1.80705v2.11058z\\\"></path><path d=\\\"m11.20433 4.25v6.11312h3.65556v1.38688h-5.30454v-7.5z\\\"></path></g></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 48 48\\\"><path fill=\\\"#fff\\\" d=\\\"m27.92 1.0025a19.07 19.07 0 1 1 -10.8513 34.7012l-10.315 10.2951a3.3658 3.3658 0 0 1 -4.77-4.75l10.315-10.315a18.899 18.899 0 0 1 -3.4387-10.8715 19.1146 19.1146 0 0 1 19.06-19.0598zm0 6.7176a12.3422 12.3422 0 1 0 12.3425 12.3422 12.2866 12.2866 0 0 0 -12.3425-12.3423z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 48 48\\\"><path fill=\\\"#1c1e23\\\" d=\\\"m42.94908 21.61-1.84056-14.63c-.46772-2.64-2.115-3.67-4.56567-4.75a39.04369 39.04369 0 0 0 -12.52764-2.32 39.21741 39.21741 0 0 0 -12.54795 2.32c-2.42011 1.06-4.06741 2.11-4.56566 4.75l-1.85068 14.63v20.24h3.24885v3.525a2.65516 2.65516 0 0 0 2.66923 2.625 2.65522 2.65522 0 0 0 2.66925-2.625v-3.525h20.82007v3.525a2.66961 2.66961 0 0 0 5.33848 0v-3.525h3.15228zm-26.73308-18h15.65953a1.18036 1.18036 0 1 1 0 2.36h-15.65953a1.18015 1.18015 0 1 1 0-2.36zm-7.7993 17.57 1.5253-11.55a1.52367 1.52367 0 0 1 1.52528-1.25h25.28913a1.513 1.513 0 0 1 1.51511 1.25l1.52528 11.55a1.31759 1.31759 0 0 1 0 .4v.08a1.49613 1.49613 0 0 1 -1.52528 1.49h-28.40072a1.50954 1.50954 0 0 1 -1.4541-1.57 1.31759 1.31759 0 0 1 0-.4zm2.5523 14.41a2.79533 2.79533 0 1 1 2.837-2.8 2.817 2.817 0 0 1 -2.837 2.8zm26.15346 0a2.79549 2.79549 0 1 1 2.84718-2.8 2.817 2.817 0 0 1 -2.84717 2.8z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 16 16\\\"><path fill=\\\"#1c1e23\\\" d=\\\"m14.2452 6.9551-.4392-3.2978c-.1149-.5947-.5069-.8312-1.088-1.0744a9.9485 9.9485 0 0 0 -2.9937-.52 9.9418 9.9418 0 0 0 -2.987.52c-.5744.2432-.9731.48-1.0947 1.0744l-.4326 3.2978v4.5549h.8075v.7772a.5668.5668 0 0 0 .2974.4865c.04.02.0811.0406.1148.0541a.69.69 0 0 0 .0947.027.5762.5762 0 0 0 .1554.02h.23a.6356.6356 0 0 0 .669-.5879v-.7769h4.363v.7772a.5667.5667 0 0 0 .2973.4865c.0406.02.0811.0406.1149.0541a.6885.6885 0 0 0 .0946.027.5769.5769 0 0 0 .1555.02h.23a.6356.6356 0 0 0 .669-.5879v-.7769h.7425zm-6.6429-3.9395h4.2507c.2027 0 .3716.2309.3716.5078s-.1689.5078-.3716.5078h-4.2507c-.2027 0-.3716-.2308-.3716-.5078s.1693-.5078.3716-.5078zm-1.0396 4.5544.3006-2.3339a.3143.3143 0 0 1 .3223-.2671h5.1244a.3183.3183 0 0 1 .3222.2671l.344 2.3339v.1042a.3256.3256 0 0 1 -.322.3258h-5.7811a.3318.3318 0 0 1 -.31-.3388.2326.2326 0 0 1 -.0004-.0912zm.6465 2.7535a.8285.8285 0 1 1 -.0371-1.6543.8311.8311 0 1 1 .0371 1.6543zm5.0154 0a.8285.8285 0 1 1 -.037-1.6543.8311.8311 0 1 1 .037 1.6543z\\\"></path><path fill=\\\"#7c878e\\\" d=\\\"m8.0009 0a8.0405 8.0405 0 0 0 -7.9991 8 7.9991 7.9991 0 1 0 7.9991-8\\\"></path><g fill=\\\"#fff\\\"><path d=\\\"m3.6379 9.8223a1.14 1.14 0 0 0 .3465.4066 1.4926 1.4926 0 0 0 .5068.2309 2.3973 2.3973 0 0 0 .6027.0753 3.1157 3.1157 0 0 0 .4516-.0351 1.5712 1.5712 0 0 0 .4519-.1354.9923.9923 0 0 0 .3515-.2762.6942.6942 0 0 0 .14-.4468.6287.6287 0 0 0 -.1854-.4716 1.4719 1.4719 0 0 0 -.4868-.3012 4.88 4.88 0 0 0 -.6827-.211q-.3819-.09-.7733-.2007a6.8 6.8 0 0 1 -.7829-.246 2.688 2.688 0 0 1 -.683-.3764 1.7749 1.7749 0 0 1 -.4868-.5777 1.7528 1.7528 0 0 1 -.1857-.8383 1.8759 1.8759 0 0 1 .2359-.9587 2.1364 2.1364 0 0 1 .6174-.6776 2.69 2.69 0 0 1 .8634-.4017 3.6837 3.6837 0 0 1 .964-.13 4.5682 4.5682 0 0 1 1.0791.1255 2.6987 2.6987 0 0 1 .9189.4067 2.0622 2.0622 0 0 1 .6376.7171 2.2036 2.2036 0 0 1 .2359 1.0593h-1.5261a1.2706 1.2706 0 0 0 -.1358-.5321.8879.8879 0 0 0 -.3061-.3314 1.2971 1.2971 0 0 0 -.4365-.1707 2.6957 2.6957 0 0 0 -.5371-.05 1.86 1.86 0 0 0 -.3818.04 1.0222 1.0222 0 0 0 -.3462.14.8675.8675 0 0 0 -.2561.2511.6746.6746 0 0 0 -.1.3815.6437.6437 0 0 0 .08.3413.7137.7137 0 0 0 .3162.241 4.0247 4.0247 0 0 0 .6527.2209q.4164.1105 1.0892.2811.2008.04.5574.1455a2.6774 2.6774 0 0 1 .7077.3365 2.1409 2.1409 0 0 1 .6073.6174 1.7574 1.7574 0 0 1 .2562.9889 2.1911 2.1911 0 0 1 -.1909.9136 1.9859 1.9859 0 0 1 -.5672.728 2.7248 2.7248 0 0 1 -.9336.4768 4.4152 4.4152 0 0 1 -1.29.1708 4.5312 4.5312 0 0 1 -1.15-.1457 2.887 2.887 0 0 1 -.9838-.4563 2.2529 2.2529 0 0 1 -.6778-.7931 2.3668 2.3668 0 0 1 -.241-1.1444h1.5261a1.3138 1.3138 0 0 0 .1306.6123z\\\"></path><path d=\\\"m10.5254 4.4207v5.8433h3.4938v1.3253h-5.0702v-7.1686z\\\"></path></g></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 48 48\\\"><path fill=\\\"#1c1e23\\\" d=\\\"m20.27 16.87-6.54-3.81-1.56-5.86a1 1 0 0 0 -1.17-.7l-5.08 1.37a1 1 0 0 0 -.69 1.21l1 3.95-3.89 1.06a1 1 0 0 0 -.69 1.22l1.35 5.09a1 1 0 0 0 1.2.7l6.12-1.66 6.35 3.7-5.78 3.37-7.19-1.94a1 1 0 0 0 -1.2.7l-1.35 5.09a1 1 0 0 0 .69 1.21l4.44 1.2-1.22 4.6a1 1 0 0 0 .69 1.21l5.05 1.42a1 1 0 0 0 1.2-.7l1.58-5.94 6.69-3.89v7.71l-5.33 5.32a1 1 0 0 0 0 1.4l3.7 3.73a1 1 0 0 0 1.39 0l3.58-3.63 3.67 3.7a1 1 0 0 0 1.39 0l3.7-3.7a1 1 0 0 0 0-1.39l-4.92-5v-8.19l7.29 4.24 1.49 5.59a1 1 0 0 0 1.2.7l5-1.37a1 1 0 0 0 .7-1.21l-1.24-4.66 4.23-1.14a1 1 0 0 0 .7-1.21l-1.32-5.09a1 1 0 0 0 -1.2-.7l-7.38 2-5.87-3.42 6.63-3.86 6.73 1.82a1 1 0 0 0 1.2-.7l1.39-5.1a1 1 0 0 0 -.7-1.22l-4-1.07 1.05-3.94a1 1 0 0 0 -.69-1.21l-5-1.37a1 1 0 0 0 -1.2.7l-1.46 5.27-7.55 4.4v-6.17l4.92-4.95a1 1 0 0 0 0-1.4l-3.7-3.72a1 1 0 0 0 -1.39 0l-3.52 3.55-3.76-3.77a1 1 0 0 0 -1.39 0l-3.7 3.73a1 1 0 0 0 0 1.39l5.33 5.37z\\\"></path></svg>\"","module.exports = \"<svg enable-background=\\\"new 0 0 48 48\\\" viewBox=\\\"0 0 48 48\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m16.3 34.3c1.5 0 2.7-1.2 2.7-2.7s-1.2-2.7-2.7-2.7-2.7 1.2-2.7 2.7c0 1.5 1.2 2.7 2.7 2.7zm10.7-25.3c.6 0 1-.4 1-1v-1.7c0-.5-.5-1-1-1h-5.9c-.5 0-1 .4-1 1v1.7c0 .6.5 1 1 1zm4.3 11.1c1.6.1 3-1.2 3-2.8 0-.1 0-.2 0-.3v-3.9c.1-1.6-1.1-3-2.7-3.1-.1 0-.2 0-.3 0h-14.6c-1.6-.1-3 1.1-3 2.7v.3 3.9c-.1 1.6 1.2 3 2.8 3h.3 14.5zm.3 14.2c1.5 0 2.6-1.2 2.6-2.7s-1.2-2.6-2.6-2.6-2.6 1.2-2.6 2.7c-.1 1.4 1.1 2.6 2.6 2.6zm-5.3-30.9c-.9 0-1.7-.8-1.7-1.7s.8-1.7 1.7-1.7c.9 0 1.7.8 1.7 1.7s-.8 1.7-1.7 1.7zm-4.6 0c-.9 0-1.7-.8-1.7-1.7s.8-1.7 1.7-1.7c.9 0 1.7.8 1.7 1.7s-.7 1.7-1.7 1.7zm2.3 37.2h-6.9l-5 7.4h-4.1l7-10.5c-2.7-.6-4.6-3-4.7-5.8v-21.8c.1-3.3 2.8-5.9 6.1-5.9h15c3.3 0 6 2.6 6.1 5.9v21.8c0 2.8-2 5.2-4.7 5.8l7.2 10.5h-4l-5-7.4z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" role=\\\"img\\\" viewBox=\\\"0 0 48 48\\\"><path fill=\\\"#fff\\\" d=\\\"m42.88 45.83a2.1 2.1 0 0 1 -.87-.19l-15.92-7.17a5.23 5.23 0 0 0 -2.09-.47 5.14 5.14 0 0 0 -2.08.44l-15.92 7.2a2.1 2.1 0 0 1 -.87.19 2.14 2.14 0 0 1 -1.76-1 2 2 0 0 1 -.12-2l18.86-40.83a2.08 2.08 0 0 1 3.78 0l18.87 40.87a2 2 0 0 1 -.12 2 2.14 2.14 0 0 1 -1.76.96z\\\"></path><path d=\\\"m24 2.34a.55.55 0 0 1 .53.33l18.86 40.83a.49.49 0 0 1 0 .53.61.61 0 0 1 -.49.3.65.65 0 0 1 -.25-.06l-15.95-7.16a6.57 6.57 0 0 0 -5.4 0l-15.93 7.16a.65.65 0 0 1 -.25.06.61.61 0 0 1 -.49-.3.49.49 0 0 1 0-.53l18.84-40.83a.55.55 0 0 1 .53-.33m0-3a3.53 3.53 0 0 0 -3.25 2.07l-18.87 40.83a3.59 3.59 0 0 0 3.24 5.09 3.74 3.74 0 0 0 1.49-.33l15.92-7.17a3.64 3.64 0 0 1 2.94 0l15.92 7.17a3.74 3.74 0 0 0 1.49.32 3.59 3.59 0 0 0 3.24-5.09l-18.87-40.82a3.53 3.53 0 0 0 -3.25-2.07z\\\"></path></svg>\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 204;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t204: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunksite_dotcom\"] = globalThis[\"webpackChunksite_dotcom\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [216,514], () => (__webpack_require__(888)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","phoenix_1","require","exports","channelId","includes","joinChannel","handleJoin","window","socket","channels","channel","state","join","receive","_a","reason","console","error","concat","errorEvent","CustomEvent","detail","document","dispatchEvent","event","log","isVehicleChannel","split","route_id","direction_id","push","on","data","onError","baseChannel","leaveChannel","id","off","leave","Socket","onClose","type","wasClean","location","reload","connect","addEventListener","querySelectorAll","forEach","el","getAttribute","Object","keys","react_1","__importStar","keyboard_events_react_1","icon_1","render_svg_1","__importDefault","icon_shuttle_default_svg_1","icon_cancelled_default_svg_1","icon_snow_default_svg_1","icon_alerts_triangle_svg_1","alertClassNames","expanded","priority","description","classNames","effect","default","humanLifecycle","lifecycle","severity","alert","alertClasses","createElement","className","humanLabelForAlert","map","word","charAt","toUpperCase","slice","alertDescription","tabIndex","role","ref","panel","focus","dangerouslySetInnerHTML","__html","updated_at","_b","useState","toggleExpanded","onClick","strippedAlertUrl","url","replace","headerContent","header","onKeyPress","e","handleReactEnterKeyPress","iconForAlert","effectNameForAlert","alertLabel","noDescription","caret","caretIcon","alerts","Alert","key","text","contextText","bgClass","style","borderRadius","errorData","JSON","stringify","href","alt","src","lodash_1","render_fa_1","props","iconSvgText","classOverride","dispatch","notifyExpanded","initiallyExpanded","initiallyFocused","children","panelClassName","preventScroll","initialState","focused","action","payload","hookedState","_c","headerId","panelId","iconHelper","classOverrideString","isString","Fragment","react_dom_1","focus_trap_1","aria_props_1","ModalContent","closeText","closeModal","ariaLabel","focusElementId","bodyPadding","scrollBarPadding","asideRef","useRef","scrollRef","useEffect","current","scrollTo","top","passive","removeEventListener","useLayoutEffect","trap","createFocusTrap","initialFocus","clickOutsideDeactivates","activate","bodyWrapper","getElementById","setAttribute","body","classList","add","paddingRight","remove","deactivate","createPortal","__assign","labelOrDescribedBy","onKeyDown","handleReactExitKeyPress","target","onClickAway","Modal","_d","priorPadding","innerWidth","clientWidth","label","undefined","isLabel","elementId","route_1","route","toLowerCase","isABusRoute","isASilverLineRoute","isACommuterRailRoute","isAGreenLineRoute","routeToModeName","date_fns_1","date_fns_tz_1","BOSTON_TIMEZONE","unformatted","part","Number","parseInt","year","month","day","Date","date","getFullYear","getMonth","getDate","stringToDateObject","toLocaleDateString","timeZone","timeStr1","timeStr2","today","dateFormatted","Intl","DateTimeFormat","format","fullDate1","fullDate2","timeInMs1","getTime","timeInMs2","comparison","dateTimeString","overrideFormat","dateTime","parseISO","formatString","getMinutes","formatInTimeZone","time","targetDate","seconds","differenceInSeconds","secondsInHour","Math","floor","secondsInMinute","formatToBostonTime","dateTime1","dateTime2","formattedDate","prediction_helpers_1","DisplayTime_1","displayTimeConfig_1","toRouteMode","isSubwayRoute","SUBWAY","BUS","COMMUTER_RAIL","FERRY","departureInfo","prediction","schedule","departureInfos","find","di","isCancelled","schedules","predictions","schedulesByTripId","keyBy","predictionsByTripId","scheduleTripIds","predictionTripIds","scheduleDirectionInfo","tripId","trip","isSkipped","isDelayed","routeMode","unmatchedPredictionTripIds","difference","predictionDirectionInfo","sortBy","stopName","directionId","destination","direction_destinations","DefaultWrapper","isCR","listLength","omitCancelledAndSkipped","WrapperEl","predictionTimeCutoff","chain","filter","d","maxBy","value","reject","departure","omitBy","getInfoKey","routePatterns","isMatch","rp","route_pattern_id","isSimilar","headsign","r","result","isFetchFailed","Error","args","_i","arguments","length","Promise","fetch","apply","resp","sent","ok","json","__generator","fetchJson","then","throwIfFetchFailed","icon_accessible_small_svg_1","icon_blue_line_default_svg_1","icon_mode_bus_small_svg_1","icon_mode_commuter_rail_small_svg_1","icon_mode_ferry_small_svg_1","icon_mode_subway_default_svg_1","icon_green_line_small_svg_1","icon_green_line_b_small_svg_1","icon_green_line_c_small_svg_1","icon_green_line_d_small_svg_1","icon_green_line_e_small_svg_1","icon_mattapan_line_small_svg_1","icon_orange_line_small_svg_1","icon_red_line_small_svg_1","icon_silver_line_small_svg_1","icon_vehicle_bordered_expanded_svg_1","icon_search_reverse_default_svg_1","icon_crowding_svg_1","icon_bike_svg_1","icon_escalator_svg_1","icon_elevator_svg_1","icon_fares_svg_1","routeId","startsWith","commuterRailIcon","ferryIcon","blueLineIcon","greenLineIcon","greenBLineIcon","greenCLineIcon","greenDLineIcon","greenELineIcon","mattapanLineIcon","orangeLineIcon","redLineIcon","silverLineIcon","busIcon","unicodeCharacter","defaultTooltipOptions","animation","html","placement","trigger","tooltipText","tooltipOptions","options","assign","Tag","media_breakpoints_1","isSMDown","isSmallBreakpoint","setIsSmallBreakpoint","handleResize","mediaBreakpoints","matchMedia","matches","mobileDetect","navigator","userAgent","is","prediction_1","date_1","delay","scheduledTime","scheduled_time","delayForCommuterRail","compareStringTimes","status","isSkippedOrCancelled","track","schedule_relationship","maxDifferenceInSeconds","svgName","ariaHide","svgText","text_1","css_1","icon_commuter_rail_default_svg_1","icon_bus_default_svg_1","icon_subway_default_svg_1","icon_ferry_default_svg_1","busClass","name","breakTextAtSlash","stop","str","spans","parts","cursor","span","offset","FetchStatus","NotStarted","Loading","Data","parseJsonResponse","response","statusText","fetcher","parser","catch","useReducer","swr_1","fetch_json_1","use_fetch_1","fetchData","__awaiter","fetchJsonOrThrow","stopId","route_id_array","Array","isArray","channels_1","reducer","initialData","onChannelData","react_router_dom_1","resetRowParams","params","newParams","entries","set","delete","routes","useSearchParams","setSearchParams","activeRow","useMemo","get","getRowParams","matchedRoute","some","isNil","resetRow","useCallback","setRow","newValues","backendPath","useChannel_1","pick","arrival_time","departure_time","channelName","_oldGroupedPredictions","parsePrediction","routeIds","sortedRoutes","use_interval_1","now","updateDate","setUpdateDate","parsedData","fetchFacilityData","leaflet_1","markers","points","m","latLng","latitude","longitude","latLngBounds","react_2","maxZoom","minZoom","scrollWheelZoom","touchAction","memo","bounds","boundsByMarkers","mapData","defaultCenter","default_center","polylines","tileServerUrl","tile_server_url","zoom","mapRef","createRef","leafletElement","invalidateSize","leaflet","buildIcon_1","getBounds","Map","Marker_1","Marker","Polyline_1","Polyline","Popup_1","Popup","TileLayer","boundsOrByMarkers","position","mapCenter","nonNullZoom","center","defaultZoomOpts","attribution","onload","container","parentElement","polyline","random","positions","color","weight","dashArray","lineCap","lineJoin","uniqBy","marker","icon","icon_opts","markerEl","angle","rotation_angle","setRotationAngle","rotateMarker","zIndexOffset","z_index","keyboard","onclick","tooltip","maxHeight","iconAnchor","iconSize","popupAnchor","opts","iconOpts","icon_anchor","defaultIconOpts","icon_size","popup_anchor","Icon","iconUrl","iconRetinaUrl","effects","a","alertsForEffects","entities","informed_entity","stopAlerts","alertsByStop","alertsForRoute","activity","activities","hasEffect","hasStopClosure","hasStationClosure","entity","reduce","acc","explodedAlerts","innerAcc","mergeWith","objValue","srcValue","alertsByDirectionObj","alertsByDirectionId","alertsAffectingBothDirectionsArray","alertsAffectingBothDirections","alertsDirectionArray","index","findIndex","isCurrentLifecycle","days","selectedDate","xDays","setHours","active_period","isInARange","ap","range","start","end","isValid","isDiversion","isInNextXDays","isActiveDiversion","banner","facilityId","facility","facilities","facilityIds","numPredictions","isValidSuppressiveAlert","timeDataList","time_data_with_crowding_list","time_data","groupedByHeadsign","route_patterns","minBy","sort_order","sortedGroupedRoutePatterns","isCommuterRailRouteType","routeOrType","routeOrRouteId","RAPID_TRANSIT","RAIL_REPLACEMENT_BUS","routeTypesToMode","Alerts_1","alert_1","AmenityCard_1","facilityType","hasFacilities","linkText","AmenityModal","headerText","scope","attributes","short_name","hasCurrentFacilityAlert","AmenityLink","parse_1","displayType","strikethrough","formattedTime","formatRelativeTime","parsedTime","isAbsolute","isNaN","dataType","toISOString","route_headers_1","useDepartureRow_1","departureInfo_1","DepartureTimes_1","route_patterns_1","departuresForRoute","routePatternsByHeadsign","sortedRoutePatternsByHeadsign","entry","departures","departureInfoInRoutePatterns","canonical","isNoncanonicalAndNoDepartures","routeBgClass","routeToModeIcon","routeName","alertsForDirection","allAlertsForDirection","toString","hasService","displayNoUpcomingTrips","message","modeSpecificDepartures","alertsShouldSuppressDepartures","isSuppressiveAlert","tripForSelectedRoutePattern","noTrips","noServiceOrNoTrips","departuresListFromInfos","DeparturesWithBadge_1","ClickableDepartureRow","headsignName","overrideDate","timeList","departuresLength","body_scroll_lock_1","StopPageDepartures_1","StopMapRedesign_1","DepartureList_1","media_breakpoints_react_1","usePredictionsChannel_1","useSchedules_1","setPredictionError","useSchedulesByStop","mergeIntoDepartureInfo","realtimeAlerts","setRealtimeAlerts","mappedRouteIds","railReplacementRoutes","isRailReplacementBus","regularRoutesSansSubway","isRapidTransit","routeIdMap","rr","line_id","mapRouteIds","updatedDepartureInfos","updatedRoute","updateDepartureInfos","currentAndUpcomingAlerts","isUpcomingOrCurrentLifecycle","routeWideAlertsArray","routeWideAlerts","alertsForSelectedRoute","alertsForStop","alertsForStopAndRoute","filteredDepartures","useSMDown","refEl","disableBodyScroll","clearAllBodyScrollLocks","routesForMap","updatedGroupedRoutePatterns","groupedRoutePatterns","updatedPatterns","cloneDeep","routeIdToUpdate","updateRoutePatterns","useLoaderData","defaultPolylines","orderBy","flatMap","values","obj","representative_trip_polyline","routePatternsForSelection","shapeForSelection","BackToRoutes","lines","vehicles","selectedRoute","ALL_MODE_BUTTONS","mode","displayText","displayIcon","genericSubwayIcon","modesList","selectedMode","setSelectedMode","displayedModes","option","Badge_1","priorityBadge","hasSuspension","hasClosure","hasShuttleService","toHighPriorityAlertBadge","secondaryBadge","hasDetour","toInformativeAlertBadge","alertBadge","displayBadge","float","whiteSpace","marginTop","icon_realtime_tracking_svg_1","BasicTime_1","isDelayedAndDisplayed","departureInfoToTime","trackName","tomorrow","isSameDayInBoston","willPrintInRelative","willSetRelativeProp","displayInfoContainsPrediction","mobileDetect_1","getExternalMapURI","stationName","latLongString","encodedName","encodeURIComponent","mapURI","isIPhone","address","municipality","externalMapURI","displayString","rel","stops_1","ExternalMapLink_1","ParkingAmenityCard_1","BikeStorageAmenityCard_1","ElevatorsAmenityCard_1","EscalatorsAmenityCard_1","AccessibilityAmenityCard_1","FareSalesAmenityCard_1","isStation","isStopAStation","facilitiesByType","has","elevators","escalators","alertsForParking","filterParkingAlerts","bikeStorage","bike_storage","alertsByActivity","alertsByFacility","elevatorFacilities","escalatorFacilities","accessibleFeatures","accessibility","Map_1","useMapConfig_1","mapMarkerFromStop","mapConfig","iconName","isFerryRoute","routeToModeIconName","__spreadArray","vehicle","mapMarkerFromVehicle","line","DeparturesFilters_1","DepartureCard_1","modeSortFn","nonShuttleRoutes","groupedRoutes","groupBy","modeForRoute","filteredRoutes","currentAlerts","groupedAlerts","alertsByRoute","StopFeatures_1","alignItems","useStop_1","StationInformation_1","useRoute_1","StopPageHeaderRedesign_1","Loading_1","useAlerts_1","DeparturesAndMap_1","hasPredictionError","stopResult","useStop","routesResult","useRoutes","alertsForStopResult","useAlertsByStop","useFacilitiesByStop","alertsForRoutesResult","useAlertsByRoute","allRouteWideAlerts","allAlerts","allAmenityAlerts","isAmenityAlert","allStopPageAlerts","isStopPageAlert","alertsWithinSevenDays","isGlobalBannerAlert","Accessibility_1","StationFeatures","features","feature","accessibilityNames","StopFeatures","AccessibilityLink","stationOrStop","without","hasAccessibleFeatures","badge","accessibleIcon","modalContent","Modal_1","AmenityModalContext","createContext","useContext","altText","modalOpen","setModalOpen","disabled","Provider","covered","outdoor","hasBikeFacilityAlert","hasBikeStorage","hasPedalAndPark","hasOutdoorRack","hasEnclosedRack","bikeIcon","AmenityImage","AccessAmenitiesModal_1","access_amenities_helpers_1","elevatorIcon","cardBadge","availabilityMessage","escalatorIcon","useFetch_1","FareRetailLocations","renderFareTable","tableData","price","faresIcon","hasFareVendingMachine","faresData","getModalContent","parking_lots","park","payment","daily_rate","monthly_rate","_e","capacity","overnight","_f","paymentMethods","methods","mobileAppURL","mobile_app","supportsMobileApp","supportsInvoice","supportsCash","supportsCreditDebitCard","getPaymentElement","total","accessible","manager","contact","phone","parkingLots","areAllParkingLotsClosed","allParkingClosed","parkingClosuresIDs","alertsForEffect","parkingLotIDs","p","allParkingLotsClosed","iconColor","parkingIcon","brokenFacilities","totalFacilities","accessFacilities","workingFacilities","backgroundClass","zoneNumber","modeType","routeMap","content","modeIcon","modeIconFeature","uniqRouteMap","ModeIcons_1","CommuterRailZoneIcon_1","ParkingIcon_1","AccessibilityIcon_1","zone","ExpandableBlock_1","icon_accessible_default_svg_1","tty_phone","escalator_both","escalator_up","escalator_down","ramp","fully_elevated_platform","elevated_subplatform","elevator","portable_boarding_lift","isSpecialCase","maybeRenderBusAccess","bus","accessKnown","formatAccess","access","Access","accessName","renderAccessibilityContact","title","isExpanded","isFocused","specialCase","renderSpecialCase","isAccessible","accessibilityKnown","renderAccessibilityLevel","routeGroup","group_name","hasBus","hasAccessibilityFeatures","renderFeaturesList","getNextUnCancelledDeparture","vehicle_id","StopPageRedesign_1","ErrorPage_1","routesConfig","path","loader","fetchStopRoutePatterns","shouldRevalidate","element","ErrorBoundary","fallback","hasErrorBoundary","rootEl","dataset","mbtaStopId","render","RouterProvider","router","createBrowserRouter","fallbackElement","onLoad","module","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","call","amdD","O","chunkIds","fn","notFulfilled","Infinity","i","fulfilled","j","every","splice","n","getter","__esModule","getPrototypeOf","t","this","ns","create","def","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","g","globalThis","Function","hmd","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}