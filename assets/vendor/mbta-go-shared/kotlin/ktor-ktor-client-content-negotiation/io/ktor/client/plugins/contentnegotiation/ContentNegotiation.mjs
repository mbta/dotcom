import {
  initMetadataForClassbxx6q50dy2s7 as initMetadataForClass,
  initMetadataForLambda3af3he42mmnh as initMetadataForLambda,
  initMetadataForCoroutine1i7lbatuf5bnt as initMetadataForCoroutine,
} from '../../../../../../kotlin-kotlin-stdlib/kotlin/js/metadataUtils.mjs';
import { VOID3gxj6tk5isa35 as VOID } from '../../../../../../kotlin-kotlin-stdlib/kotlin/js/void.mjs';
import { get_DefaultIgnoredTypes1nconmee47lje as get_DefaultIgnoredTypes } from './DefaultIgnoredTypesJs.mjs';
import { plus1ogy4liedzq5j as plus } from '../../../../../../kotlin-kotlin-stdlib/kotlin/collections/_Sets.mjs';
import {
  toMutableSetjdpdbr9jsqq8 as toMutableSet,
  joinToString1cxrrlmo0chqs as joinToString,
} from '../../../../../../kotlin-kotlin-stdlib/kotlin/collections/_Collections.mjs';
import { ArrayList3it5z8td81qkl as ArrayList } from '../../../../../../kotlin-kotlin-stdlib/kotlin/collections/ArrayListJs.mjs';
import { JsonContentTypeMatcher_instance3m8a4vixdkiwx as JsonContentTypeMatcher_instance } from './JsonContentTypeMatcher.mjs';
import {
  Application_getInstanceq87g3bor693u as Application_getInstance,
  Companion_getInstancecf9b3ybko8sp as Companion_getInstance,
  charset1dribv3ku48b1 as charset,
  ContentType1svlpabm9v7iz as ContentType,
} from '../../../../../../ktor-ktor-http/io/ktor/http/ContentTypes.mjs';
import {
  register$default3vdkjcc7m2cj0 as register$default,
  Configuration20xgygxdzhlk5 as Configuration,
  suitableCharset1jgdcpdzbzgzn as suitableCharset,
  deserialize3kqe4vxpbxz1 as deserialize,
} from '../../../../../../ktor-ktor-serialization/io/ktor/serialization/ContentConverter.mjs';
import {
  protoOf180f3jzyo7rfj as protoOf,
  captureStack1fzi4aczwc4hg as captureStack,
  toString1pkumu07cwy4m as toString,
  equals2au1ep9vhcato as equals,
} from '../../../../../../kotlin-kotlin-stdlib/kotlin/js/coreRuntime.mjs';
import {
  Unit_instance1fbcbse1fwigr as Unit_instance,
  Unitkvevlwgzwiuc as Unit,
} from '../../../../../../kotlin-kotlin-stdlib/kotlin/Unit.mjs';
import { Exceptiondt2hlxn7j7vw as Exception } from '../../../../../../kotlin-kotlin-stdlib/kotlin/exceptions.mjs';
import { Charsets_getInstanceqs70pvl4noow as Charsets_getInstance } from '../../../../../../ktor-ktor-io/io/ktor/utils/io/charsets/Charset.js.mjs';
import { CoroutineImpl2sn3kjnwmfr10 as CoroutineImpl } from '../../../../../../kotlin-kotlin-stdlib/kotlin/coroutines/CoroutineImpl.mjs';
import {
  THROW_CCE2g6jy02ryeudk as THROW_CCE,
  ensureNotNull1e947j3ixpazm as ensureNotNull,
} from '../../../../../../kotlin-kotlin-stdlib/kotlin/hacks.mjs';
import {
  TransformRequestBodyContext3ll40opqaho0d as TransformRequestBodyContext,
  TransformResponseBodyContext1axf7xx6ifwbj as TransformResponseBodyContext,
} from '../../../../../../ktor-ktor-client-core/io/ktor/client/plugins/api/KtorCallContexts.mjs';
import { HttpRequestBuilder15f2nnx9sjuv1 as HttpRequestBuilder } from '../../../../../../ktor-ktor-client-core/io/ktor/client/request/HttpRequest.mjs';
import { TypeInfo2nbxsuf4v8os2 as TypeInfo } from '../../../../../../ktor-ktor-utils/io/ktor/util/reflect/Type.mjs';
import { get_COROUTINE_SUSPENDED3ujt3p13qm4iy as get_COROUTINE_SUSPENDED } from '../../../../../../kotlin-kotlin-stdlib/kotlin/coroutines/intrinsics/Intrinsics.mjs';
import {
  HttpResponse1532ob1hsse1y as HttpResponse,
  get_request3dwcif5y0fvf1 as get_request,
} from '../../../../../../ktor-ktor-client-core/io/ktor/client/statement/HttpResponse.mjs';
import { ByteReadChannel2wzou76jce72d as ByteReadChannel } from '../../../../../../ktor-ktor-io/io/ktor/utils/io/ByteReadChannel.mjs';
import { isInterface3d6p8outrmvmk as isInterface } from '../../../../../../kotlin-kotlin-stdlib/kotlin/js/typeCheckUtils.mjs';
import {
  contentType317fn4f991q9a as contentType,
  contentType2zzm38yxo3syt as contentType_0,
} from '../../../../../../ktor-ktor-http/io/ktor/http/HttpMessageProperties.mjs';
import {
  Collection1k04j3hzsbod0 as Collection,
  KtList3hktaavzmj137 as KtList,
} from '../../../../../../kotlin-kotlin-stdlib/kotlin/collections/Collections.mjs';
import { HttpHeaders_getInstanceelogg8fjd54u as HttpHeaders_getInstance } from '../../../../../../ktor-ktor-http/io/ktor/http/HttpHeaders.mjs';
import { emptyList1g2z5xcrvp2zy as emptyList } from '../../../../../../kotlin-kotlin-stdlib/kotlin/collections/CollectionsKt.mjs';
import { accept2gi3b7wj4jds9 as accept } from '../../../../../../ktor-ktor-client-core/io/ktor/client/request/utils.mjs';
import {
  OutgoingContent3t2ohmyam9o76 as OutgoingContent,
  NullBody_instance2i6w0hfghwfg0 as NullBody_instance,
} from '../../../../../../ktor-ktor-http/io/ktor/http/content/OutgoingContent.mjs';
import {
  getKClassFromExpression3vpejubogshaw as getKClassFromExpression,
  getKClass1s3j9wy1cofik as getKClass,
} from '../../../../../../kotlin-kotlin-stdlib/reflection.mjs';
import { EmptyContent_getInstance116ybdh9l8hek as EmptyContent_getInstance } from '../../../../../../ktor-ktor-client-core/io/ktor/client/utils/Content.mjs';
import { collectionSizeOrDefault36dulx8yinfqm as collectionSizeOrDefault } from '../../../../../../kotlin-kotlin-stdlib/kotlin/collections/Iterables.mjs';
import { KtorSimpleLogger1xdphsp5l4e48 as KtorSimpleLogger } from '../../../../../../ktor-ktor-utils/io/ktor/util/logging/KtorSimpleLoggerJs.mjs';
import { PrimitiveClasses_getInstance2v63zn04dtq03 as PrimitiveClasses_getInstance } from '../../../../../../kotlin-kotlin-stdlib/kotlin/reflect/js/internal/primitives.mjs';
import { HttpStatusCode3o1wkms10pg4k as HttpStatusCode } from '../../../../../../ktor-ktor-http/io/ktor/http/HttpStatusCode.mjs';
import { setOf45ia9pnfhe90 as setOf } from '../../../../../../kotlin-kotlin-stdlib/kotlin/collections/Sets.mjs';
import { arrayOf1akklvh2at202 as arrayOf } from '../../../../../../kotlin-kotlin-stdlib/kotlin/Library.mjs';
import {
  createKType1lgox3mzhchp5 as createKType,
  createInvariantKTypeProjection3sfd0u0y62ozd as createInvariantKTypeProjection,
} from '../../../../../../kotlin-kotlin-stdlib/KTypeHelpers.mjs';
import { AttributeKey3aq8ytwgx54f7 as AttributeKey } from '../../../../../../ktor-ktor-utils/io/ktor/util/Attributes.mjs';
import { createClientPluginjwpvufjows5r as createClientPlugin } from '../../../../../../ktor-ktor-client-core/io/ktor/client/plugins/api/CreatePluginUtils.mjs';
//region block: imports
//endregion
//region block: pre-declaration
//endregion
function get_LOGGER() {
  _init_properties_ContentNegotiation_kt__o183go();
  return LOGGER;
}
var LOGGER;
function get_DefaultCommonIgnoredTypes() {
  _init_properties_ContentNegotiation_kt__o183go();
  return DefaultCommonIgnoredTypes;
}
var DefaultCommonIgnoredTypes;
function get_ExcludedContentTypes() {
  _init_properties_ContentNegotiation_kt__o183go();
  return ExcludedContentTypes;
}
var ExcludedContentTypes;
function get_ContentNegotiation() {
  _init_properties_ContentNegotiation_kt__o183go();
  return ContentNegotiation;
}
var ContentNegotiation;
var ConverterRegistrationClass;
function ConverterRegistration() {
  if (ConverterRegistrationClass === VOID) {
    class $ {
      constructor(converter, contentTypeToSend, contentTypeMatcher) {
        this.m5z_1 = converter;
        this.n5z_1 = contentTypeToSend;
        this.o5z_1 = contentTypeMatcher;
      }
    }
    initMetadataForClass($, 'ConverterRegistration');
    ConverterRegistrationClass = $;
  }
  return ConverterRegistrationClass;
}
function defaultMatcher($this, pattern) {
  return new (ContentNegotiationConfig$defaultMatcher$1())(pattern);
}
var ContentNegotiationConfig$defaultMatcher$1Class;
function ContentNegotiationConfig$defaultMatcher$1() {
  if (ContentNegotiationConfig$defaultMatcher$1Class === VOID) {
    class $ {
      constructor($pattern) {
        this.p5z_1 = $pattern;
      }
      q5z(contentType) {
        return contentType.m3q(this.p5z_1);
      }
    }
    initMetadataForClass($);
    ContentNegotiationConfig$defaultMatcher$1Class = $;
  }
  return ContentNegotiationConfig$defaultMatcher$1Class;
}
var ContentNegotiationConfigClass;
function ContentNegotiationConfig() {
  if (ContentNegotiationConfigClass === VOID) {
    class $ {
      constructor() {
        this.r5z_1 = toMutableSet(plus(get_DefaultIgnoredTypes(), get_DefaultCommonIgnoredTypes()));
        var tmp = this;
        // Inline function 'kotlin.collections.mutableListOf' call
        tmp.s5z_1 = ArrayList().g1();
        this.t5z_1 = null;
      }
      u4l(contentType, converter, configuration) {
        var matcher = contentType.m3q(Application_getInstance().t3o_1) ? JsonContentTypeMatcher_instance : defaultMatcher(this, contentType);
        this.u5z(contentType, converter, matcher, configuration);
      }
      u5z(contentTypeToSend, converter, contentTypeMatcher, configuration) {
        // Inline function 'kotlin.apply' call
        configuration(converter);
        var registration = new (ConverterRegistration())(converter, contentTypeToSend, contentTypeMatcher);
        this.s5z_1.i(registration);
      }
    }
    protoOf($).v4l = register$default;
    initMetadataForClass($, 'ContentNegotiationConfig', ContentNegotiationConfig, VOID, [Configuration()]);
    ContentNegotiationConfigClass = $;
  }
  return ContentNegotiationConfigClass;
}
var ContentConverterExceptionClass;
function ContentConverterException() {
  if (ContentConverterExceptionClass === VOID) {
    class $ extends Exception() {
      static x5z(message) {
        var $this = this.h6(message);
        captureStack($this, $this.w5z_1);
        return $this;
      }
    }
    initMetadataForClass($, 'ContentConverterException');
    ContentConverterExceptionClass = $;
  }
  return ContentConverterExceptionClass;
}
function ContentNegotiationConfig$_init_$ref_1ne3ob() {
  var l = function () {
    return new (ContentNegotiationConfig())();
  };
  l.callableName = '<init>';
  return l;
}
function ContentNegotiation$lambda($this$createClientPlugin) {
  _init_properties_ContentNegotiation_kt__o183go();
  var registrations = $this$createClientPlugin.c50_1.s5z_1;
  var ignoredTypes = $this$createClientPlugin.c50_1.r5z_1;
  $this$createClientPlugin.x5j(ContentNegotiation$lambda$slambda_0(registrations, $this$createClientPlugin, ignoredTypes, null));
  $this$createClientPlugin.p5b(ContentNegotiation$lambda$slambda_2(ignoredTypes, registrations, $this$createClientPlugin, null));
  return Unit_instance;
}
function invoke$convertRequest(registrations, $this_createClientPlugin, ignoredTypes, request, body, $completion) {
  var tmp = new ($invoke$convertRequestCOROUTINE$())(registrations, $this_createClientPlugin, ignoredTypes, request, body, $completion);
  tmp.hd_1 = Unit_instance;
  tmp.id_1 = null;
  return tmp.nd();
}
function invoke$convertResponse(ignoredTypes, registrations, $this_createClientPlugin, requestUrl, info, body, responseContentType, charset, $completion) {
  charset = charset === VOID ? Charsets_getInstance().a3g_1 : charset;
  var tmp = new ($invoke$convertResponseCOROUTINE$())(ignoredTypes, registrations, $this_createClientPlugin, requestUrl, info, body, responseContentType, charset, $completion);
  tmp.hd_1 = Unit_instance;
  tmp.id_1 = null;
  return tmp.nd();
}
var ContentNegotiation$lambda$slambdaClass;
function ContentNegotiation$lambda$slambda() {
  if (ContentNegotiation$lambda$slambdaClass === VOID) {
    class $ extends CoroutineImpl() {
      constructor($registrations, $this_createClientPlugin, $ignoredTypes, resultContinuation, $box) {
        if ($box === VOID)
          $box = {};
        $box.v61_1 = $registrations;
        $box.w61_1 = $this_createClientPlugin;
        $box.x61_1 = $ignoredTypes;
        super(resultContinuation, $box);
      }
      c62($this$transformRequestBody, request, body, _unused_var__etf5q3, $completion) {
        var tmp = this.d62($this$transformRequestBody, request, body, _unused_var__etf5q3, $completion);
        tmp.hd_1 = Unit_instance;
        tmp.id_1 = null;
        return tmp.nd();
      }
      u5c(p1, p2, p3, p4, $completion) {
        var tmp = p1 instanceof TransformRequestBodyContext() ? p1 : THROW_CCE();
        var tmp_0 = p2 instanceof HttpRequestBuilder() ? p2 : THROW_CCE();
        var tmp_1 = !(p3 == null) ? p3 : THROW_CCE();
        return this.c62(tmp, tmp_0, tmp_1, (p4 == null ? true : p4 instanceof TypeInfo()) ? p4 : THROW_CCE(), $completion);
      }
      nd() {
        var suspendResult = this.hd_1;
        $sm: do
          try {
            var tmp = this.fd_1;
            switch (tmp) {
              case 0:
                this.gd_1 = 2;
                this.fd_1 = 1;
                suspendResult = invoke$convertRequest(this.v61_1, this.w61_1, this.x61_1, this.z61_1, this.a62_1, this);
                if (suspendResult === get_COROUTINE_SUSPENDED()) {
                  return suspendResult;
                }

                continue $sm;
              case 1:
                return suspendResult;
              case 2:
                throw this.id_1;
            }
          } catch ($p) {
            var e = $p;
            if (this.gd_1 === 2) {
              throw e;
            } else {
              this.fd_1 = this.gd_1;
              this.id_1 = e;
            }
          }
         while (true);
      }
      d62($this$transformRequestBody, request, body, _unused_var__etf5q3, completion) {
        var i = new (ContentNegotiation$lambda$slambda())(this.v61_1, this.w61_1, this.x61_1, completion);
        i.y61_1 = $this$transformRequestBody;
        i.z61_1 = request;
        i.a62_1 = body;
        i.b62_1 = _unused_var__etf5q3;
        return i;
      }
    }
    initMetadataForLambda($, VOID, VOID, [4]);
    ContentNegotiation$lambda$slambdaClass = $;
  }
  return ContentNegotiation$lambda$slambdaClass;
}
function ContentNegotiation$lambda$slambda_0($registrations, $this_createClientPlugin, $ignoredTypes, resultContinuation) {
  var i = new (ContentNegotiation$lambda$slambda())($registrations, $this_createClientPlugin, $ignoredTypes, resultContinuation);
  var l = function ($this$transformRequestBody, request, body, _unused_var__etf5q3, $completion) {
    return i.c62($this$transformRequestBody, request, body, _unused_var__etf5q3, $completion);
  };
  l.$arity = 4;
  return l;
}
var ContentNegotiation$lambda$slambdaClass_0;
function ContentNegotiation$lambda$slambda_1() {
  if (ContentNegotiation$lambda$slambdaClass_0 === VOID) {
    class $ extends CoroutineImpl() {
      constructor($ignoredTypes, $registrations, $this_createClientPlugin, resultContinuation, $box) {
        if ($box === VOID)
          $box = {};
        $box.m62_1 = $ignoredTypes;
        $box.n62_1 = $registrations;
        $box.o62_1 = $this_createClientPlugin;
        super(resultContinuation, $box);
      }
      s5c($this$transformResponseBody, response, body, info, $completion) {
        var tmp = this.t5c($this$transformResponseBody, response, body, info, $completion);
        tmp.hd_1 = Unit_instance;
        tmp.id_1 = null;
        return tmp.nd();
      }
      u5c(p1, p2, p3, p4, $completion) {
        var tmp = p1 instanceof TransformResponseBodyContext() ? p1 : THROW_CCE();
        var tmp_0 = p2 instanceof HttpResponse() ? p2 : THROW_CCE();
        var tmp_1 = (!(p3 == null) ? isInterface(p3, ByteReadChannel()) : false) ? p3 : THROW_CCE();
        return this.s5c(tmp, tmp_0, tmp_1, p4 instanceof TypeInfo() ? p4 : THROW_CCE(), $completion);
      }
      nd() {
        var suspendResult = this.hd_1;
        $sm: do
          try {
            var tmp = this.fd_1;
            switch (tmp) {
              case 0:
                this.gd_1 = 2;
                var tmp_0 = this;
                var tmp0_elvis_lhs = contentType(this.q62_1);
                var tmp_1;
                if (tmp0_elvis_lhs == null) {
                  return null;
                } else {
                  tmp_1 = tmp0_elvis_lhs;
                }

                tmp_0.t62_1 = tmp_1;
                this.u62_1 = suitableCharset(get_request(this.q62_1).l3v());
                this.fd_1 = 1;
                suspendResult = invoke$convertResponse(this.m62_1, this.n62_1, this.o62_1, get_request(this.q62_1).f4s(), this.s62_1, this.r62_1, this.t62_1, this.u62_1, this);
                if (suspendResult === get_COROUTINE_SUSPENDED()) {
                  return suspendResult;
                }

                continue $sm;
              case 1:
                return suspendResult;
              case 2:
                throw this.id_1;
            }
          } catch ($p) {
            var e = $p;
            if (this.gd_1 === 2) {
              throw e;
            } else {
              this.fd_1 = this.gd_1;
              this.id_1 = e;
            }
          }
         while (true);
      }
      t5c($this$transformResponseBody, response, body, info, completion) {
        var i = new (ContentNegotiation$lambda$slambda_1())(this.m62_1, this.n62_1, this.o62_1, completion);
        i.p62_1 = $this$transformResponseBody;
        i.q62_1 = response;
        i.r62_1 = body;
        i.s62_1 = info;
        return i;
      }
    }
    initMetadataForLambda($, VOID, VOID, [4]);
    ContentNegotiation$lambda$slambdaClass_0 = $;
  }
  return ContentNegotiation$lambda$slambdaClass_0;
}
function ContentNegotiation$lambda$slambda_2($ignoredTypes, $registrations, $this_createClientPlugin, resultContinuation) {
  var i = new (ContentNegotiation$lambda$slambda_1())($ignoredTypes, $registrations, $this_createClientPlugin, resultContinuation);
  var l = function ($this$transformResponseBody, response, body, info, $completion) {
    return i.s5c($this$transformResponseBody, response, body, info, $completion);
  };
  l.$arity = 4;
  return l;
}
function ContentNegotiation$lambda$convertRequest$lambda(it) {
  _init_properties_ContentNegotiation_kt__o183go();
  return toString(it.m5z_1);
}
var $invoke$convertRequestCOROUTINE$Class;
function $invoke$convertRequestCOROUTINE$() {
  if ($invoke$convertRequestCOROUTINE$Class === VOID) {
    class $ extends CoroutineImpl() {
      constructor(registrations, $this_createClientPlugin, ignoredTypes, request, body, resultContinuation) {
        super(resultContinuation);
        this.g60_1 = registrations;
        this.h60_1 = $this_createClientPlugin;
        this.i60_1 = ignoredTypes;
        this.j60_1 = request;
        this.k60_1 = body;
      }
      nd() {
        var suspendResult = this.hd_1;
        $sm: do
          try {
            var tmp = this.fd_1;
            switch (tmp) {
              case 0:
                this.gd_1 = 7;
                var tmp_0 = this;
                var tmp_1;
                if (this.j60_1.l4q_1.h3h(get_ExcludedContentTypes())) {
                  var excluded = this.j60_1.l4q_1.f3h(get_ExcludedContentTypes());
                  var tmp0 = this.g60_1;
                  var destination = ArrayList().g1();
                  var _iterator__ex2g4s = tmp0.x();
                  while (_iterator__ex2g4s.y()) {
                    var element = _iterator__ex2g4s.z();
                    var tmp$ret$0;
                    l$ret$1: do {
                      var tmp_2;
                      if (isInterface(excluded, Collection())) {
                        tmp_2 = excluded.h1();
                      } else {
                        tmp_2 = false;
                      }
                      if (tmp_2) {
                        tmp$ret$0 = true;
                        break l$ret$1;
                      }
                      var _iterator__ex2g4s_0 = excluded.x();
                      while (_iterator__ex2g4s_0.y()) {
                        var element_0 = _iterator__ex2g4s_0.z();
                        if (element.n5z_1.m3q(element_0)) {
                          tmp$ret$0 = false;
                          break l$ret$1;
                        }
                      }
                      tmp$ret$0 = true;
                    }
                     while (false);
                    if (tmp$ret$0) {
                      destination.i(element);
                    }
                  }
                  tmp_1 = destination;
                } else {
                  tmp_1 = this.g60_1;
                }

                tmp_0.l60_1 = tmp_1;
                var tmp_3 = this;
                var tmp0_elvis_lhs = this.j60_1.i4q_1.y3i(HttpHeaders_getInstance().s3q_1);
                tmp_3.m60_1 = tmp0_elvis_lhs == null ? emptyList() : tmp0_elvis_lhs;
                var _iterator__ex2g4s_1 = this.l60_1.x();
                while (_iterator__ex2g4s_1.y()) {
                  var element_1 = _iterator__ex2g4s_1.z();
                  var tmp0_0 = this.m60_1;
                  var tmp$ret$2;
                  l$ret$3: do {
                    var tmp_4;
                    if (isInterface(tmp0_0, Collection())) {
                      tmp_4 = tmp0_0.h1();
                    } else {
                      tmp_4 = false;
                    }
                    if (tmp_4) {
                      tmp$ret$2 = true;
                      break l$ret$3;
                    }
                    var _iterator__ex2g4s_2 = tmp0_0.x();
                    while (_iterator__ex2g4s_2.y()) {
                      var element_2 = _iterator__ex2g4s_2.z();
                      if (Companion_getInstance().dx(element_2).m3q(element_1.n5z_1)) {
                        tmp$ret$2 = false;
                        break l$ret$3;
                      }
                    }
                    tmp$ret$2 = true;
                  }
                   while (false);
                  if (tmp$ret$2) {
                    var qValue = this.h60_1.c50_1.t5z_1;
                    var contentTypeToSend = qValue == null ? element_1.n5z_1 : element_1.n5z_1.j3q('q', qValue.toString());
                    get_LOGGER().u3n('Adding Accept=' + contentTypeToSend.toString() + ' header for ' + this.j60_1.g4q_1.toString());
                    accept(this.j60_1, contentTypeToSend);
                  }
                }

                var tmp_5;
                var tmp_6 = this.k60_1;
                if (tmp_6 instanceof OutgoingContent()) {
                  tmp_5 = true;
                } else {
                  var tmp0_1 = this.i60_1;
                  var tmp$ret$4;
                  l$ret$5: do {
                    var tmp_7;
                    if (isInterface(tmp0_1, Collection())) {
                      tmp_7 = tmp0_1.h1();
                    } else {
                      tmp_7 = false;
                    }
                    if (tmp_7) {
                      tmp$ret$4 = false;
                      break l$ret$5;
                    }
                    var _iterator__ex2g4s_3 = tmp0_1.x();
                    while (_iterator__ex2g4s_3.y()) {
                      var element_3 = _iterator__ex2g4s_3.z();
                      if (element_3.hh(this.k60_1)) {
                        tmp$ret$4 = true;
                        break l$ret$5;
                      }
                    }
                    tmp$ret$4 = false;
                  }
                   while (false);
                  tmp_5 = tmp$ret$4;
                }

                if (tmp_5) {
                  get_LOGGER().u3n('Body type ' + toString(getKClassFromExpression(this.k60_1)) + ' is in ignored types. ' + ('Skipping ContentNegotiation for ' + this.j60_1.g4q_1.toString() + '.'));
                  return null;
                }

                var tmp_8 = this;
                var tmp0_elvis_lhs_0 = contentType_0(this.j60_1);
                var tmp_9;
                if (tmp0_elvis_lhs_0 == null) {
                  this.h60_1;
                  get_LOGGER().u3n("Request doesn't have Content-Type header. Skipping ContentNegotiation for " + this.j60_1.g4q_1.toString() + '.');
                  return null;
                } else {
                  tmp_9 = tmp0_elvis_lhs_0;
                }

                tmp_8.n60_1 = tmp_9;
                var tmp_10 = this.k60_1;
                if (tmp_10 instanceof Unit()) {
                  get_LOGGER().u3n('Sending empty body for ' + this.j60_1.g4q_1.toString());
                  this.j60_1.i4q_1.m3j(HttpHeaders_getInstance().k3r_1);
                  return EmptyContent_getInstance();
                }

                var tmp_11 = this;
                var tmp0_2 = this.g60_1;
                var destination_0 = ArrayList().g1();
                var _iterator__ex2g4s_4 = tmp0_2.x();
                while (_iterator__ex2g4s_4.y()) {
                  var element_4 = _iterator__ex2g4s_4.z();
                  if (element_4.o5z_1.q5z(this.n60_1)) {
                    destination_0.i(element_4);
                  }
                }

                var tmp_12;
                if (!destination_0.h1()) {
                  tmp_12 = destination_0;
                } else {
                  tmp_12 = null;
                }

                var tmp1_elvis_lhs = tmp_12;
                var tmp_13;
                if (tmp1_elvis_lhs == null) {
                  this.h60_1;
                  get_LOGGER().u3n('None of the registered converters match request Content-Type=' + this.n60_1.toString() + '. ' + ('Skipping ContentNegotiation for ' + this.j60_1.g4q_1.toString() + '.'));
                  return null;
                } else {
                  tmp_13 = tmp1_elvis_lhs;
                }

                tmp_11.o60_1 = tmp_13;
                if (this.j60_1.g5m() == null) {
                  get_LOGGER().u3n('Request has unknown body type. Skipping ContentNegotiation for ' + this.j60_1.g4q_1.toString() + '.');
                  return null;
                }

                this.j60_1.i4q_1.m3j(HttpHeaders_getInstance().k3r_1);
                var tmp_14 = this;
                tmp_14.p60_1 = this.o60_1;
                this.fd_1 = 1;
                continue $sm;
              case 1:
                this.r60_1 = this.p60_1;
                this.s60_1 = this.r60_1.x();
                this.fd_1 = 2;
                continue $sm;
              case 2:
                if (!this.s60_1.y()) {
                  this.fd_1 = 5;
                  continue $sm;
                }

                this.t60_1 = this.s60_1.z();
                var tmp_15 = this;
                tmp_15.u60_1 = this.t60_1;
                this.v60_1 = this.u60_1;
                this.fd_1 = 3;
                var tmp0_elvis_lhs_1 = charset(this.n60_1);
                var tmp_16 = tmp0_elvis_lhs_1 == null ? Charsets_getInstance().a3g_1 : tmp0_elvis_lhs_1;
                var tmp_17 = ensureNotNull(this.j60_1.g5m());
                var this_0 = this.k60_1;
                var tmp_18;
                if (!equals(this_0, NullBody_instance)) {
                  tmp_18 = this_0;
                } else {
                  tmp_18 = null;
                }

                suspendResult = this.v60_1.m5z_1.v62(this.n60_1, tmp_16, tmp_17, tmp_18, this);
                if (suspendResult === get_COROUTINE_SUSPENDED()) {
                  return suspendResult;
                }

                continue $sm;
              case 3:
                var result = suspendResult;
                if (!(result == null)) {
                  get_LOGGER().u3n('Converted request body using ' + toString(this.v60_1.m5z_1) + ' for ' + this.j60_1.g4q_1.toString());
                }

                var result_0 = result;
                if (!(result_0 == null)) {
                  this.q60_1 = result_0;
                  this.fd_1 = 6;
                  continue $sm;
                } else {
                  this.fd_1 = 4;
                  continue $sm;
                }

              case 4:
                this.fd_1 = 2;
                continue $sm;
              case 5:
                this.q60_1 = null;
                if (false) {
                  this.fd_1 = 1;
                  continue $sm;
                }

                this.fd_1 = 6;
                continue $sm;
              case 6:
                var tmp2_elvis_lhs = this.q60_1;
                var tmp_19;
                if (tmp2_elvis_lhs == null) {
                  var tmp_20 = "Can't convert " + toString(this.k60_1) + ' with contentType ' + this.n60_1.toString() + ' using converters ';
                  throw ContentConverterException().x5z(tmp_20 + joinToString(this.o60_1, VOID, VOID, VOID, VOID, VOID, ContentNegotiation$lambda$convertRequest$lambda));
                } else {
                  tmp_19 = tmp2_elvis_lhs;
                }

                var serializedContent = tmp_19;
                return serializedContent;
              case 7:
                throw this.id_1;
            }
          } catch ($p) {
            var e = $p;
            if (this.gd_1 === 7) {
              throw e;
            } else {
              this.fd_1 = this.gd_1;
              this.id_1 = e;
            }
          }
         while (true);
      }
    }
    initMetadataForCoroutine($);
    $invoke$convertRequestCOROUTINE$Class = $;
  }
  return $invoke$convertRequestCOROUTINE$Class;
}
var $invoke$convertResponseCOROUTINE$Class;
function $invoke$convertResponseCOROUTINE$() {
  if ($invoke$convertResponseCOROUTINE$Class === VOID) {
    class $ extends CoroutineImpl() {
      constructor(ignoredTypes, registrations, $this_createClientPlugin, requestUrl, info, body, responseContentType, charset, resultContinuation) {
        super(resultContinuation);
        this.e61_1 = ignoredTypes;
        this.f61_1 = registrations;
        this.g61_1 = $this_createClientPlugin;
        this.h61_1 = requestUrl;
        this.i61_1 = info;
        this.j61_1 = body;
        this.k61_1 = responseContentType;
        this.l61_1 = charset;
      }
      nd() {
        var suspendResult = this.hd_1;
        $sm: do
          try {
            var tmp = this.fd_1;
            switch (tmp) {
              case 0:
                this.gd_1 = 2;
                var tmp_0 = this.j61_1;
                if (!isInterface(tmp_0, ByteReadChannel())) {
                  get_LOGGER().u3n('Response body is already transformed. Skipping ContentNegotiation for ' + this.h61_1.toString() + '.');
                  return null;
                }

                if (this.e61_1.j1(this.i61_1.g3n_1)) {
                  get_LOGGER().u3n('Response body type ' + toString(this.i61_1.g3n_1) + ' is in ignored types. ' + ('Skipping ContentNegotiation for ' + this.h61_1.toString() + '.'));
                  return null;
                }

                var tmp_1 = this;
                var tmp0 = this.f61_1;
                var destination = ArrayList().g1();
                var _iterator__ex2g4s = tmp0.x();
                while (_iterator__ex2g4s.y()) {
                  var element = _iterator__ex2g4s.z();
                  if (element.o5z_1.q5z(this.k61_1)) {
                    destination.i(element);
                  }
                }

                var destination_0 = ArrayList().w(collectionSizeOrDefault(destination, 10));
                var _iterator__ex2g4s_0 = destination.x();
                while (_iterator__ex2g4s_0.y()) {
                  var item = _iterator__ex2g4s_0.z();
                  destination_0.i(item.m5z_1);
                }

                var tmp_2;
                if (!destination_0.h1()) {
                  tmp_2 = destination_0;
                } else {
                  tmp_2 = null;
                }

                var tmp0_elvis_lhs = tmp_2;
                var tmp_3;
                if (tmp0_elvis_lhs == null) {
                  this.g61_1;
                  get_LOGGER().u3n('None of the registered converters match response with Content-Type=' + this.k61_1.toString() + '. ' + ('Skipping ContentNegotiation for ' + this.h61_1.toString() + '.'));
                  return null;
                } else {
                  tmp_3 = tmp0_elvis_lhs;
                }

                tmp_1.m61_1 = tmp_3;
                this.fd_1 = 1;
                suspendResult = deserialize(this.m61_1, this.j61_1, this.i61_1, this.l61_1, this);
                if (suspendResult === get_COROUTINE_SUSPENDED()) {
                  return suspendResult;
                }

                continue $sm;
              case 1:
                var result = suspendResult;
                if (!isInterface(result, ByteReadChannel())) {
                  get_LOGGER().u3n('Response body was converted to ' + toString(getKClassFromExpression(result)) + ' for ' + this.h61_1.toString() + '.');
                }

                return result;
              case 2:
                throw this.id_1;
            }
          } catch ($p) {
            var e = $p;
            if (this.gd_1 === 2) {
              throw e;
            } else {
              this.fd_1 = this.gd_1;
              this.id_1 = e;
            }
          }
         while (true);
      }
    }
    initMetadataForCoroutine($);
    $invoke$convertResponseCOROUTINE$Class = $;
  }
  return $invoke$convertResponseCOROUTINE$Class;
}
var properties_initialized_ContentNegotiation_kt_1ayduy;
function _init_properties_ContentNegotiation_kt__o183go() {
  if (!properties_initialized_ContentNegotiation_kt_1ayduy) {
    properties_initialized_ContentNegotiation_kt_1ayduy = true;
    LOGGER = KtorSimpleLogger('io.ktor.client.plugins.contentnegotiation.ContentNegotiation');
    DefaultCommonIgnoredTypes = setOf([PrimitiveClasses_getInstance().qi(), PrimitiveClasses_getInstance().mi(), getKClass(HttpStatusCode()), getKClass(ByteReadChannel()), getKClass(OutgoingContent())]);
    // Inline function 'io.ktor.util.AttributeKey' call
    var name = 'ExcludedContentTypesAttr';
    // Inline function 'io.ktor.util.reflect.typeInfo' call
    var tmp = getKClass(KtList());
    // Inline function 'io.ktor.util.reflect.typeOfOrNull' call
    var tmp_0;
    try {
      tmp_0 = createKType(getKClass(KtList()), arrayOf([createInvariantKTypeProjection(createKType(getKClass(ContentType()), arrayOf([]), false))]), false);
    } catch ($p) {
      var tmp_1;
      if ($p instanceof Error) {
        var _unused_var__etf5q3 = $p;
        tmp_1 = null;
      } else {
        throw $p;
      }
      tmp_0 = tmp_1;
    }
    var tmp$ret$0 = tmp_0;
    var tmp$ret$1 = new (TypeInfo())(tmp, tmp$ret$0);
    ExcludedContentTypes = new (AttributeKey())(name, tmp$ret$1);
    var tmp_2 = ContentNegotiationConfig$_init_$ref_1ne3ob();
    ContentNegotiation = createClientPlugin('ContentNegotiation', tmp_2, ContentNegotiation$lambda);
  }
}
//region block: exports
export {
  get_ContentNegotiation as get_ContentNegotiationcp59ye9rorjc,
};
//endregion

//# sourceMappingURL=ContentNegotiation.mjs.map
